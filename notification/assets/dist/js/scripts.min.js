!function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(!(t=o(String(t||"").toLowerCase()))||!t.length)return[];var e,n,i,s,c=[],l=t.split(/ +/);for(e=0,n=l.length;e<n;e++){if(i=r(l[e]),this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(i=i.replace(new RegExp(s,"g"),a[s]));c.push({string:l[e],regex:new RegExp(i,"i")})}return c},t.prototype.iterator=function(t,e){var n;n=s(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},n.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,o,r,s,a;n=this,t=n.prepareSearch(t,e),r=t.tokens,o=t.options.fields,s=r.length,a=t.options.nesting;var c=function(t,e){var n,i;return t?(t=String(t||""),-1===(i=t.search(e.regex))?0:(n=e.string.length/t.length,0===i&&(n+=.5),n)):0},l=function(){var t=o.length;return t?1===t?function(t,e){return c(i(e,o[0],a),t)}:function(e,n){for(var r=0,s=0;r<t;r++)s+=c(i(n,o[r],a),e);return s/t}:function(){return 0}}();return s?1===s?function(t){return l(r[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<s;n++){if((e=l(r[n],t))<=0)return 0;i+=e}return i/s}:function(t){for(var e=0,n=0;e<s;e++)n+=l(r[e],t);return n/s}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var o,r,s,a,c,l,u,d,p,f,h;if(s=this,t=s.prepareSearch(t,n),h=!t.query&&n.sort_empty||n.sort,p=function(t,e){return"$score"===t?e.score:i(s.items[e.id],t,n.nesting)},c=[],h)for(o=0,r=h.length;o<r;o++)(t.query||"$score"!==h[o].field)&&c.push(h[o]);if(t.query){for(f=!0,o=0,r=c.length;o<r;o++)if("$score"===c[o].field){f=!1;break}f&&c.unshift({field:"$score",direction:"desc"})}else for(o=0,r=c.length;o<r;o++)if("$score"===c[o].field){c.splice(o,1);break}for(d=[],o=0,r=c.length;o<r;o++)d.push("desc"===c[o].direction?-1:1);return l=c.length,l?1===l?(a=c[0].field,u=d[0],function(t,n){return u*e(p(a,t),p(a,n))}):function(t,n){var i,o,r;for(i=0;i<l;i++)if(r=c[i].field,o=d[i]*e(p(r,t),p(r,n)))return o;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;e=n({},e);var i=e.fields,o=e.sort,r=e.sort_empty;return i&&!s(i)&&(e.fields=[i]),o&&!s(o)&&(e.sort=[o]),r&&!s(r)&&(e.sort_empty=[r]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,i,o,r,s=this;return i=this.prepareSearch(t,e),e=i.options,t=i.query,r=e.score||s.getScoreFunction(i),t.length?s.iterator(s.items,function(t,o){n=r(t),(!1===e.filter||n>0)&&i.items.push({score:n,id:o})}):s.iterator(s.items,function(t,e){i.items.push({score:1,id:e})}),o=s.getSortFunction(i,e),o&&i.items.sort(o),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=c(String(t||"")),e=c(String(e||"")),t>e?1:e>t?-1:0)},n=function(t,e){var n,i,o,r;for(n=1,i=arguments.length;n<i;n++)if(r=arguments[n])for(o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);return t},i=function(t,e,n){if(t&&e){if(!n)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}},o=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},r=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={a:"[aá¸€á¸Ä‚ÄƒÃ‚Ã¢ÇÇŽÈºâ±¥È¦È§áº áº¡Ã„Ã¤Ã€Ã ÃÃ¡Ä€ÄÃƒÃ£Ã…Ã¥Ä…Ä„ÃƒÄ…Ä„]",b:"[bâ¢Î²Î’Bà¸¿ðŒá›’]",c:"[cÄ†Ä‡ÄˆÄ‰ÄŒÄÄŠÄ‹CÌ„cÌ„Ã‡Ã§á¸ˆá¸‰È»È¼Æ‡ÆˆÉ•á´„ï¼£ï½ƒ]",d:"[dÄŽÄá¸Šá¸‹á¸á¸‘á¸Œá¸á¸’á¸“á¸Žá¸ÄÄ‘DÌ¦dÌ¦Æ‰É–ÆŠÉ—Æ‹ÆŒáµ­á¶á¶‘È¡á´…ï¼¤ï½„Ã°]",e:"[eÃ‰Ã©ÃˆÃ¨ÃŠÃªá¸˜á¸™ÄšÄ›Ä”Ä•áº¼áº½á¸šá¸›áººáº»Ä–Ä—Ã‹Ã«Ä’Ä“È¨È©Ä˜Ä™á¶’É†É‡È„È…áº¾áº¿á»€á»á»„á»…á»‚á»ƒá¸œá¸á¸–á¸—á¸”á¸•È†È‡áº¸áº¹á»†á»‡â±¸á´‡ï¼¥ï½…É˜ÇÆÆÎµ]",f:"[fÆ‘Æ’á¸žá¸Ÿ]",g:"[gÉ¢â‚²Ç¤Ç¥ÄœÄÄžÄŸÄ¢Ä£Æ“É Ä Ä¡]",h:"[hÄ¤Ä¥Ä¦Ä§á¸¨á¸©áº–áº–á¸¤á¸¥á¸¢á¸£É¦Ê°Ç¶Æ•]",i:"[iÃÃ­ÃŒÃ¬Ä¬Ä­ÃŽÃ®ÇÇÃÃ¯á¸®á¸¯Ä¨Ä©Ä®Ä¯ÄªÄ«á»ˆá»‰ÈˆÈ‰ÈŠÈ‹á»Šá»‹á¸¬á¸­Æ—É¨É¨Ì†áµ»á¶–Ä°iIÄ±Éªï¼©ï½‰]",j:"[jÈ·Ä´ÄµÉˆÉ‰ÊÉŸÊ²]",k:"[kÆ˜Æ™ê€êá¸°á¸±Ç¨Ç©á¸²á¸³á¸´á¸µÎºÏ°â‚­]",l:"[lÅÅ‚Ä½Ä¾Ä»Ä¼Ä¹Äºá¸¶á¸·á¸¸á¸¹á¸¼á¸½á¸ºá¸»Ä¿Å€È½Æšâ± â±¡â±¢É«É¬á¶…É­È´ÊŸï¼¬ï½Œ]",n:"[nÅƒÅ„Ç¸Ç¹Å‡ÅˆÃ‘Ã±á¹„á¹…Å…Å†á¹†á¹‡á¹Šá¹‹á¹ˆá¹‰NÌˆnÌˆÆÉ²È Æžáµ°á¶‡É³ÈµÉ´ï¼®ï½ŽÅŠÅ‹]",o:"[oÃ˜Ã¸Ã–Ã¶Ã“Ã³Ã’Ã²Ã”Ã´Ç‘Ç’ÅÅ‘ÅŽÅÈ®È¯á»Œá»ÆŸÉµÆ Æ¡á»Žá»ÅŒÅÃ•ÃµÇªÇ«ÈŒÈÕ•Ö…]",p:"[pá¹”á¹•á¹–á¹—â±£áµ½Æ¤Æ¥áµ±]",q:"[qê–ê—Ê ÉŠÉ‹ê˜ê™qÌƒ]",r:"[rÅ”Å•ÉŒÉÅ˜Å™Å–Å—á¹˜á¹™ÈÈ‘È’È“á¹šá¹›â±¤É½]",s:"[sÅšÅ›á¹ á¹¡á¹¢á¹£êž¨êž©ÅœÅÅ Å¡ÅžÅŸÈ˜È™SÌˆsÌˆ]",t:"[tÅ¤Å¥á¹ªá¹«Å¢Å£á¹¬á¹­Æ®ÊˆÈšÈ›á¹°á¹±á¹®á¹¯Æ¬Æ­]",u:"[uÅ¬Å­É„Ê‰á»¤á»¥ÃœÃ¼ÃšÃºÃ™Ã¹Ã›Ã»Ç“Ç”Å°Å±Å¬Å­Æ¯Æ°á»¦á»§ÅªÅ«Å¨Å©Å²Å³È”È•âˆª]",v:"[vá¹¼á¹½á¹¾á¹¿Æ²Ê‹êžêŸâ±±Ê‹]",w:"[wáº‚áºƒáº€áºÅ´Åµáº„áº…áº†áº‡áºˆáº‰]",x:"[xáºŒáºáºŠáº‹Ï‡]",y:"[yÃÃ½á»²á»³Å¶Å·Å¸Ã¿á»¸á»¹áºŽáºá»´á»µÉŽÉÆ³Æ´]",z:"[zÅ¹Åºáºáº‘Å½Å¾Å»Å¼áº’áº“áº”áº•ÆµÆ¶]"},c=function(){var t,e,n,i,o="",r={};for(n in a)if(a.hasOwnProperty(n))for(i=a[n].substring(2,a[n].length-1),o+=i,t=0,e=i.length;t<e;t++)r[i.charAt(t)]=n;var s=new RegExp("["+o+"]","g");return function(t){return t.replace(s,function(t){return r[t]}).toLowerCase()}}();return t}),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={};t.mixin=function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,i,o,r=this,s=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,i=t.length;n<i;n++)"string"==typeof t[n]?s.push(t[n]):(r.plugins.settings[t[n].name]=t[n].options,s.push(t[n].name));else if(t)for(o in t)t.hasOwnProperty(o)&&(r.plugins.settings[o]=t[o],s.push(o));for(;s.length;)r.require(s.shift())},t.prototype.loadPlugin=function(e){var n=this,i=n.plugins,o=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=o.fn.apply(n,[n.plugins.settings[e]||{}]),i.names.push(e)},t.prototype.require=function(t){var e=this,n=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(n.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return n.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}};var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(t,e,n){"use strict";var i=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,i=function(t){var e=0;if(3===t.nodeType){var o=t.data.search(n);if(o>=0&&t.data.length>0){var r=t.data.match(n),s=document.createElement("span");s.className="highlight";var a=t.splitText(o),c=(a.splitText(r[0].length),a.cloneNode(!0));s.appendChild(c),a.parentNode.replaceChild(s,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var l=0;l<t.childNodes.length;++l)l+=i(t.childNodes[l]);return e};return t.each(function(){i(this)})}};t.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var o=function(){};o.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=o.prototype[e[n]]};var r=/Mac/.test(navigator.userAgent),s=r?91:17,a=r?18:17,c=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,l=function(t){return void 0!==t},u=function(t){return void 0===t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},d=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},p={};p.before=function(t,e,n){var i=t[e];t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)}},p.after=function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}};var f=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},h=function(t,e){var n;return function(){var i=this,o=arguments;window.clearTimeout(n),n=window.setTimeout(function(){t.apply(i,o)},e)}},g=function(t,e,n){var i,o=t.trigger,r={};t.trigger=function(){var n=arguments[0];if(-1===e.indexOf(n))return o.apply(t,arguments);r[n]=arguments},n.apply(t,[]),t.trigger=o;for(i in r)r.hasOwnProperty(i)&&o.apply(t,r[i])},v=function(t,e,n,i){t.on(e,n,function(e){for(var n=e.target;n&&n.parentNode!==t[0];)n=n.parentNode;return e.currentTarget=n,i.apply(this,[e])})},m=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-i,e.length=i}return e},y=function(t,e,n){var i,o,r={};if(n)for(i=0,o=n.length;i<o;i++)r[n[i]]=t.css(n[i]);else r=t.css();e.css(r)},w=function(e,n){if(!e)return 0;var i=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");y(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=i.width();return i.remove(),o},b=function(t){var e=null,n=function(n,i){var o,r,s,a,c,l,u,d;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||!1!==t.data("grow"))&&(o=t.val(),n.type&&"keydown"===n.type.toLowerCase()&&(r=n.keyCode,s=r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||32===r,46===r||8===r?(d=m(t[0]),d.length?o=o.substring(0,d.start)+o.substring(d.start+d.length):8===r&&d.start?o=o.substring(0,d.start-1)+o.substring(d.start+1):46===r&&void 0!==d.start&&(o=o.substring(0,d.start)+o.substring(d.start+1))):s&&(l=n.shiftKey,u=String.fromCharCode(n.keyCode),u=l?u.toUpperCase():u.toLowerCase(),o+=u)),a=t.attr("placeholder"),!o&&a&&(o=a),(c=w(o,t)+4)!==e&&(e=c,t.width(c),t.triggerHandler("resize")))};t.on("keydown keyup update blur",n),n()},C=function(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML},x=function(n,i){var o,r,s,a,c=this;a=n[0],a.selectize=c;var l=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=l?l.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,s=s||n.parents("[dir]:first").attr("dir")||"",t.extend(c,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++x.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?c.onSearchChange:h(c.onSearchChange,i.loadThrottle)}),c.sifter=new e(this.options,{diacritics:i.diacritics}),c.settings.options){for(o=0,r=c.settings.options.length;o<r;o++)c.registerOption(c.settings.options[o]);delete c.settings.options}if(c.settings.optgroups){for(o=0,r=c.settings.optgroups.length;o<r;o++)c.registerOptionGroup(c.settings.optgroups[o]);delete c.settings.optgroups}c.settings.mode=c.settings.mode||(1===c.settings.maxItems?"single":"multi"),"boolean"!=typeof c.settings.hideSelected&&(c.settings.hideSelected="multi"===c.settings.mode),c.initializePlugins(c.settings.plugins),c.setupCallbacks(),c.setupTemplates(),c.setup()};return o.mixin(x),void 0!==n?n.mixin(x):function(t,e){e||(e={});console.error("Selectize: "+t),e.explanation&&(console.group&&console.group(),console.error(e.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),t.extend(x.prototype,{setup:function(){var e,n,i,o,l,u,d,p,f,h,g=this,m=g.settings,y=g.eventNS,w=t(window),C=t(document),x=g.$input;if(d=g.settings.mode,p=x.attr("class")||"",e=t("<div>").addClass(m.wrapperClass).addClass(p).addClass(d),n=t("<div>").addClass(m.inputClass).addClass("items").appendTo(e),i=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",x.is(":disabled")?"-1":g.tabIndex),u=t(m.dropdownParent||e),o=t("<div>").addClass(m.dropdownClass).addClass(d).hide().appendTo(u),l=t("<div>").addClass(m.dropdownContentClass).appendTo(o),(h=x.attr("id"))&&(i.attr("id",h+"-selectized"),t("label[for='"+h+"']").attr("for",h+"-selectized")),g.settings.copyClassesToDropdown&&o.addClass(p),e.css({width:x[0].style.width}),g.plugins.names.length&&(f="plugin-"+g.plugins.names.join(" plugin-"),e.addClass(f),o.addClass(f)),(null===m.maxItems||m.maxItems>1)&&1===g.tagType&&x.attr("multiple","multiple"),g.settings.placeholder&&i.attr("placeholder",m.placeholder),!g.settings.splitOn&&g.settings.delimiter){var O=g.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");g.settings.splitOn=new RegExp("\\s*"+O+"+\\s*")}x.attr("autocorrect")&&i.attr("autocorrect",x.attr("autocorrect")),x.attr("autocapitalize")&&i.attr("autocapitalize",x.attr("autocapitalize")),g.$wrapper=e,g.$control=n,g.$control_input=i,g.$dropdown=o,g.$dropdown_content=l,o.on("mouseenter","[data-selectable]",function(){return g.onOptionHover.apply(g,arguments)}),o.on("mousedown click","[data-selectable]",function(){return g.onOptionSelect.apply(g,arguments)}),v(n,"mousedown","*:not(input)",function(){return g.onItemSelect.apply(g,arguments)}),b(i),n.on({mousedown:function(){return g.onMouseDown.apply(g,arguments)},click:function(){return g.onClick.apply(g,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return g.onKeyDown.apply(g,arguments)},keyup:function(){return g.onKeyUp.apply(g,arguments)},keypress:function(){return g.onKeyPress.apply(g,arguments)},resize:function(){g.positionDropdown.apply(g,[])},blur:function(){return g.onBlur.apply(g,arguments)},focus:function(){return g.ignoreBlur=!1,g.onFocus.apply(g,arguments)},paste:function(){return g.onPaste.apply(g,arguments)}}),C.on("keydown"+y,function(t){g.isCmdDown=t[r?"metaKey":"ctrlKey"],g.isCtrlDown=t[r?"altKey":"ctrlKey"],g.isShiftDown=t.shiftKey}),C.on("keyup"+y,function(t){t.keyCode===a&&(g.isCtrlDown=!1),16===t.keyCode&&(g.isShiftDown=!1),t.keyCode===s&&(g.isCmdDown=!1)}),C.on("mousedown"+y,function(t){if(g.isFocused){if(t.target===g.$dropdown[0]||t.target.parentNode===g.$dropdown[0])return!1;g.$control.has(t.target).length||t.target===g.$control[0]||g.blur(t.target)}}),w.on(["scroll"+y,"resize"+y].join(" "),function(){g.isOpen&&g.positionDropdown.apply(g,arguments)}),w.on("mousemove"+y,function(){g.ignoreHover=!1}),this.revertSettings={$children:x.children().detach(),tabindex:x.attr("tabindex")},x.attr("tabindex",-1).hide().after(g.$wrapper),t.isArray(m.items)&&(g.setValue(m.items),delete m.items),c&&x.on("invalid"+y,function(t){t.preventDefault(),g.isInvalid=!0,g.refreshState()}),g.updateOriginalInput(),g.refreshItems(),g.refreshState(),g.updatePlaceholder(),g.isSetup=!0,x.is(":disabled")&&g.disable(),g.on("change",this.onChange),x.data("selectize",g),x.addClass("selectized"),g.trigger("initialize"),!0===m.preload&&g.onSearchChange("")},setupTemplates:function(){var e=this,n=e.settings.labelField,i=e.settings.optgroupLabelField,o={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[n])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[n])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};e.settings.render=t.extend({},o,e.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]])&&this.on(t,e)},onClick:function(t){var e=this;e.isFocused||(e.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,i=e.isDefaultPrevented();t(e.target);if(n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;if(n.isFull()||n.isInputHidden||n.isLocked)return void e.preventDefault();n.settings.splitOn&&setTimeout(function(){var e=n.$control_input.val();if(e.match(n.settings.splitOn))for(var i=t.trim(e).split(n.settings.splitOn),o=0,r=i.length;o<r;o++)n.createItem(i[o])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target,this.$control_input[0],this);if(e.isLocked)return void(9!==t.keyCode&&t.preventDefault());switch(t.keyCode){case 65:if(e.isCmdDown)return void e.selectAll();break;case 27:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,-1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case 13:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case 37:return void e.advanceSelection(-1,t);case 39:return void e.advanceSelection(1,t);case 9:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case 8:case 46:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(r?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var n=e.$control_input.val()||"";e.lastValue!==n&&(e.lastValue=n,e.onSearchChange(n),e.refreshOptions(),e.trigger("type",n))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(i){n.apply(e,[t,i])})))},onFocus:function(t){var e=this,n=e.isFocused;if(e.isDisabled)return e.blur(),t&&t.preventDefault(),!1;e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),n||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),e&&e.focus&&e.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,i,o=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),i=t(e.currentTarget),i.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):void 0!==(n=i.attr("data-value"))&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(n),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&o.setActiveOption(o.getOption(n)))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){g(this,e?[]:["change"],function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,n){var i,o,r,s,a,c,l,u,d=this;if("single"!==d.settings.mode){if(e=t(e),!e.length)return t(d.$activeItems).removeClass("active"),d.$activeItems=[],void(d.isFocused&&d.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&d.isShiftDown&&d.$activeItems.length){for(u=d.$control.children(".active:last"),s=Array.prototype.indexOf.apply(d.$control[0].childNodes,[u[0]]),a=Array.prototype.indexOf.apply(d.$control[0].childNodes,[e[0]]),s>a&&(l=s,s=a,a=l),o=s;o<=a;o++)c=d.$control[0].childNodes[o],-1===d.$activeItems.indexOf(c)&&(t(c).addClass("active"),d.$activeItems.push(c));n.preventDefault()}else"mousedown"===i&&d.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(r=d.$activeItems.indexOf(e[0]),d.$activeItems.splice(r,1),e.removeClass("active")):d.$activeItems.push(e.addClass("active")[0]):(t(d.$activeItems).removeClass("active"),d.$activeItems=[e.addClass("active")[0]]);d.hideInput(),this.isFocused||d.focus()}},setActiveOption:function(e,n,i){var o,r,s,a,c,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,e=t(e),e.length&&(u.$activeOption=e.addClass("active"),!n&&l(n)||(o=u.$dropdown_content.height(),r=u.$activeOption.outerHeight(!0),n=u.$dropdown_content.scrollTop()||0,s=u.$activeOption.offset().top-u.$dropdown_content.offset().top+n,a=s,c=s-o+r,s+r>o+n?u.$dropdown_content.stop().animate({scrollTop:c},i?u.settings.scrollDuration:0):s<n&&u.$dropdown_content.stop().animate({scrollTop:a},i?u.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,i,o,r=this,s=r.settings,a=this.getSearchOptions();if(s.score&&"function"!=typeof(o=r.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==r.lastQuery?(r.lastQuery=e,i=r.sifter.search(e,t.extend(a,{score:o})),r.currentResults=i):i=t.extend(!0,{},r.currentResults),s.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==r.items.indexOf(u(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(e){var n,o,r,s,a,c,l,d,p,f,h,g,v,m,y,w;void 0===e&&(e=!0);var b=this,x=t.trim(b.$control_input.val()),O=b.search(x),$=b.$dropdown_content,k=b.$activeOption&&u(b.$activeOption.attr("data-value"));for(s=O.items.length,"number"==typeof b.settings.maxOptions&&(s=Math.min(s,b.settings.maxOptions)),a={},c=[],n=0;n<s;n++)for(l=b.options[O.items[n].id],d=b.render("option",l),p=l[b.settings.optgroupField]||"",f=t.isArray(p)?p:[p],o=0,r=f&&f.length;o<r;o++)p=f[o],b.optgroups.hasOwnProperty(p)||(p=""),a.hasOwnProperty(p)||(a[p]=document.createDocumentFragment(),c.push(p)),a[p].appendChild(d);for(this.settings.lockOptgroupOrder&&c.sort(function(t,e){return(b.optgroups[t].$order||0)-(b.optgroups[e].$order||0)}),h=document.createDocumentFragment(),n=0,s=c.length;n<s;n++)p=c[n],b.optgroups.hasOwnProperty(p)&&a[p].childNodes.length?(g=document.createDocumentFragment(),g.appendChild(b.render("optgroup_header",b.optgroups[p])),g.appendChild(a[p]),h.appendChild(b.render("optgroup",t.extend({},b.optgroups[p],{html:C(g),dom:g})))):h.appendChild(a[p]);if($.html(h),b.settings.highlight&&O.query.length&&O.tokens.length)for($.removeHighlight(),n=0,s=O.tokens.length;n<s;n++)i($,O.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,s=b.items.length;n<s;n++)b.getOption(b.items[n]).addClass("selected");v=b.canCreate(x),v&&($.prepend(b.render("option_create",{input:x})),w=t($[0].childNodes[0])),b.hasOptions=O.items.length>0||v,b.hasOptions?(O.items.length>0?(y=k&&b.getOption(k),y&&y.length?m=y:"single"===b.settings.mode&&b.items.length&&(m=b.getOption(b.items[0])),m&&m.length||(m=w&&!b.settings.addPrecedence?b.getAdjacentOption(w,1):$.find("[data-selectable]:first"))):m=w,b.setActiveOption(m),e&&!b.isOpen&&b.open()):(b.setActiveOption(null),e&&b.isOpen&&b.close())},addOption:function(e){var n,i,o,r=this;if(t.isArray(e))for(n=0,i=e.length;n<i;n++)r.addOption(e[n]);else(o=r.registerOption(e))&&(r.userOptions[o]=!0,r.lastQuery=null,r.trigger("option_add",o,e))},registerOption:function(t){var e=u(t[this.settings.valueField]);return void 0!==e&&null!==e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=u(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var i,o,r,s,a,c,l,d=this;if(e=u(e),r=u(n[d.settings.valueField]),null!==e&&d.options.hasOwnProperty(e)){if("string"!=typeof r)throw new Error("Value must be set in option data");l=d.options[e].$order,r!==e&&(delete d.options[e],-1!==(s=d.items.indexOf(e))&&d.items.splice(s,1,r)),n.$order=n.$order||l,d.options[r]=n,a=d.renderCache.item,c=d.renderCache.option,a&&(delete a[e],delete a[r]),c&&(delete c[e],delete c[r]),-1!==d.items.indexOf(r)&&(i=d.getItem(e),o=t(d.render("item",n)),i.hasClass("active")&&o.addClass("active"),i.replaceWith(o)),d.lastQuery=null,d.isOpen&&d.refreshOptions(!1)}},removeOption:function(t,e){var n=this;t=u(t);var i=n.renderCache.item,o=n.renderCache.option;i&&delete i[t],o&&delete o[t],delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={},t.options=t.sifter.items={},t.lastQuery=null,t.trigger("option_clear"),t.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},getElementWithValue:function(e,n){if(void 0!==(e=u(e))&&null!==e)for(var i=0,o=n.length;i<o;i++)if(n[i].getAttribute("data-value")===e)return t(n[i]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var i=t.isArray(e)?e:[e],o=0,r=i.length;o<r;o++)this.isPending=o<r-1,this.addItem(i[o],n)},addItem:function(e,n){g(this,n?[]:["change"],function(){var i,o,r,s,a,c=this,l=c.settings.mode;if(e=u(e),-1!==c.items.indexOf(e))return void("single"===l&&c.close());c.options.hasOwnProperty(e)&&("single"===l&&c.clear(n),"multi"===l&&c.isFull()||(i=t(c.render("item",c.options[e])),a=c.isFull(),c.items.splice(c.caretPos,0,e),c.insertAtCaret(i),(!c.isPending||!a&&c.isFull())&&c.refreshState(),c.isSetup&&(r=c.$dropdown_content.find("[data-selectable]"),c.isPending||(o=c.getOption(e),s=c.getAdjacentOption(o,1).attr("data-value"),c.refreshOptions(c.isFocused&&"single"!==l),s&&c.setActiveOption(c.getOption(s))),!r.length||c.isFull()?c.close():c.positionDropdown(),c.updatePlaceholder(),c.trigger("item_add",e,i),c.updateOriginalInput({silent:n}))))})},removeItem:function(e,n){var i,o,r,s=this;i=e instanceof t?e:s.getItem(e),e=u(i.attr("data-value")),-1!==(o=s.items.indexOf(e))&&(i.remove(),i.hasClass("active")&&(r=s.$activeItems.indexOf(i[0]),s.$activeItems.splice(r,1)),s.items.splice(o,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(e)&&s.removeOption(e,n),o<s.caretPos&&s.setCaret(s.caretPos-1),s.refreshState(),s.updatePlaceholder(),s.updateOriginalInput({silent:n}),s.positionDropdown(),s.trigger("item_remove",e,i))},createItem:function(e,n){var i=this,o=i.caretPos;e=e||t.trim(i.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return r(),!1;i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e},a=f(function(t){if(i.unlock(),!t||"object"!=typeof t)return r();var e=u(t[i.settings.valueField]);if("string"!=typeof e)return r();i.setTextboxValue(""),i.addOption(t),i.setCaret(o),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),r(t)}),c=s.apply(this,[e,a]);return void 0!==c&&a(c),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this,n=e.isFull(),i=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!t.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,o,r=this;if(t=t||{},1===r.tagType){for(i=[],e=0,n=r.items.length;e<n;e++)o=r.options[r.items[e]][r.settings.labelField]||"",i.push('<option value="'+d(r.items[e])+'" selected="selected">'+d(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),r.$input.html(i.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(t.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){
var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.$control_input.blur()),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,i,o,r,s,a,c,l,u,d=this;if(o=e&&8===e.keyCode?-1:1,r=m(d.$control_input[0]),d.$activeOption&&!d.settings.hideSelected&&(c=d.getAdjacentOption(d.$activeOption,-1).attr("data-value")),s=[],d.$activeItems.length){for(u=d.$control.children(".active:"+(o>0?"last":"first")),a=d.$control.children(":not(input)").index(u),o>0&&a++,n=0,i=d.$activeItems.length;n<i;n++)s.push(t(d.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(d.isFocused||"single"===d.settings.mode)&&d.items.length&&(o<0&&0===r.start&&0===r.length?s.push(d.items[d.caretPos-1]):o>0&&r.start===d.$control_input.val().length&&s.push(d.items[d.caretPos]));if(!s.length||"function"==typeof d.settings.onDelete&&!1===d.settings.onDelete.apply(d,[s]))return!1;for(void 0!==a&&d.setCaret(a);s.length;)d.removeItem(s.pop());return d.showInput(),d.positionDropdown(),d.refreshOptions(!0),c&&(l=d.getOption(c),l.length&&d.setActiveOption(l)),!0},advanceSelection:function(t,e){var n,i,o,r,s,a=this;0!==t&&(a.rtl&&(t*=-1),n=t>0?"last":"first",i=m(a.$control_input[0]),a.isFocused&&!a.isInputHidden?(r=a.$control_input.val().length,(t<0?0===i.start&&0===i.length:i.start===r)&&!r&&a.advanceCaret(t,e)):(s=a.$control.children(".active:"+n),s.length&&(o=a.$control.children(":not(input)").index(s),a.setActiveItem(null),a.setCaret(t>0?o+1:o))))},advanceCaret:function(t,e){var n,i,o=this;0!==t&&(n=t>0?"next":"prev",o.isShiftDown?(i=o.$control_input[n](),i.length&&(o.hideInput(),o.setActiveItem(i),e&&e.preventDefault())):o.setCaret(o.caretPos+t))},setCaret:function(e){var n=this;if(e="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,e)),!n.isPending){var i,o,r,s;for(r=n.$control.children(":not(input)"),i=0,o=r.length;i<o;i++)s=t(r[i]).detach(),i<e?n.$control_input.before(s):n.$control.append(s)}n.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var e=this,n=e.eventNS,i=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),t(window).off(n),t(document).off(n),t(document.body).off(n),delete e.$input[0].selectize},render:function(e,n){var i,o,r="",s=!1,a=this;return"option"!==e&&"item"!==e||(i=u(n[a.settings.valueField]),s=!!i),s&&(l(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(i))?a.renderCache[e][i]:(r=t(a.settings.render[e].apply(this,[n,d])),"option"===e||"option_create"===e?r.attr("data-selectable",""):"optgroup"===e&&(o=n[a.settings.optgroupValueField]||"",r.attr("data-group",o)),"option"!==e&&"item"!==e||r.attr("data-value",i||""),s&&(a.renderCache[e][i]=r[0]),r[0])},clearCache:function(t){var e=this;void 0===t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var n=e.settings.createFilter;return t.length&&("function"!=typeof n||n.apply(e,[t]))&&("string"!=typeof n||new RegExp(n).test(t))&&(!(n instanceof RegExp)||n.test(t))}}),x.count=0,x.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,i=t.extend({},n,e),o=i.dataAttr,r=i.labelField,s=i.valueField,a=i.optgroupField,c=i.optgroupLabelField,l=i.optgroupValueField,d=function(e,n){var a,c,l,u,d=e.attr(o);if(d)for(n.options=JSON.parse(d),a=0,c=n.options.length;a<c;a++)n.items.push(n.options[a][s]);else{var p=t.trim(e.val()||"");if(!i.allowEmptyOption&&!p.length)return;for(l=p.split(i.delimiter),a=0,c=l.length;a<c;a++)u={},u[r]=l[a],u[s]=l[a],n.options.push(u);n.items=l}},p=function(e,n){var d,p,f,h,g=n.options,v={},m=function(t){var e=o&&t.attr(o);return"string"==typeof e&&e.length?JSON.parse(e):null},y=function(e,o){e=t(e);var c=u(e.val());if(c||i.allowEmptyOption)if(v.hasOwnProperty(c)){if(o){var l=v[c][a];l?t.isArray(l)?l.push(o):v[c][a]=[l,o]:v[c][a]=o}}else{var d=m(e)||{};d[r]=d[r]||e.text(),d[s]=d[s]||c,d[a]=d[a]||o,v[c]=d,g.push(d),e.is(":selected")&&n.items.push(c)}};for(n.maxItems=e.attr("multiple")?null:1,h=e.children(),d=0,p=h.length;d<p;d++)f=h[d].tagName.toLowerCase(),"optgroup"===f?function(e){var i,o,r,s,a;for(e=t(e),r=e.attr("label"),r&&(s=m(e)||{},s[c]=r,s[l]=r,n.optgroups.push(s)),a=t("option",e),i=0,o=a.length;i<o;i++)y(a[i],r)}(h[d]):"option"===f&&y(h[d])};return this.each(function(){if(!this.selectize){var o=t(this),r=this.tagName.toLowerCase(),s=o.attr("placeholder")||o.attr("data-placeholder");s||i.allowEmptyOption||(s=o.children('option[value=""]').text());var a={placeholder:s,options:[],optgroups:[],items:[]};"select"===r?p(o,a):d(o,a),new x(o,t.extend(!0,{},n,a,e))}})},t.fn.selectize.defaults=x.defaults,t.fn.selectize.support={validity:c},x.define("drag_drop",function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var t=n.lock;return function(){var e=n.$control.data("sortable");return e&&e.disable(),t.apply(n,arguments)}}(),n.unlock=function(){var t=n.unlock;return function(){var e=n.$control.data("sortable");return e&&e.enable(),t.apply(n,arguments)}}(),n.setup=function(){var e=n.setup;return function(){e.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var e=n.$activeItems?n.$activeItems.slice():null,o=[];i.children("[data-value]").each(function(){o.push(t(this).attr("data-value"))}),n.setValue(o),n.setActiveItem(e)}})}}()}}),x.define("dropdown_header",function(e){var n=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=t(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)}}()}),x.define("optgroup_columns",function(e){var n=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var i=e.closest("[data-group]").find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},this.onKeyDown=function(){var t=n.onKeyDown;return function(e){var i,o,r,s;return!this.isOpen||37!==e.keyCode&&39!==e.keyCode?t.apply(this,arguments):(n.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),i=s.find("[data-selectable]").index(this.$activeOption),s=37===e.keyCode?s.prev("[data-group]"):s.next("[data-group]"),r=s.find("[data-selectable]"),o=r.eq(Math.min(r.length-1,i)),void(o.length&&this.setActiveOption(o)))}}();var i=function(){var t,e=i.width,n=document;return void 0===e&&(t=n.createElement("div"),t.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=i.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},o=function(){var o,r,s,a,c,l,u;if(u=t("[data-group]",n.$dropdown_content),(r=u.length)&&n.$dropdown_content.width()){if(e.equalizeHeight){for(s=0,o=0;o<r;o++)s=Math.max(s,u.eq(o).height());u.css({height:s})}e.equalizeWidth&&(l=n.$dropdown_content.innerWidth()-i(),a=Math.round(l/r),u.css({width:a}),r>1&&(c=l-a*(r-1),u.eq(r-1).css({width:c})))}};(e.equalizeHeight||e.equalizeWidth)&&(p.after(this,"positionDropdown",o),p.after(this,"refreshOptions",o))}),x.define("remove_button",function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);if("single"===this.settings.mode)return void function(e,n){n.className="remove-single";var i=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+d(n.title)+'">'+n.label+"</a>",r=function(t,e){return t+e};e.setup=function(){var s=i.setup;return function(){if(n.append){var a=t(i.$input.context).attr("id"),c=(t("#"+a),i.settings.render.item);i.settings.render.item=function(t){return r(c.apply(e,arguments),o)}}s.apply(e,arguments),e.$control.on("click","."+n.className,function(t){t.preventDefault(),i.isLocked||i.clear()})}}()}(this,e);!function(e,n){var i=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+d(n.title)+'">'+n.label+"</a>",r=function(t,e){var n=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,n)+e+t.substring(n)};e.setup=function(){var s=i.setup;return function(){if(n.append){var a=i.settings.render.item;i.settings.render.item=function(t){return r(a.apply(e,arguments),o)}}s.apply(e,arguments),e.$control.on("click","."+n.className,function(e){if(e.preventDefault(),!i.isLocked){var n=t(e.currentTarget).parent();i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length)}})}}()}(this,e)}),x.define("restore_on_backspace",function(t){var e=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=function(){var n=e.onKeyDown;return function(e){var i,o;return 8===e.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(o=this.options[this.items[i]],this.deleteSelection(e)&&(this.setTextboxValue(t.text.apply(this,[o])),this.refreshOptions(!0)),void e.preventDefault()):n.apply(this,arguments)}}()}),x}),function(t,e){function n(e,n){n=n||{};var i=this,o=n.query||"> :even";t.extend(i,{$el:e,options:n,sections:[],isAccordion:n.accordion||!1,db:!!n.persist&&jQueryCollapseStorage(e.get(0).id)}),i.states=i.db?i.db.read():[],i.$el.find(o).each(function(){new jQueryCollapseSection(t(this),i)}),function(e){i.$el.on("click","[data-collapse-summary] "+(e.options.clickQuery||""),t.proxy(i.handleClick,e)),i.$el.bind("toggle close open",t.proxy(i.handleEvent,e))}(i)}function i(e,n){n.options.clickQuery||e.wrapInner('<a href="#"/>'),t.extend(this,{isOpen:!1,$summary:e.attr("data-collapse-summary",""),$details:e.next(),options:n.options,parent:n}),n.sections.push(this);var i=n.states[this._index()];0===i?this.close(!0):this.$summary.is(".open")||1===i?this.open(!0):this.close(!0)}n.prototype={handleClick:function(e,n){e.preventDefault(),n=n||"toggle";for(var i=this.sections,o=i.length;o--;)if(t.contains(i[o].$summary[0],e.target)){i[o][n]();break}},handleEvent:function(t){if(t.target==this.$el.get(0))return this[t.type]();this.handleClick(t,t.type)},open:function(t){this._change("open",t)},close:function(t){this._change("close",t)},toggle:function(t){this._change("toggle",t)},_change:function(e,n){if(isFinite(n))return this.sections[n][e]();t.each(this.sections,function(t,n){n[e]()})}},i.prototype={toggle:function(){this.isOpen?this.close():this.open()},close:function(t){this._changeState("close",t)},open:function(e){var n=this;n.options.accordion&&!e&&t.each(n.parent.sections,function(t,e){e.close()}),n._changeState("open",e)},_index:function(){return t.inArray(this,this.parent.sections)},_changeState:function(e,n){var i=this;i.isOpen="open"==e,t.isFunction(i.options[e])&&!n?i.options[e].apply(i.$details):i.$details[i.isOpen?"show":"hide"](),i.$summary.toggleClass("open","close"!==e),i.$details.attr("aria-hidden","close"===e),i.$summary.attr("aria-expanded","open"===e),i.$summary.trigger("open"===e?"opened":"closed",i),i.parent.db&&i.parent.db.write(i._index(),i.isOpen)}},t.fn.extend({collapse:function(e,i){return(i?t("body").find("[data-collapse]"):t(this)).each(function(){var o=i?{}:e,r=t(this).attr("data-collapse")||"";t.each(r.split(" "),function(t,e){e&&(o[e]=!0)}),new n(t(this),o)})}}),e.jQueryCollapse=n,e.jQueryCollapseSection=i,t(function(){t.fn.collapse(!1,!0)})}(window.jQuery,window),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n||t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){var i=t("matches-selector");e.exports=function(t,e,n){for(var o=n?t:t.parentNode;o&&o!==document;){if(i(o,e))return o;o=o.parentNode}}},{"matches-selector":5}],2:[function(t,e,n){function i(t,e,n,i,r){var s=o.apply(this,arguments);return t.addEventListener(n,s,r),{destroy:function(){t.removeEventListener(n,s,r)}}}function o(t,e,n,i){return function(n){n.delegateTarget=r(n.target,e,!0),n.delegateTarget&&i.call(t,n)}}var r=t("closest");e.exports=i},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return o(t,e,n);if(a.nodeList(t))return r(t,e,n);if(a.string(t))return s(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function s(t,e,n){return c(document.body,t,e,n)}var a=t("./is"),c=t("delegate");e.exports=i},{"./is":3,delegate:2}],5:[function(t,e,n){function i(t,e){if(r)return r.call(t,e);for(var n=t.parentNode.querySelectorAll(e),i=0;i<n.length;++i)if(n[i]==t)return!0;return!1}var o=Element.prototype,r=o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector;e.exports=i},{}],6:[function(t,e,n){function i(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e=n.toString()}return e}e.exports=i},{}],7:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){o.off(t,i),e.apply(n,arguments)}var o=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,o=n.length;for(i;i<o;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],o=[];if(i&&e)for(var r=0,s=i.length;r<s;r++)i[r].fn!==e&&i[r].fn._!==e&&o.push(i[r]);return o.length?n[t]=o:delete n[t],this}},e.exports=i},{}],8:[function(e,n,i){!function(o,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if(void 0!==i)r(n,e("select"));else{var s={exports:{}};r(s,o.select),o.clipboardAction=s.exports}}(this,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(t){return t&&t.__esModule?t:{default:t}}(e),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,i.default)(this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},r(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s})},{select:6}],9:[function(e,n,i){!function(o,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if(void 0!==i)r(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var s={exports:{}};r(s,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=s.exports}}(this,function(t,e,n,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=o(e),u=o(n),d=o(i),p=function(t){function e(n,i){r(this,e);var o=s(this,t.call(this));return o.resolveOptions(i),o.listenClick(n),o}return a(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,d.default)(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return c("action",t)},e.prototype.defaultTarget=function(t){var e=c("target",t);if(e)return document.querySelector(e)},e.prototype.defaultText=function(t){return c("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(u.default);t.exports=p})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),function(t,e){"use strict";var n=function(){function t(t,e,n,i){return"string"==typeof t&&"function"==typeof e&&(n=parseInt(n||10,10),a("actions",t,e,n,i)),d}function e(){var t=u.call(arguments),e=t.shift();return"string"==typeof e&&l("actions",e,t),d}function n(t,e){return"string"==typeof t&&s("actions",t,e),d}function i(t,e,n,i){return"string"==typeof t&&"function"==typeof e&&(n=parseInt(n||10,10),a("filters",t,e,n,i)),d}function o(){var t=u.call(arguments),e=t.shift();return"string"==typeof e?l("filters",e,t):d}function r(t,e){return"string"==typeof t&&s("filters",t,e),d}function s(t,e,n,i){var o,r,s;if(p[t][e])if(n)if(o=p[t][e],i)for(s=o.length;s--;)r=o[s],r.callback===n&&r.context===i&&o.splice(s,1);else for(s=o.length;s--;)o[s].callback===n&&o.splice(s,1);else p[t][e]=[]}function a(t,e,n,i,o){var r={callback:n,priority:i,context:o},s=p[t][e];s?(s.push(r),s=c(s)):s=[r],p[t][e]=s}function c(t){for(var e,n,i,o=1,r=t.length;o<r;o++){for(e=t[o],n=o;(i=t[n-1])&&i.priority>e.priority;)t[n]=t[n-1],--n;t[n]=e}return t}function l(t,e,n){var i,o,r=p[t][e];if(!r)return"filters"===t&&n[0];if(o=r.length,"filters"===t)for(i=0;i<o;i++)n[0]=r[i].callback.apply(r[i].context,n);else for(i=0;i<o;i++)r[i].callback.apply(r[i].context,n);return"filters"!==t||n[0]}var u=Array.prototype.slice,d={removeFilter:r,applyFilters:o,addFilter:i,removeAction:n,doAction:e,addAction:t},p={actions:{},filters:{}};return d};t.notification=t.notification||{},t.notification.hooks=new n}(window),function(t){t(document).ready(function(){t("#carrier-boxes .postbox .switch-container input").change(function(e){t(this).parents(".switch").first().toggleClass("active"),notification.hooks.doAction("notification.carrier.toggled",t(this))})})}(jQuery),function(t){t(document).ready(function(){t(".notification-color-picker:visible").wpColorPicker()}),notification.hooks.addAction("notification.carrier.repeater.row.added",function(t,e){t.find(".notification-color-picker").wpColorPicker()})}(jQuery),function(t){t(document).ready(function(){var e=t(".notification-image-field");t("body").on("click",".notification-image-field .image .preview, .notification-image-field .select-image",function(e){if(e.preventDefault(),$clicked_image_field=t(this).parents(".notification-image-field"),wp.media.frames.frame)return void wp.media.frames.frame.open();wp.media.frames.frame=wp.media({title:notification.i18n.select_image,multiple:!1,library:{type:"image"},button:{text:notification.i18n.use_selected_image}});var n=function(){var t=wp.media.frames.frame.state().get("selection");t&&t.each(function(t){$clicked_image_field.addClass("selected"),$clicked_image_field.find(".image-input").val(t.id),$clicked_image_field.find(".image .preview").attr("src",t.attributes.sizes.thumbnail.url)})};wp.media.frames.frame.on("select",n),wp.media.frames.frame.open()}),e.find(".image .clear").on("click",function(e){e.preventDefault(),t(this).parents(".notification-image-field").removeClass("selected"),t(this).parents(".notification-image-field").find(".image-input").val(""),t(this).parents(".notification-image-field").find(".image .preview").attr("src","")})})}(jQuery),function(t){t(document).ready(function(){t("body").on("change",".recipients-repeater select.recipient-type",function(){var e=t(this),n=e.parent().parent().next().find(".recipient-value").first(),i=e.val(),o=e.parents(".recipients-repeater").first();notification.hooks.doAction("notification.carrier.recipients.type.changed",i,e,n,o)}),notification.hooks.addAction("notification.carrier.recipients.type.changed",function(e,n,i,o){data={action:"get_recipient_input",type:e,carrier:o.data("carrier"),input_name:i.attr("name")},i.attr("disabled",!0),t.post(notification.ajaxurl,data,function(e){if(1==e.success){var n=t(e.data),o=i.parent();o.html(""),o.append(n),notification.hooks.doAction("notification.carrier.recipients.recipient.replaced",n)}})})})}(jQuery),function(t){t(document).ready(function(){function e(e){var i=e.parents(".fields-repeater").first();e.parents(".row").first().animate({opacity:0},400,"linear",function(){t(this).remove(),n(i),notification.hooks.doAction("notification.repeater.row.removed",i)})}var n=function(e){var n=0;e.find(".row:not(.header):not(.model)").each(function(){t(this).find(".notification-field:not(.selectize-control):not(.selectize-dropdown)").each(function(){var e=t(this),i=e.attr("name");e.attr("name",i.replace(/(.*)\[([0-9]+)\]/,"$1["+n+"]"))}),n++})};t(".fields-repeater .model .subfield").each(function(){t(this).find("input, textarea, select").attr("disabled",!0)}),t(".fields-repeater").on("click",".row:not(.header):not(.model) .handle",function(){var n=t(this);t(window).width()>768?e(n):window.confirm(notification.i18n.remove_confirmation)&&e(n)}),t(".add-new-repeater-field").on("click",function(e){e.preventDefault();var i=t(this).prev(".fields-repeater"),o=i.find(".row.model"),r=o.clone().removeClass("model");r.find("input, textarea, select").attr("disabled",!1),r.appendTo(i),n(i),notification.hooks.doAction("notification.repeater.row.added",r,i)})})}(jQuery),function(t){t(document).ready(function(){function e(){var e=[];return t.each(i,function(n,i){$item=t(i),$item.is(":checked")&&e.push($item.val())}),e.join()}var n=t("#export-notifications .button"),i=t('#export-notifications ul li input[type="checkbox"]:not(.select-all)'),o=n.prop("href");t('#export-notifications input[type="checkbox"]').change(function(){t(this).hasClass("select-all")&&(t(this).is(":checked")?i.prop("checked",!0):i.prop("checked",!1)),n.prop("href",o+e())})}),t(document).ready(function(){function e(){s.removeClass("success").removeClass("error").text("")}function n(t,n){e(),s.addClass(t).text(n)}var i=t("#import-notifications .button"),o=t('#import-notifications input[type="file"]'),r=[],s=t("#import-notifications .message");o.on("change",function(i){r=i.target.files,t.each(r,function(t,i){"application/json"!==i.type?(n("error",notification.i18n.valid_json_only),o.val("")):e()})}),i.on("click",function(e){if("true"===i.data("processing"))return!1;e.preventDefault();var s=new FormData;t.each(r,function(t,e){s.append(t,e)}),s.append("action","notification_import_json"),s.append("type","notifications"),s.append("nonce",i.data("nonce")),n("neutral",notification.i18n.importing_data),i.data("processing","true"),t.ajax({url:notification.ajaxurl,type:"POST",data:s,cache:!1,dataType:"json",processData:!1,contentType:!1,success:function(t){t.success?(n("success",t.data),o.val("")):n("error",t.data),i.data("processing","false")},error:function(t,e,i){n("error",i)}})})})}(jQuery),function(t){t(document).ready(function(){t(".log-container .log-item .log-handle").on("click",function(e){e.preventDefault(),t(this).parent().toggleClass("expanded"),t(this).find(".indicator").toggleClass("dashicons-arrow-down dashicons-arrow-up")})})}(jQuery),function(t){t(document).ready(function(){new Clipboard("code.notification-merge-tag").on("success",function(e){var n=t(e.trigger),i=n.text();notification.hooks.doAction("notification.merge_tag.copied",i,n),n.text(notification.i18n.copied),setTimeout(function(){n.text(i)},800)});var e=t(".notification_merge_tags_accordion").collapse();notification.hooks.addAction("notification.trigger.changed",function(n){var i=n.val();data={action:"get_merge_tags_for_trigger",trigger_slug:i},t.post(ajaxurl,data,function(n){0==n.success?alert(n.data):(t("#notification_merge_tags .inside").html(n.data),e=t(".notification_merge_tags_accordion").collapse())})}),t("body").on("keyup","#notification-search-merge-tags",function(){var n=t(this).val().toLowerCase();t(this).val().length>0?(e.trigger("open"),
t(".notification_merge_tags_accordion h2, .notification_merge_tags_accordion .tags-group").hide(),t(".inside li").each(function(){if(t(this).hide(),-1!==t(this).find(".intro code").text().toLowerCase().indexOf(n)){t(this).show();var e=t(this).parents("ul").data("group");t("[data-group="+e+"]").show()}})):(t(".notification_merge_tags_accordion h2, .inside li").show(),e.trigger("close"))})})}(jQuery),function(t){t(document).ready(function(){t(".notification-pretty-select:visible").selectize(),notification.hooks.addAction("notification.carrier.recipients.recipient.replaced",function(t){t.hasClass("notification-pretty-select")&&t.selectize()}),notification.hooks.addAction("notification.repeater.row.added",function(e,n){e.find("select.notification-pretty-select").each(function(){t(this).selectize()})})})}(jQuery),function(t){t(document).ready(function(){t(".underdev-settings .pretty-select").selectize(),new jQueryCollapse(t(".underdev-settings .setting-group"),{open:function(){this.slideDown(100)},close:function(){this.slideUp(100)}}),t(".setting-group-header").click(function(){t(this).parents(".setting-group").find(".form-table").trigger("toggle")})})}(jQuery),function(t){t(document).ready(function(){new Clipboard("#notification-story code").on("success",function(e){var n=t(e.trigger),i=n.find("span").text();n.find("span").text(notification.i18n.copied),setTimeout(function(){n.find("span").text(i)},800)})})}(jQuery),function(t){t(document).ready(function(){t(".column-switch .onoffswitch").on("click",function(e){var n=t(this),i=n.data("postid");e.preventDefault(),notification.hooks.doAction("notification.status.changed",n,i)}),notification.hooks.addAction("notification.status.changed",function(e,n){var i=!e.find("input").attr("checked");e.addClass("loading"),data={action:"change_notification_status",post_id:n,status:i,nonce:e.data("nonce")},t.post(notification.ajaxurl,data,function(t){1==t.success?(e.removeClass("loading"),e.find("input").attr("checked",i)):alert(t.data)})})})}(jQuery),function(t){t(document).ready(function(){t(".group-sync .field-actions .notification-sync-all").on("click",function(e){e.preventDefault();var n=t(this);if(n.attr("disabled"))return!1;n.attr("disabled",!0),t(".group-sync .field-notifications tr").each(function(e,i){var o=t(i).find(".button.notification-sync");o.data("sync-type")===n.data("type")&&notification.hooks.doAction("notification.sync.init",o)})}),t(".group-sync .field-notifications td > .button.notification-sync").on("click",function(e){e.preventDefault(),notification.hooks.doAction("notification.sync.init",t(this))}),notification.hooks.addAction("notification.sync.init",function(e){if(e.attr("disabled"))return!1;var n=e.data("sync-type"),i=e.data("sync-hash"),o=e.data("nonce");e.text();e.attr("disabled",!0),e.text(notification.i18n.synchronizing),data={action:"notification_sync",hash:i,type:n,nonce:o},t.post(notification.ajaxurl,data,function(i){if(1==i.success){var o=e.parent().parent();if("wordpress"===n){var r=o.find("td.title"),s=t("<a>",{text:r.text(),href:i.data});r.html(s)}o.find("td.status").text(notification.i18n.synchronized),e.remove()}else alert(i.data);e.attr("disabled",!1)})})})}(jQuery),function(t){t(document).ready(function(){t("#notification_trigger_select").selectize({render:{item:function(t,e){return"<div>"+t.text.replace(/\[\[(.*)\]\]/g,"")+"</div>"},option:function(t,e){return"<div>"+t.text.replace(/(.*)\[\[(.*)\]\]/g,'<span class="label">$1</span><span class="caption">$2</span>')+"</div>"}}}),t("#notification_trigger_select").selectize().change(function(){notification.hooks.doAction("notification.trigger.changed",t(this))})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9zZWxlY3RpemUuanMiLCJ2ZW5kb3IvY29sbGFwc2UuanMiLCJ2ZW5kb3IvY2xpcGJvYXJkLmpzIiwidmVuZG9yL2V2ZW50LW1hbmFnZXIuanMiLCJjYXJyaWVyLmpzIiwiZmllbGRzL2NvbG9yLXBpY2tlci5qcyIsImZpZWxkcy9pbWFnZS5qcyIsImZpZWxkcy9yZWNpcGllbnRzLmpzIiwiZmllbGRzL3JlcGVhdGVyLmpzIiwiaW1wb3J0LWV4cG9ydC5qcyIsImxvZ3MuanMiLCJtZXJnZXRhZy5qcyIsInByZXR0eS1zZWxlY3QuanMiLCJzZXR0aW5ncy5qcyIsInNoYXJlLXN0b3J5LmpzIiwic3dpdGNoLmpzIiwic3luYy5qcyIsInRyaWdnZXIuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwibW9kdWxlIiwiU2lmdGVyIiwidGhpcyIsIml0ZW1zIiwic2V0dGluZ3MiLCJkaWFjcml0aWNzIiwicHJvdG90eXBlIiwidG9rZW5pemUiLCJxdWVyeSIsInRyaW0iLCJTdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImxlbmd0aCIsImkiLCJuIiwicmVnZXgiLCJsZXR0ZXIiLCJ0b2tlbnMiLCJ3b3JkcyIsInNwbGl0IiwiZXNjYXBlX3JlZ2V4IiwiRElBQ1JJVElDUyIsImhhc093blByb3BlcnR5IiwicmVwbGFjZSIsIlJlZ0V4cCIsInB1c2giLCJzdHJpbmciLCJpdGVyYXRvciIsIm9iamVjdCIsImNhbGxiYWNrIiwiaXNfYXJyYXkiLCJBcnJheSIsImZvckVhY2giLCJrZXkiLCJhcHBseSIsImdldFNjb3JlRnVuY3Rpb24iLCJzZWFyY2giLCJvcHRpb25zIiwic2VsZiIsImZpZWxkcyIsInRva2VuX2NvdW50IiwibmVzdGluZyIsInByZXBhcmVTZWFyY2giLCJzY29yZVZhbHVlIiwidmFsdWUiLCJ0b2tlbiIsInNjb3JlIiwicG9zIiwic2NvcmVPYmplY3QiLCJmaWVsZF9jb3VudCIsImRhdGEiLCJnZXRhdHRyIiwic3VtIiwiY29uanVuY3Rpb24iLCJnZXRTb3J0RnVuY3Rpb24iLCJmaWVsZCIsImZpZWxkc19jb3VudCIsIm11bHRpcGxpZXIiLCJtdWx0aXBsaWVycyIsImdldF9maWVsZCIsImltcGxpY2l0X3Njb3JlIiwic29ydCIsInNvcnRfZW1wdHkiLCJuYW1lIiwicmVzdWx0IiwiaWQiLCJ1bnNoaWZ0IiwiZGlyZWN0aW9uIiwic3BsaWNlIiwiYSIsImIiLCJjbXAiLCJleHRlbmQiLCJvcHRpb25fZmllbGRzIiwib3B0aW9uX3NvcnQiLCJvcHRpb25fc29ydF9lbXB0eSIsInRvdGFsIiwiZm5fc29ydCIsImZuX3Njb3JlIiwiaXRlbSIsImZpbHRlciIsImxpbWl0Iiwic2xpY2UiLCJhc2NpaWZvbGQiLCJrIiwiYXJndW1lbnRzIiwib2JqIiwibmFtZXMiLCJzaGlmdCIsInN0ciIsImlzQXJyYXkiLCIkIiwiT2JqZWN0IiwidG9TdHJpbmciLCJjYWxsIiwiYyIsImQiLCJlIiwiZiIsImciLCJoIiwiaiIsImwiLCJvIiwicCIsInEiLCJyIiwicyIsInQiLCJ1IiwidiIsInciLCJ4IiwieSIsInoiLCJjaHVuayIsImZvcmVpZ25sZXR0ZXJzIiwibG9va3VwIiwic3Vic3RyaW5nIiwiY2hhckF0IiwicmVnZXhwIiwiZm9yZWlnbmxldHRlciIsIk1pY3JvUGx1Z2luIiwibWl4aW4iLCJJbnRlcmZhY2UiLCJwbHVnaW5zIiwiaW5pdGlhbGl6ZVBsdWdpbnMiLCJxdWV1ZSIsInJlcXVlc3RlZCIsImxvYWRlZCIsInV0aWxzIiwicmVxdWlyZSIsImxvYWRQbHVnaW4iLCJwbHVnaW4iLCJFcnJvciIsImZuIiwidkFyZyIsIlNlbGVjdGl6ZSIsImpRdWVyeSIsImhpZ2hsaWdodCIsIiRlbGVtZW50IiwicGF0dGVybiIsIm5vZGUiLCJza2lwIiwibm9kZVR5cGUiLCJtYXRjaCIsInNwYW5ub2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwibWlkZGxlYml0Iiwic3BsaXRUZXh0IiwibWlkZGxlY2xvbmUiLCJjbG9uZU5vZGUiLCJhcHBlbmRDaGlsZCIsInBhcmVudE5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJjaGlsZE5vZGVzIiwidGVzdCIsInRhZ05hbWUiLCJlYWNoIiwicmVtb3ZlSGlnaGxpZ2h0IiwiZmluZCIsImZpcnN0Q2hpbGQiLCJub2RlTmFtZSIsInBhcmVudCIsIm5vcm1hbGl6ZSIsImVuZCIsIk1pY3JvRXZlbnQiLCJvbiIsImV2ZW50IiwiZmN0IiwiX2V2ZW50cyIsIm9mZiIsImluZGV4T2YiLCJ0cmlnZ2VyIiwiZGVzdE9iamVjdCIsInByb3BzIiwiSVNfTUFDIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiS0VZX0NNRCIsIktFWV9DVFJMIiwiU1VQUE9SVFNfVkFMSURJVFlfQVBJIiwid2luZG93IiwidmFsaWRpdHkiLCJpc3NldCIsImhhc2hfa2V5IiwiZXNjYXBlX2h0bWwiLCJob29rIiwiYmVmb3JlIiwibWV0aG9kIiwib3JpZ2luYWwiLCJhZnRlciIsIm9uY2UiLCJjYWxsZWQiLCJkZWJvdW5jZSIsImRlbGF5IiwidGltZW91dCIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZGVib3VuY2VfZXZlbnRzIiwidHlwZXMiLCJ0eXBlIiwiZXZlbnRfYXJncyIsIndhdGNoQ2hpbGRFdmVudCIsIiRwYXJlbnQiLCJzZWxlY3RvciIsImNoaWxkIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImdldFNlbGVjdGlvbiIsImlucHV0Iiwic3RhcnQiLCJzZWxlY3Rpb25TdGFydCIsInNlbGVjdGlvbkVuZCIsInNlbGVjdGlvbiIsImZvY3VzIiwic2VsIiwiY3JlYXRlUmFuZ2UiLCJzZWxMZW4iLCJ0ZXh0IiwibW92ZVN0YXJ0IiwidHJhbnNmZXJTdHlsZXMiLCIkZnJvbSIsIiR0byIsInByb3BlcnRpZXMiLCJzdHlsZXMiLCJjc3MiLCJtZWFzdXJlU3RyaW5nIiwiJHRlc3QiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ3aWR0aCIsInBhZGRpbmciLCJ3aGl0ZVNwYWNlIiwiYXBwZW5kVG8iLCJyZW1vdmUiLCJhdXRvR3JvdyIsIiRpbnB1dCIsImN1cnJlbnRXaWR0aCIsInVwZGF0ZSIsImtleUNvZGUiLCJwcmludGFibGUiLCJwbGFjZWhvbGRlciIsImNoYXJhY3RlciIsIm1ldGFLZXkiLCJhbHRLZXkiLCJmb3JjZSIsInZhbCIsInNoaWZ0S2V5IiwiZnJvbUNoYXJDb2RlIiwidG9VcHBlckNhc2UiLCJhdHRyIiwidHJpZ2dlckhhbmRsZXIiLCJkb21Ub1N0cmluZyIsInRtcCIsImlubmVySFRNTCIsImRpciIsInNlbGVjdGl6ZSIsImNvbXB1dGVkU3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImN1cnJlbnRTdHlsZSIsInBhcmVudHMiLCJvcmRlciIsInRhYkluZGV4IiwidGFnVHlwZSIsInJ0bCIsImV2ZW50TlMiLCJjb3VudCIsImhpZ2hsaWdodGVkVmFsdWUiLCJpc09wZW4iLCJpc0Rpc2FibGVkIiwiaXNSZXF1aXJlZCIsImlzIiwiaXNJbnZhbGlkIiwiaXNMb2NrZWQiLCJpc0ZvY3VzZWQiLCJpc0lucHV0SGlkZGVuIiwiaXNTZXR1cCIsImlzU2hpZnREb3duIiwiaXNDbWREb3duIiwiaXNDdHJsRG93biIsImlnbm9yZUZvY3VzIiwiaWdub3JlQmx1ciIsImlnbm9yZUhvdmVyIiwiaGFzT3B0aW9ucyIsImN1cnJlbnRSZXN1bHRzIiwibGFzdFZhbHVlIiwiY2FyZXRQb3MiLCJsb2FkaW5nIiwibG9hZGVkU2VhcmNoZXMiLCIkYWN0aXZlT3B0aW9uIiwiJGFjdGl2ZUl0ZW1zIiwib3B0Z3JvdXBzIiwidXNlck9wdGlvbnMiLCJyZW5kZXJDYWNoZSIsIm9uU2VhcmNoQ2hhbmdlIiwibG9hZFRocm90dGxlIiwic2lmdGVyIiwicmVnaXN0ZXJPcHRpb24iLCJyZWdpc3Rlck9wdGlvbkdyb3VwIiwibW9kZSIsIm1heEl0ZW1zIiwiaGlkZVNlbGVjdGVkIiwic2V0dXBDYWxsYmFja3MiLCJzZXR1cFRlbXBsYXRlcyIsInNldHVwIiwibWVzc2FnZSIsImNvbnNvbGUiLCJlcnJvciIsImNvbXBvbmVudCIsImV4cGxhbmF0aW9uIiwiZ3JvdXAiLCJncm91cEVuZCIsIiR3cmFwcGVyIiwiJGNvbnRyb2wiLCIkY29udHJvbF9pbnB1dCIsIiRkcm9wZG93biIsIiRkcm9wZG93bl9jb250ZW50IiwiJGRyb3Bkb3duX3BhcmVudCIsImlucHV0TW9kZSIsImNsYXNzZXMiLCJjbGFzc2VzX3BsdWdpbnMiLCJpbnB1dElkIiwiJHdpbmRvdyIsIiRkb2N1bWVudCIsImFkZENsYXNzIiwid3JhcHBlckNsYXNzIiwiaW5wdXRDbGFzcyIsImRyb3Bkb3duUGFyZW50IiwiZHJvcGRvd25DbGFzcyIsImhpZGUiLCJkcm9wZG93bkNvbnRlbnRDbGFzcyIsImNvcHlDbGFzc2VzVG9Ecm9wZG93biIsInN0eWxlIiwiam9pbiIsInNwbGl0T24iLCJkZWxpbWl0ZXIiLCJkZWxpbWl0ZXJFc2NhcGVkIiwib25PcHRpb25Ib3ZlciIsIm9uT3B0aW9uU2VsZWN0Iiwib25JdGVtU2VsZWN0IiwibW91c2Vkb3duIiwib25Nb3VzZURvd24iLCJjbGljayIsIm9uQ2xpY2siLCJzdG9wUHJvcGFnYXRpb24iLCJrZXlkb3duIiwib25LZXlEb3duIiwia2V5dXAiLCJvbktleVVwIiwia2V5cHJlc3MiLCJvbktleVByZXNzIiwicmVzaXplIiwicG9zaXRpb25Ecm9wZG93biIsImJsdXIiLCJvbkJsdXIiLCJvbkZvY3VzIiwicGFzdGUiLCJvblBhc3RlIiwiaGFzIiwicmV2ZXJ0U2V0dGluZ3MiLCIkY2hpbGRyZW4iLCJjaGlsZHJlbiIsImRldGFjaCIsInRhYmluZGV4Iiwic2V0VmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsInJlZnJlc2hTdGF0ZSIsInVwZGF0ZU9yaWdpbmFsSW5wdXQiLCJyZWZyZXNoSXRlbXMiLCJ1cGRhdGVQbGFjZWhvbGRlciIsImRpc2FibGUiLCJvbkNoYW5nZSIsInByZWxvYWQiLCJmaWVsZF9sYWJlbCIsImxhYmVsRmllbGQiLCJmaWVsZF9vcHRncm91cCIsIm9wdGdyb3VwTGFiZWxGaWVsZCIsInRlbXBsYXRlcyIsIm9wdGdyb3VwIiwiaHRtbCIsIm9wdGdyb3VwX2hlYWRlciIsImVzY2FwZSIsIm9wdGlvbiIsIm9wdGlvbl9jcmVhdGUiLCJyZW5kZXIiLCJjYWxsYmFja3MiLCJpbml0aWFsaXplIiwiY2hhbmdlIiwiaXRlbV9hZGQiLCJpdGVtX3JlbW92ZSIsImNsZWFyIiwib3B0aW9uX2FkZCIsIm9wdGlvbl9yZW1vdmUiLCJvcHRpb25fY2xlYXIiLCJvcHRncm91cF9hZGQiLCJvcHRncm91cF9yZW1vdmUiLCJvcHRncm91cF9jbGVhciIsImRyb3Bkb3duX29wZW4iLCJkcm9wZG93bl9jbG9zZSIsImxvYWQiLCJkZWZhdWx0UHJldmVudGVkIiwiaXNEZWZhdWx0UHJldmVudGVkIiwiY2xvc2UiLCJvcGVuIiwic2V0QWN0aXZlSXRlbSIsImlzRnVsbCIsInBhc3RlZFRleHQiLCJzcGxpdElucHV0IiwiY3JlYXRlSXRlbSIsIndoaWNoIiwiY3JlYXRlIiwic2VsZWN0QWxsIiwiY3RybEtleSIsIiRuZXh0IiwiZ2V0QWRqYWNlbnRPcHRpb24iLCJzZXRBY3RpdmVPcHRpb24iLCIkcHJldiIsImFkdmFuY2VTZWxlY3Rpb24iLCJzZWxlY3RPblRhYiIsImRlbGV0ZVNlbGVjdGlvbiIsInJlZnJlc2hPcHRpb25zIiwid2FzRm9jdXNlZCIsInNob3dJbnB1dCIsIm9wZW5PbkZvY3VzIiwiZGVzdCIsImFjdGl2ZUVsZW1lbnQiLCJkZWFjdGl2YXRlIiwic2V0VGV4dGJveFZhbHVlIiwic2V0Q2FyZXQiLCJjcmVhdGVPbkJsdXIiLCIkdGFyZ2V0IiwiaGFzQ2xhc3MiLCJjbG9zZUFmdGVyU2VsZWN0IiwibGFzdFF1ZXJ5IiwiYWRkSXRlbSIsImdldE9wdGlvbiIsImxvYWRpbmdDbGFzcyIsInJlc3VsdHMiLCJNYXRoIiwibWF4IiwiYWRkT3B0aW9uIiwicmVtb3ZlQ2xhc3MiLCJnZXRWYWx1ZSIsInNpbGVudCIsImFkZEl0ZW1zIiwiJGl0ZW0iLCJldmVudE5hbWUiLCJpZHgiLCJiZWdpbiIsInN3YXAiLCIkbGFzdCIsImhpZGVJbnB1dCIsIiRvcHRpb24iLCJzY3JvbGwiLCJhbmltYXRlIiwiaGVpZ2h0X21lbnUiLCJoZWlnaHRfaXRlbSIsInNjcm9sbF90b3AiLCJzY3JvbGxfYm90dG9tIiwiaGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJzdG9wIiwic2Nyb2xsRHVyYXRpb24iLCJvcGFjaXR5IiwiZ2V0U2VhcmNoT3B0aW9ucyIsInNvcnRGaWVsZCIsInNlYXJjaEZpZWxkIiwic2VhcmNoQ29uanVuY3Rpb24iLCJjYWxjdWxhdGVTY29yZSIsInRyaWdnZXJEcm9wZG93biIsImdyb3VwcyIsImdyb3Vwc19vcmRlciIsIm9wdGlvbl9odG1sIiwiaHRtbF9jaGlsZHJlbiIsImhhc19jcmVhdGVfb3B0aW9uIiwiJGFjdGl2ZSIsIiRhY3RpdmVfYmVmb3JlIiwiJGNyZWF0ZSIsImFjdGl2ZV9iZWZvcmUiLCJtYXhPcHRpb25zIiwibWluIiwib3B0Z3JvdXBGaWVsZCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJsb2NrT3B0Z3JvdXBPcmRlciIsIiRvcmRlciIsImRvbSIsImNhbkNyZWF0ZSIsInByZXBlbmQiLCJhZGRQcmVjZWRlbmNlIiwidmFsdWVGaWVsZCIsIm9wdGdyb3VwVmFsdWVGaWVsZCIsImFkZE9wdGlvbkdyb3VwIiwicmVtb3ZlT3B0aW9uR3JvdXAiLCJjbGVhck9wdGlvbkdyb3VwcyIsInVwZGF0ZU9wdGlvbiIsIiRpdGVtX25ldyIsInZhbHVlX25ldyIsImluZGV4X2l0ZW0iLCJjYWNoZV9pdGVtcyIsImNhY2hlX29wdGlvbnMiLCJvcmRlcl9vbGQiLCJnZXRJdGVtIiwicmVwbGFjZVdpdGgiLCJyZW1vdmVPcHRpb24iLCJyZW1vdmVJdGVtIiwiY2xlYXJPcHRpb25zIiwiZ2V0RWxlbWVudFdpdGhWYWx1ZSIsIiRvcHRpb25zIiwiaW5kZXgiLCJlcSIsIiRlbHMiLCJnZXRBdHRyaWJ1dGUiLCJ2YWx1ZXMiLCJpc1BlbmRpbmciLCJ2YWx1ZV9uZXh0Iiwid2FzRnVsbCIsImluc2VydEF0Q2FyZXQiLCJwZXJzaXN0IiwiY2FyZXQiLCJsb2NrIiwidW5sb2NrIiwib3V0cHV0IiwicmVmcmVzaFZhbGlkaXR5U3RhdGUiLCJyZWZyZXNoQ2xhc3NlcyIsImludmFsaWQiLCJwcm9wIiwidG9nZ2xlQ2xhc3MiLCJpc0VtcHR5T2JqZWN0Iiwib3B0cyIsImxhYmVsIiwicmVtb3ZlQXR0ciIsInZpc2liaWxpdHkiLCJkaXNwbGF5Iiwib3V0ZXJXaWR0aCIsIiRlbCIsIm9wdGlvbl9zZWxlY3QiLCIkb3B0aW9uX3NlbGVjdCIsIiR0YWlsIiwib25EZWxldGUiLCJwb3AiLCJ0YWlsIiwidmFsdWVMZW5ndGgiLCJhZHZhbmNlQ2FyZXQiLCIkYWRqIiwiJGNoaWxkIiwiYXBwZW5kIiwiZW5hYmxlIiwiZGVzdHJveSIsInNob3ciLCJyZW1vdmVEYXRhIiwiYm9keSIsInRlbXBsYXRlTmFtZSIsImNhY2hlIiwiY2xlYXJDYWNoZSIsImNyZWF0ZUZpbHRlciIsImRlZmF1bHRzIiwiYWxsb3dFbXB0eU9wdGlvbiIsImRhdGFBdHRyIiwic2V0dGluZ3NfdXNlciIsImF0dHJfZGF0YSIsImZpZWxkX3ZhbHVlIiwiZmllbGRfb3B0Z3JvdXBfbGFiZWwiLCJmaWVsZF9vcHRncm91cF92YWx1ZSIsImluaXRfdGV4dGJveCIsInNldHRpbmdzX2VsZW1lbnQiLCJkYXRhX3JhdyIsIkpTT04iLCJwYXJzZSIsImluaXRfc2VsZWN0Iiwib3B0aW9uc01hcCIsInJlYWREYXRhIiwiYXJyIiwiJG9wdGdyb3VwIiwidGFnX25hbWUiLCJzdXBwb3J0Iiwic29ydGFibGUiLCJmb3JjZVBsYWNlaG9sZGVyU2l6ZSIsImRpc2FibGVkIiwidWkiLCJoZWxwZXIiLCJvdmVyZmxvdyIsImFjdGl2ZSIsInRpdGxlIiwiaGVhZGVyQ2xhc3MiLCJ0aXRsZVJvd0NsYXNzIiwibGFiZWxDbGFzcyIsImNsb3NlQ2xhc3MiLCIkZHJvcGRvd25faGVhZGVyIiwiZXF1YWxpemVXaWR0aCIsImVxdWFsaXplSGVpZ2h0IiwiY2xvc2VzdCIsInByZXYiLCJuZXh0IiwiZ2V0U2Nyb2xsYmFyV2lkdGgiLCJkaXYiLCJkb2MiLCJvZmZzZXRXaWR0aCIsImNsaWVudFdpZHRoIiwicmVtb3ZlQ2hpbGQiLCJlcXVhbGl6ZVNpemVzIiwiaGVpZ2h0X21heCIsIndpZHRoX2xhc3QiLCJ3aWR0aF9wYXJlbnQiLCIkb3B0Z3JvdXBzIiwiaW5uZXJXaWR0aCIsInJvdW5kIiwidGhpc1JlZiIsImh0bWxfY29udGFpbmVyIiwiaHRtbF9lbGVtZW50IiwiY29udGV4dCIsInJlbmRlcl9pdGVtIiwiQ29sbGFwc2UiLCJlbCIsIl90aGlzIiwic2VjdGlvbnMiLCJpc0FjY29yZGlvbiIsImFjY29yZGlvbiIsImRiIiwialF1ZXJ5Q29sbGFwc2VTdG9yYWdlIiwiZ2V0Iiwic3RhdGVzIiwicmVhZCIsImpRdWVyeUNvbGxhcHNlU2VjdGlvbiIsInNjb3BlIiwiY2xpY2tRdWVyeSIsInByb3h5IiwiaGFuZGxlQ2xpY2siLCJiaW5kIiwiaGFuZGxlRXZlbnQiLCJTZWN0aW9uIiwid3JhcElubmVyIiwiJHN1bW1hcnkiLCIkZGV0YWlscyIsInN0YXRlIiwiX2luZGV4IiwiY29udGFpbnMiLCJfY2hhbmdlIiwidG9nZ2xlIiwiYWN0aW9uIiwiaXNGaW5pdGUiLCJzZWN0aW9uIiwiYnlwYXNzIiwiX2NoYW5nZVN0YXRlIiwiaW5BcnJheSIsImlzRnVuY3Rpb24iLCJ3cml0ZSIsImNvbGxhcHNlIiwic2NhbiIsImpRdWVyeUNvbGxhcHNlIiwiZ2xvYmFsIiwiQ2xpcGJvYXJkIiwiY29kZSIsIjEiLCJtYXRjaGVzIiwiZWxlbWVudCIsImNoZWNrWW9TZWxmIiwibWF0Y2hlcy1zZWxlY3RvciIsIjIiLCJkZWxlZ2F0ZSIsInVzZUNhcHR1cmUiLCJsaXN0ZW5lckZuIiwibGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRlbGVnYXRlVGFyZ2V0IiwiMyIsInVuZGVmaW5lZCIsIkhUTUxFbGVtZW50Iiwibm9kZUxpc3QiLCI0IiwibGlzdGVuIiwiVHlwZUVycm9yIiwibGlzdGVuTm9kZSIsImxpc3Rlbk5vZGVMaXN0IiwibGlzdGVuU2VsZWN0b3IiLCIuL2lzIiwiNSIsInZlbmRvciIsIm5vZGVzIiwicXVlcnlTZWxlY3RvckFsbCIsInByb3RvIiwiRWxlbWVudCIsIm1hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsIjYiLCJzZWxlY3QiLCJzZWxlY3RlZFRleHQiLCJzZXRTZWxlY3Rpb25SYW5nZSIsImhhc0F0dHJpYnV0ZSIsInJhbmdlIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCI3IiwiRSIsImN0eCIsIl8iLCJlbWl0IiwiZXZ0QXJyIiwibGVuIiwiZXZ0cyIsImxpdmVFdmVudHMiLCI4IiwibW9kIiwiY2xpcGJvYXJkQWN0aW9uIiwiX3NlbGVjdCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfc2VsZWN0MiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX3R5cGVvZiIsIlN5bWJvbCIsImNvbnN0cnVjdG9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJkZWZpbmVQcm9wZXJ0eSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkNsaXBib2FyZEFjdGlvbiIsInJlc29sdmVPcHRpb25zIiwiaW5pdFNlbGVjdGlvbiIsImVtaXR0ZXIiLCJzZWxlY3RGYWtlIiwic2VsZWN0VGFyZ2V0IiwiaXNSVEwiLCJkb2N1bWVudEVsZW1lbnQiLCJyZW1vdmVGYWtlIiwiZmFrZUhhbmRsZXJDYWxsYmFjayIsImZha2VIYW5kbGVyIiwiZmFrZUVsZW0iLCJmb250U2l6ZSIsImJvcmRlciIsIm1hcmdpbiIsInBhZ2VZT2Zmc2V0Iiwic2V0QXR0cmlidXRlIiwiY29weVRleHQiLCJzdWNjZWVkZWQiLCJleGVjQ29tbWFuZCIsImVyciIsImhhbmRsZVJlc3VsdCIsImNsZWFyU2VsZWN0aW9uIiwic2V0IiwiX2FjdGlvbiIsIl90YXJnZXQiLCI5IiwidGlueUVtaXR0ZXIiLCJnb29kTGlzdGVuZXIiLCJjbGlwYm9hcmQiLCJfY2xpcGJvYXJkQWN0aW9uIiwiX3RpbnlFbWl0dGVyIiwiX2dvb2RMaXN0ZW5lciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJnZXRBdHRyaWJ1dGVWYWx1ZSIsInN1ZmZpeCIsImF0dHJpYnV0ZSIsIl9jbGlwYm9hcmRBY3Rpb24yIiwiX3RpbnlFbWl0dGVyMiIsIl9nb29kTGlzdGVuZXIyIiwiX0VtaXR0ZXIiLCJsaXN0ZW5DbGljayIsImRlZmF1bHRBY3Rpb24iLCJkZWZhdWx0VGFyZ2V0IiwiZGVmYXVsdFRleHQiLCJfdGhpczIiLCJxdWVyeVNlbGVjdG9yIiwiLi9jbGlwYm9hcmQtYWN0aW9uIiwiZ29vZC1saXN0ZW5lciIsInRpbnktZW1pdHRlciIsIkV2ZW50TWFuYWdlciIsImFkZEFjdGlvbiIsInByaW9yaXR5IiwicGFyc2VJbnQiLCJfYWRkSG9vayIsIk1ldGhvZHNBdmFpbGFibGUiLCJkb0FjdGlvbiIsIl9ydW5Ib29rIiwicmVtb3ZlQWN0aW9uIiwiX3JlbW92ZUhvb2siLCJhZGRGaWx0ZXIiLCJhcHBseUZpbHRlcnMiLCJyZW1vdmVGaWx0ZXIiLCJoYW5kbGVycyIsImhhbmRsZXIiLCJTVE9SQUdFIiwiaG9va09iamVjdCIsImhvb2tzIiwiX2hvb2tJbnNlcnRTb3J0IiwidG1wSG9vayIsInByZXZIb29rIiwiYWN0aW9ucyIsImZpbHRlcnMiLCJub3RpZmljYXRpb24iLCJyZWFkeSIsImZpcnN0Iiwid3BDb2xvclBpY2tlciIsIiRjbG9uZWQiLCIkcmVwZWF0ZXIiLCIkaW1hZ2VfZmllbGQiLCIkY2xpY2tlZF9pbWFnZV9maWVsZCIsIndwIiwibWVkaWEiLCJmcmFtZXMiLCJmcmFtZSIsImkxOG4iLCJzZWxlY3RfaW1hZ2UiLCJtdWx0aXBsZSIsImxpYnJhcnkiLCJidXR0b24iLCJ1c2Vfc2VsZWN0ZWRfaW1hZ2UiLCJtZWRpYV9zZXRfaW1hZ2UiLCJhdHRhY2htZW50IiwiYXR0cmlidXRlcyIsInNpemVzIiwidGh1bWJuYWlsIiwidXJsIiwiJHNlbGVjdCIsIiRyZWNpcGllbnQiLCIkdGFibGUiLCJjYXJyaWVyIiwiaW5wdXRfbmFtZSIsInBvc3QiLCJhamF4dXJsIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwiJHJlcGxhY2VtZW50IiwiJHJlY2lwaWVudF9jb250YWluZXIiLCJyZW1vdmVfcm93IiwiJHJlbW92ZV9idXR0b24iLCJyZWNhbGN1bGF0ZV9yb3dzIiwicGFydF9uYW1lIiwiY29uZmlybSIsInJlbW92ZV9jb25maXJtYXRpb24iLCIkbW9kZWwiLCJjbG9uZSIsImdldF9zZWxlY3RlZF9pdGVtcyIsIiRpdGVtcyIsIiRidXR0b24iLCJsaW5rIiwiY2xlYXJfbWVzc2FnZSIsIiRtZXNzYWdlIiwiYWRkX21lc3NhZ2UiLCIkZmlsZSIsImZpbGVzIiwidmFsaWRfanNvbl9vbmx5IiwiRm9ybURhdGEiLCJpbXBvcnRpbmdfZGF0YSIsImFqYXgiLCJkYXRhVHlwZSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJqcVhIUiIsInRleHRfc3RhdHVzIiwiZXJyb3JfdGhyb3duIiwiJGNvZGUiLCJ0YWciLCJjb3BpZWQiLCIkdHJpZ2dlciIsInRyaWdnZXJfc2x1ZyIsImFsZXJ0IiwicGFyZW50Q2xhc3MiLCIkcm93Iiwic2xpZGVEb3duIiwic2xpZGVVcCIsImNvcHlfdGV4dCIsIiRzd2l0Y2giLCJwb3N0X2lkIiwic3RhdHVzIiwibm9uY2UiLCIkbWFzdGVyX2J1dHRvbiIsIm51bSIsIm5vdGlmaWNhdGlvbl9yb3ciLCJzeW5jX3R5cGUiLCJoYXNoIiwic3luY2hyb25pemluZyIsIiRub3RpZmljYXRpb25fcm93IiwiJHRpdGxlX3RkIiwiJGxpbmsiLCJocmVmIiwic3luY2hyb25pemVkIl0sIm1hcHBpbmdzIjoiQ0FnQkEsU0FBQUEsRUFBQUMsR0FDQSxrQkFBQUMsU0FBQUEsT0FBQUMsSUFDQUQsT0FBQSxTQUFBRCxHQUNBLGdCQUFBRyxTQUNBQyxPQUFBRCxRQUFBSCxJQUVBRCxFQUFBTSxPQUFBTCxLQUVBTSxLQUFBLFdBV0EsR0FBQUQsR0FBQSxTQUFBRSxFQUFBQyxHQUNBRixLQUFBQyxNQUFBQSxFQUNBRCxLQUFBRSxTQUFBQSxJQUFBQyxZQUFBLEdBVUFKLEdBQUFLLFVBQUFDLFNBQUEsU0FBQUMsR0FFQSxLQURBQSxFQUFBQyxFQUFBQyxPQUFBRixHQUFBLElBQUFHLGtCQUNBSCxFQUFBSSxPQUFBLFFBRUEsSUFBQUMsR0FBQUMsRUFBQUMsRUFBQUMsRUFDQUMsS0FDQUMsRUFBQVYsRUFBQVcsTUFBQSxLQUVBLEtBQUFOLEVBQUEsRUFBQUMsRUFBQUksRUFBQU4sT0FBQUMsRUFBQUMsRUFBQUQsSUFBQSxDQUVBLEdBREFFLEVBQUFLLEVBQUFGLEVBQUFMLElBQ0FYLEtBQUFFLFNBQUFDLFdBQ0EsSUFBQVcsSUFBQUssR0FDQUEsRUFBQUMsZUFBQU4sS0FDQUQsRUFBQUEsRUFBQVEsUUFBQSxHQUFBQyxRQUFBUixFQUFBLEtBQUFLLEVBQUFMLElBSUFDLEdBQUFRLE1BQ0FDLE9BQUFSLEVBQUFMLEdBQ0FFLE1BQUEsR0FBQVMsUUFBQVQsRUFBQSxPQUlBLE1BQUFFLElBY0FoQixFQUFBSyxVQUFBcUIsU0FBQSxTQUFBQyxFQUFBQyxHQUNBLEdBQUFGLEVBRUFBLEdBREFHLEVBQUFGLEdBQ0FHLE1BQUF6QixVQUFBMEIsU0FBQSxTQUFBSCxHQUNBLElBQUEsR0FBQWhCLEdBQUEs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QUE0eEIsR0FFQSxHQUFBLEdBQUFBLEVBQUFDLFFBQUEsQ0FFQSxHQUFBbUQsR0FBQXRDLEVBQUF2ckIsU0FBQUEsUUFFQSxJQUFBLGNBQUEwdEIsRUFBQSxDQUNBLEdBQUFJLEdBQUFELEVBQUFodUIsS0FBQSxZQUNBa3VCLEVBQUF6eUIsRUFBQSxPQUNBbUksS0FBQXFxQixFQUFBcnFCLE9BQ0F1cUIsS0FBQXZELEVBQUE1eEIsTUFFQWkxQixHQUFBbGdCLEtBQUFtZ0IsR0FHQUYsRUFBQWh1QixLQUFBLGFBQUE0RCxLQUFBaWxCLGFBQUFZLEtBQUEyRSxjQUNBMUMsRUFBQTdtQixhQUdBbW9CLE9BQUFwQyxFQUFBNXhCLEtBR0EweUIsR0FBQTdsQixLQUFBLFlBQUEsVUFRQXJILFFDcEZBLFNBQUEvQyxHQUVBQSxFQUFBd0QsVUFBQTZwQixNQUFBLFdBRUFydEIsRUFBQSxnQ0FBQTBLLFdBQ0FpSSxRQUNBdlQsS0FBQSxTQUFBQSxFQUFBb1QsR0FDQSxNQUFBLFFBQ0FwVCxFQUFBK0ksS0FBQXZNLFFBQUEsZ0JBQUEsSUFDQSxVQUVBNlcsT0FBQSxTQUFBclQsRUFBQW9ULEdBQ0EsTUFBQSxRQUNBcFQsRUFBQStJLEtBQUF2TSxRQUFBLG9CQUFBLGdFQUNBLGFBS0FvRSxFQUFBLGdDQUFBMEssWUFBQW9JLE9BQUEsV0FDQXNhLGFBQUFOLE1BQUFYLFNBQUEsK0JBQUFuc0IsRUFBQXpGLFlBS0F3SSIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogc2lmdGVyLmpzXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMgQnJpYW4gUmVhdmlzICYgY29udHJpYnV0b3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXNcbiAqIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlclxuICogdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRlxuICogQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlXG4gKiBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEBhdXRob3IgQnJpYW4gUmVhdmlzIDxicmlhbkB0aGlyZHJvdXRlLmNvbT5cbiAqL1xuXG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKCdzaWZ0ZXInLCBmYWN0b3J5KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0fSBlbHNlIHtcblx0XHRyb290LlNpZnRlciA9IGZhY3RvcnkoKTtcblx0fVxufSh0aGlzLCBmdW5jdGlvbigpIHtcblxuXHQvKipcblx0ICogVGV4dHVhbGx5IHNlYXJjaGVzIGFycmF5cyBhbmQgaGFzaGVzIG9mIG9iamVjdHNcblx0ICogYnkgcHJvcGVydHkgKG9yIG11bHRpcGxlIHByb3BlcnRpZXMpLiBEZXNpZ25lZFxuXHQgKiBzcGVjaWZpY2FsbHkgZm9yIGF1dG9jb21wbGV0ZS5cblx0ICpcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7YXJyYXl8b2JqZWN0fSBpdGVtc1xuXHQgKiBAcGFyYW0ge29iamVjdH0gaXRlbXNcblx0ICovXG5cdHZhciBTaWZ0ZXIgPSBmdW5jdGlvbihpdGVtcywgc2V0dGluZ3MpIHtcblx0XHR0aGlzLml0ZW1zID0gaXRlbXM7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzIHx8IHtkaWFjcml0aWNzOiB0cnVlfTtcblx0fTtcblxuXHQvKipcblx0ICogU3BsaXRzIGEgc2VhcmNoIHN0cmluZyBpbnRvIGFuIGFycmF5IG9mIGluZGl2aWR1YWxcblx0ICogcmVnZXhwcyB0byBiZSB1c2VkIHRvIG1hdGNoIHJlc3VsdHMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVxuXHQgKiBAcmV0dXJucyB7YXJyYXl9XG5cdCAqL1xuXHRTaWZ0ZXIucHJvdG90eXBlLnRva2VuaXplID0gZnVuY3Rpb24ocXVlcnkpIHtcblx0XHRxdWVyeSA9IHRyaW0oU3RyaW5nKHF1ZXJ5IHx8ICcnKS50b0xvd2VyQ2FzZSgpKTtcblx0XHRpZiAoIXF1ZXJ5IHx8ICFxdWVyeS5sZW5ndGgpIHJldHVybiBbXTtcblxuXHRcdHZhciBpLCBuLCByZWdleCwgbGV0dGVyO1xuXHRcdHZhciB0b2tlbnMgPSBbXTtcblx0XHR2YXIgd29yZHMgPSBxdWVyeS5zcGxpdCgvICsvKTtcblxuXHRcdGZvciAoaSA9IDAsIG4gPSB3b3Jkcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdHJlZ2V4ID0gZXNjYXBlX3JlZ2V4KHdvcmRzW2ldKTtcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmRpYWNyaXRpY3MpIHtcblx0XHRcdFx0Zm9yIChsZXR0ZXIgaW4gRElBQ1JJVElDUykge1xuXHRcdFx0XHRcdGlmIChESUFDUklUSUNTLmhhc093blByb3BlcnR5KGxldHRlcikpIHtcblx0XHRcdFx0XHRcdHJlZ2V4ID0gcmVnZXgucmVwbGFjZShuZXcgUmVnRXhwKGxldHRlciwgJ2cnKSwgRElBQ1JJVElDU1tsZXR0ZXJdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0c3RyaW5nIDogd29yZHNbaV0sXG5cdFx0XHRcdHJlZ2V4ICA6IG5ldyBSZWdFeHAocmVnZXgsICdpJylcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiB0b2tlbnM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEl0ZXJhdGVzIG92ZXIgYXJyYXlzIGFuZCBoYXNoZXMuXG5cdCAqXG5cdCAqIGBgYFxuXHQgKiB0aGlzLml0ZXJhdG9yKHRoaXMuaXRlbXMsIGZ1bmN0aW9uKGl0ZW0sIGlkKSB7XG5cdCAqICAgIC8vIGludm9rZWQgZm9yIGVhY2ggaXRlbVxuXHQgKiB9KTtcblx0ICogYGBgXG5cdCAqXG5cdCAqIEBwYXJhbSB7YXJyYXl8b2JqZWN0fSBvYmplY3Rcblx0ICovXG5cdFNpZnRlci5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG5cdFx0dmFyIGl0ZXJhdG9yO1xuXHRcdGlmIChpc19hcnJheShvYmplY3QpKSB7XG5cdFx0XHRpdGVyYXRvciA9IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoIHx8IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBuID0gdGhpcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0XHRjYWxsYmFjayh0aGlzW2ldLCBpLCB0aGlzKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aXRlcmF0b3IgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcykge1xuXHRcdFx0XHRcdGlmICh0aGlzLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKHRoaXNba2V5XSwga2V5LCB0aGlzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aXRlcmF0b3IuYXBwbHkob2JqZWN0LCBbY2FsbGJhY2tdKTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIGJlIHVzZWQgdG8gc2NvcmUgaW5kaXZpZHVhbCByZXN1bHRzLlxuXHQgKlxuXHQgKiBHb29kIG1hdGNoZXMgd2lsbCBoYXZlIGEgaGlnaGVyIHNjb3JlIHRoYW4gcG9vciBtYXRjaGVzLlxuXHQgKiBJZiBhbiBpdGVtIGlzIG5vdCBhIG1hdGNoLCAwIHdpbGwgYmUgcmV0dXJuZWQgYnkgdGhlIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0ge29iamVjdHxzdHJpbmd9IHNlYXJjaFxuXHQgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAob3B0aW9uYWwpXG5cdCAqIEByZXR1cm5zIHtmdW5jdGlvbn1cblx0ICovXG5cdFNpZnRlci5wcm90b3R5cGUuZ2V0U2NvcmVGdW5jdGlvbiA9IGZ1bmN0aW9uKHNlYXJjaCwgb3B0aW9ucykge1xuXHRcdHZhciBzZWxmLCBmaWVsZHMsIHRva2VucywgdG9rZW5fY291bnQsIG5lc3Rpbmc7XG5cblx0XHRzZWxmICAgICAgICA9IHRoaXM7XG5cdFx0c2VhcmNoICAgICAgPSBzZWxmLnByZXBhcmVTZWFyY2goc2VhcmNoLCBvcHRpb25zKTtcblx0XHR0b2tlbnMgICAgICA9IHNlYXJjaC50b2tlbnM7XG5cdFx0ZmllbGRzICAgICAgPSBzZWFyY2gub3B0aW9ucy5maWVsZHM7XG5cdFx0dG9rZW5fY291bnQgPSB0b2tlbnMubGVuZ3RoO1xuXHRcdG5lc3RpbmcgICAgID0gc2VhcmNoLm9wdGlvbnMubmVzdGluZztcblxuXHRcdC8qKlxuXHRcdCAqIENhbGN1bGF0ZXMgaG93IGNsb3NlIG9mIGEgbWF0Y2ggdGhlXG5cdFx0ICogZ2l2ZW4gdmFsdWUgaXMgYWdhaW5zdCBhIHNlYXJjaCB0b2tlbi5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7bWl4ZWR9IHZhbHVlXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHRva2VuXG5cdFx0ICogQHJldHVybiB7bnVtYmVyfVxuXHRcdCAqL1xuXHRcdHZhciBzY29yZVZhbHVlID0gZnVuY3Rpb24odmFsdWUsIHRva2VuKSB7XG5cdFx0XHR2YXIgc2NvcmUsIHBvcztcblxuXHRcdFx0aWYgKCF2YWx1ZSkgcmV0dXJuIDA7XG5cdFx0XHR2YWx1ZSA9IFN0cmluZyh2YWx1ZSB8fCAnJyk7XG5cdFx0XHRwb3MgPSB2YWx1ZS5zZWFyY2godG9rZW4ucmVnZXgpO1xuXHRcdFx0aWYgKHBvcyA9PT0gLTEpIHJldHVybiAwO1xuXHRcdFx0c2NvcmUgPSB0b2tlbi5zdHJpbmcubGVuZ3RoIC8gdmFsdWUubGVuZ3RoO1xuXHRcdFx0aWYgKHBvcyA9PT0gMCkgc2NvcmUgKz0gMC41O1xuXHRcdFx0cmV0dXJuIHNjb3JlO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBDYWxjdWxhdGVzIHRoZSBzY29yZSBvZiBhbiBvYmplY3Rcblx0XHQgKiBhZ2FpbnN0IHRoZSBzZWFyY2ggcXVlcnkuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gdG9rZW5cblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxuXHRcdCAqIEByZXR1cm4ge251bWJlcn1cblx0XHQgKi9cblx0XHR2YXIgc2NvcmVPYmplY3QgPSAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZmllbGRfY291bnQgPSBmaWVsZHMubGVuZ3RoO1xuXHRcdFx0aWYgKCFmaWVsZF9jb3VudCkge1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXHRcdFx0fVxuXHRcdFx0aWYgKGZpZWxkX2NvdW50ID09PSAxKSB7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbih0b2tlbiwgZGF0YSkge1xuXHRcdFx0XHRcdHJldHVybiBzY29yZVZhbHVlKGdldGF0dHIoZGF0YSwgZmllbGRzWzBdLCBuZXN0aW5nKSwgdG9rZW4pO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKHRva2VuLCBkYXRhKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBzdW0gPSAwOyBpIDwgZmllbGRfY291bnQ7IGkrKykge1xuXHRcdFx0XHRcdHN1bSArPSBzY29yZVZhbHVlKGdldGF0dHIoZGF0YSwgZmllbGRzW2ldLCBuZXN0aW5nKSwgdG9rZW4pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBzdW0gLyBmaWVsZF9jb3VudDtcblx0XHRcdH07XG5cdFx0fSkoKTtcblxuXHRcdGlmICghdG9rZW5fY291bnQpIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cdFx0fVxuXHRcdGlmICh0b2tlbl9jb3VudCA9PT0gMSkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0cmV0dXJuIHNjb3JlT2JqZWN0KHRva2Vuc1swXSwgZGF0YSk7XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmIChzZWFyY2gub3B0aW9ucy5jb25qdW5jdGlvbiA9PT0gJ2FuZCcpIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdHZhciBzY29yZTtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIHN1bSA9IDA7IGkgPCB0b2tlbl9jb3VudDsgaSsrKSB7XG5cdFx0XHRcdFx0c2NvcmUgPSBzY29yZU9iamVjdCh0b2tlbnNbaV0sIGRhdGEpO1xuXHRcdFx0XHRcdGlmIChzY29yZSA8PSAwKSByZXR1cm4gMDtcblx0XHRcdFx0XHRzdW0gKz0gc2NvcmU7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHN1bSAvIHRva2VuX2NvdW50O1xuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIHN1bSA9IDA7IGkgPCB0b2tlbl9jb3VudDsgaSsrKSB7XG5cdFx0XHRcdFx0c3VtICs9IHNjb3JlT2JqZWN0KHRva2Vuc1tpXSwgZGF0YSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHN1bSAvIHRva2VuX2NvdW50O1xuXHRcdFx0fTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGNvbXBhcmUgdHdvXG5cdCAqIHJlc3VsdHMsIGZvciBzb3J0aW5nIHB1cnBvc2VzLiBJZiBubyBzb3J0aW5nIHNob3VsZFxuXHQgKiBiZSBwZXJmb3JtZWQsIGBudWxsYCB3aWxsIGJlIHJldHVybmVkLlxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHNlYXJjaFxuXHQgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuXHQgKiBAcmV0dXJuIGZ1bmN0aW9uKGEsYilcblx0ICovXG5cdFNpZnRlci5wcm90b3R5cGUuZ2V0U29ydEZ1bmN0aW9uID0gZnVuY3Rpb24oc2VhcmNoLCBvcHRpb25zKSB7XG5cdFx0dmFyIGksIG4sIHNlbGYsIGZpZWxkLCBmaWVsZHMsIGZpZWxkc19jb3VudCwgbXVsdGlwbGllciwgbXVsdGlwbGllcnMsIGdldF9maWVsZCwgaW1wbGljaXRfc2NvcmUsIHNvcnQ7XG5cblx0XHRzZWxmICAgPSB0aGlzO1xuXHRcdHNlYXJjaCA9IHNlbGYucHJlcGFyZVNlYXJjaChzZWFyY2gsIG9wdGlvbnMpO1xuXHRcdHNvcnQgICA9ICghc2VhcmNoLnF1ZXJ5ICYmIG9wdGlvbnMuc29ydF9lbXB0eSkgfHwgb3B0aW9ucy5zb3J0O1xuXG5cdFx0LyoqXG5cdFx0ICogRmV0Y2hlcyB0aGUgc3BlY2lmaWVkIHNvcnQgZmllbGQgdmFsdWVcblx0XHQgKiBmcm9tIGEgc2VhcmNoIHJlc3VsdCBpdGVtLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtICB7c3RyaW5nfSBuYW1lXG5cdFx0ICogQHBhcmFtICB7b2JqZWN0fSByZXN1bHRcblx0XHQgKiBAcmV0dXJuIHttaXhlZH1cblx0XHQgKi9cblx0XHRnZXRfZmllbGQgPSBmdW5jdGlvbihuYW1lLCByZXN1bHQpIHtcblx0XHRcdGlmIChuYW1lID09PSAnJHNjb3JlJykgcmV0dXJuIHJlc3VsdC5zY29yZTtcblx0XHRcdHJldHVybiBnZXRhdHRyKHNlbGYuaXRlbXNbcmVzdWx0LmlkXSwgbmFtZSwgb3B0aW9ucy5uZXN0aW5nKTtcblx0XHR9O1xuXG5cdFx0Ly8gcGFyc2Ugb3B0aW9uc1xuXHRcdGZpZWxkcyA9IFtdO1xuXHRcdGlmIChzb3J0KSB7XG5cdFx0XHRmb3IgKGkgPSAwLCBuID0gc29ydC5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0aWYgKHNlYXJjaC5xdWVyeSB8fCBzb3J0W2ldLmZpZWxkICE9PSAnJHNjb3JlJykge1xuXHRcdFx0XHRcdGZpZWxkcy5wdXNoKHNvcnRbaV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gdGhlIFwiJHNjb3JlXCIgZmllbGQgaXMgaW1wbGllZCB0byBiZSB0aGUgcHJpbWFyeVxuXHRcdC8vIHNvcnQgZmllbGQsIHVubGVzcyBpdCdzIG1hbnVhbGx5IHNwZWNpZmllZFxuXHRcdGlmIChzZWFyY2gucXVlcnkpIHtcblx0XHRcdGltcGxpY2l0X3Njb3JlID0gdHJ1ZTtcblx0XHRcdGZvciAoaSA9IDAsIG4gPSBmaWVsZHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdGlmIChmaWVsZHNbaV0uZmllbGQgPT09ICckc2NvcmUnKSB7XG5cdFx0XHRcdFx0aW1wbGljaXRfc2NvcmUgPSBmYWxzZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGltcGxpY2l0X3Njb3JlKSB7XG5cdFx0XHRcdGZpZWxkcy51bnNoaWZ0KHtmaWVsZDogJyRzY29yZScsIGRpcmVjdGlvbjogJ2Rlc2MnfSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoaSA9IDAsIG4gPSBmaWVsZHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdGlmIChmaWVsZHNbaV0uZmllbGQgPT09ICckc2NvcmUnKSB7XG5cdFx0XHRcdFx0ZmllbGRzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdG11bHRpcGxpZXJzID0gW107XG5cdFx0Zm9yIChpID0gMCwgbiA9IGZpZWxkcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdG11bHRpcGxpZXJzLnB1c2goZmllbGRzW2ldLmRpcmVjdGlvbiA9PT0gJ2Rlc2MnID8gLTEgOiAxKTtcblx0XHR9XG5cblx0XHQvLyBidWlsZCBmdW5jdGlvblxuXHRcdGZpZWxkc19jb3VudCA9IGZpZWxkcy5sZW5ndGg7XG5cdFx0aWYgKCFmaWVsZHNfY291bnQpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0gZWxzZSBpZiAoZmllbGRzX2NvdW50ID09PSAxKSB7XG5cdFx0XHRmaWVsZCA9IGZpZWxkc1swXS5maWVsZDtcblx0XHRcdG11bHRpcGxpZXIgPSBtdWx0aXBsaWVyc1swXTtcblx0XHRcdHJldHVybiBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRcdHJldHVybiBtdWx0aXBsaWVyICogY21wKFxuXHRcdFx0XHRcdGdldF9maWVsZChmaWVsZCwgYSksXG5cdFx0XHRcdFx0Z2V0X2ZpZWxkKGZpZWxkLCBiKVxuXHRcdFx0XHQpO1xuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdFx0dmFyIGksIHJlc3VsdCwgYV92YWx1ZSwgYl92YWx1ZSwgZmllbGQ7XG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBmaWVsZHNfY291bnQ7IGkrKykge1xuXHRcdFx0XHRcdGZpZWxkID0gZmllbGRzW2ldLmZpZWxkO1xuXHRcdFx0XHRcdHJlc3VsdCA9IG11bHRpcGxpZXJzW2ldICogY21wKFxuXHRcdFx0XHRcdFx0Z2V0X2ZpZWxkKGZpZWxkLCBhKSxcblx0XHRcdFx0XHRcdGdldF9maWVsZChmaWVsZCwgYilcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGlmIChyZXN1bHQpIHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHR9O1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogUGFyc2VzIGEgc2VhcmNoIHF1ZXJ5IGFuZCByZXR1cm5zIGFuIG9iamVjdFxuXHQgKiB3aXRoIHRva2VucyBhbmQgZmllbGRzIHJlYWR5IHRvIGJlIHBvcHVsYXRlZFxuXHQgKiB3aXRoIHJlc3VsdHMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVxuXHQgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuXHQgKiBAcmV0dXJucyB7b2JqZWN0fVxuXHQgKi9cblx0U2lmdGVyLnByb3RvdHlwZS5wcmVwYXJlU2VhcmNoID0gZnVuY3Rpb24ocXVlcnksIG9wdGlvbnMpIHtcblx0XHRpZiAodHlwZW9mIHF1ZXJ5ID09PSAnb2JqZWN0JykgcmV0dXJuIHF1ZXJ5O1xuXG5cdFx0b3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucyk7XG5cblx0XHR2YXIgb3B0aW9uX2ZpZWxkcyAgICAgPSBvcHRpb25zLmZpZWxkcztcblx0XHR2YXIgb3B0aW9uX3NvcnQgICAgICAgPSBvcHRpb25zLnNvcnQ7XG5cdFx0dmFyIG9wdGlvbl9zb3J0X2VtcHR5ID0gb3B0aW9ucy5zb3J0X2VtcHR5O1xuXG5cdFx0aWYgKG9wdGlvbl9maWVsZHMgJiYgIWlzX2FycmF5KG9wdGlvbl9maWVsZHMpKSBvcHRpb25zLmZpZWxkcyA9IFtvcHRpb25fZmllbGRzXTtcblx0XHRpZiAob3B0aW9uX3NvcnQgJiYgIWlzX2FycmF5KG9wdGlvbl9zb3J0KSkgb3B0aW9ucy5zb3J0ID0gW29wdGlvbl9zb3J0XTtcblx0XHRpZiAob3B0aW9uX3NvcnRfZW1wdHkgJiYgIWlzX2FycmF5KG9wdGlvbl9zb3J0X2VtcHR5KSkgb3B0aW9ucy5zb3J0X2VtcHR5ID0gW29wdGlvbl9zb3J0X2VtcHR5XTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRvcHRpb25zIDogb3B0aW9ucyxcblx0XHRcdHF1ZXJ5ICAgOiBTdHJpbmcocXVlcnkgfHwgJycpLnRvTG93ZXJDYXNlKCksXG5cdFx0XHR0b2tlbnMgIDogdGhpcy50b2tlbml6ZShxdWVyeSksXG5cdFx0XHR0b3RhbCAgIDogMCxcblx0XHRcdGl0ZW1zICAgOiBbXVxuXHRcdH07XG5cdH07XG5cblx0LyoqXG5cdCAqIFNlYXJjaGVzIHRocm91Z2ggYWxsIGl0ZW1zIGFuZCByZXR1cm5zIGEgc29ydGVkIGFycmF5IG9mIG1hdGNoZXMuXG5cdCAqXG5cdCAqIFRoZSBgb3B0aW9uc2AgcGFyYW1ldGVyIGNhbiBjb250YWluOlxuXHQgKlxuXHQgKiAgIC0gZmllbGRzIHtzdHJpbmd8YXJyYXl9XG5cdCAqICAgLSBzb3J0IHthcnJheX1cblx0ICogICAtIHNjb3JlIHtmdW5jdGlvbn1cblx0ICogICAtIGZpbHRlciB7Ym9vbH1cblx0ICogICAtIGxpbWl0IHtpbnRlZ2VyfVxuXHQgKlxuXHQgKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nOlxuXHQgKlxuXHQgKiAgIC0gb3B0aW9ucyB7b2JqZWN0fVxuXHQgKiAgIC0gcXVlcnkge3N0cmluZ31cblx0ICogICAtIHRva2VucyB7YXJyYXl9XG5cdCAqICAgLSB0b3RhbCB7aW50fVxuXHQgKiAgIC0gaXRlbXMge2FycmF5fVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlcblx0ICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcblx0ICogQHJldHVybnMge29iamVjdH1cblx0ICovXG5cdFNpZnRlci5wcm90b3R5cGUuc2VhcmNoID0gZnVuY3Rpb24ocXVlcnksIG9wdGlvbnMpIHtcblx0XHR2YXIgc2VsZiA9IHRoaXMsIHZhbHVlLCBzY29yZSwgc2VhcmNoLCBjYWxjdWxhdGVTY29yZTtcblx0XHR2YXIgZm5fc29ydDtcblx0XHR2YXIgZm5fc2NvcmU7XG5cblx0XHRzZWFyY2ggID0gdGhpcy5wcmVwYXJlU2VhcmNoKHF1ZXJ5LCBvcHRpb25zKTtcblx0XHRvcHRpb25zID0gc2VhcmNoLm9wdGlvbnM7XG5cdFx0cXVlcnkgICA9IHNlYXJjaC5xdWVyeTtcblxuXHRcdC8vIGdlbmVyYXRlIHJlc3VsdCBzY29yaW5nIGZ1bmN0aW9uXG5cdFx0Zm5fc2NvcmUgPSBvcHRpb25zLnNjb3JlIHx8IHNlbGYuZ2V0U2NvcmVGdW5jdGlvbihzZWFyY2gpO1xuXG5cdFx0Ly8gcGVyZm9ybSBzZWFyY2ggYW5kIHNvcnRcblx0XHRpZiAocXVlcnkubGVuZ3RoKSB7XG5cdFx0XHRzZWxmLml0ZXJhdG9yKHNlbGYuaXRlbXMsIGZ1bmN0aW9uKGl0ZW0sIGlkKSB7XG5cdFx0XHRcdHNjb3JlID0gZm5fc2NvcmUoaXRlbSk7XG5cdFx0XHRcdGlmIChvcHRpb25zLmZpbHRlciA9PT0gZmFsc2UgfHwgc2NvcmUgPiAwKSB7XG5cdFx0XHRcdFx0c2VhcmNoLml0ZW1zLnB1c2goeydzY29yZSc6IHNjb3JlLCAnaWQnOiBpZH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2VsZi5pdGVyYXRvcihzZWxmLml0ZW1zLCBmdW5jdGlvbihpdGVtLCBpZCkge1xuXHRcdFx0XHRzZWFyY2guaXRlbXMucHVzaCh7J3Njb3JlJzogMSwgJ2lkJzogaWR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGZuX3NvcnQgPSBzZWxmLmdldFNvcnRGdW5jdGlvbihzZWFyY2gsIG9wdGlvbnMpO1xuXHRcdGlmIChmbl9zb3J0KSBzZWFyY2guaXRlbXMuc29ydChmbl9zb3J0KTtcblxuXHRcdC8vIGFwcGx5IGxpbWl0c1xuXHRcdHNlYXJjaC50b3RhbCA9IHNlYXJjaC5pdGVtcy5sZW5ndGg7XG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLmxpbWl0ID09PSAnbnVtYmVyJykge1xuXHRcdFx0c2VhcmNoLml0ZW1zID0gc2VhcmNoLml0ZW1zLnNsaWNlKDAsIG9wdGlvbnMubGltaXQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBzZWFyY2g7XG5cdH07XG5cblx0Ly8gdXRpbGl0aWVzXG5cdC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cblxuXHR2YXIgY21wID0gZnVuY3Rpb24oYSwgYikge1xuXHRcdGlmICh0eXBlb2YgYSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGIgPT09ICdudW1iZXInKSB7XG5cdFx0XHRyZXR1cm4gYSA+IGIgPyAxIDogKGEgPCBiID8gLTEgOiAwKTtcblx0XHR9XG5cdFx0YSA9IGFzY2lpZm9sZChTdHJpbmcoYSB8fCAnJykpO1xuXHRcdGIgPSBhc2NpaWZvbGQoU3RyaW5nKGIgfHwgJycpKTtcblx0XHRpZiAoYSA+IGIpIHJldHVybiAxO1xuXHRcdGlmIChiID4gYSkgcmV0dXJuIC0xO1xuXHRcdHJldHVybiAwO1xuXHR9O1xuXG5cdHZhciBleHRlbmQgPSBmdW5jdGlvbihhLCBiKSB7XG5cdFx0dmFyIGksIG4sIGssIG9iamVjdDtcblx0XHRmb3IgKGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0b2JqZWN0ID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFvYmplY3QpIGNvbnRpbnVlO1xuXHRcdFx0Zm9yIChrIGluIG9iamVjdCkge1xuXHRcdFx0XHRpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KGspKSB7XG5cdFx0XHRcdFx0YVtrXSA9IG9iamVjdFtrXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gYTtcblx0fTtcblxuXHQvKipcblx0ICogQSBwcm9wZXJ0eSBnZXR0ZXIgcmVzb2x2aW5nIGRvdC1ub3RhdGlvblxuXHQgKiBAcGFyYW0gIHtPYmplY3R9ICBvYmogICAgIFRoZSByb290IG9iamVjdCB0byBmZXRjaCBwcm9wZXJ0eSBvblxuXHQgKiBAcGFyYW0gIHtTdHJpbmd9ICBuYW1lICAgIFRoZSBvcHRpb25hbGx5IGRvdHRlZCBwcm9wZXJ0eSBuYW1lIHRvIGZldGNoXG5cdCAqIEBwYXJhbSAge0Jvb2xlYW59IG5lc3RpbmcgSGFuZGxlIG5lc3Rpbmcgb3Igbm90XG5cdCAqIEByZXR1cm4ge09iamVjdH0gICAgICAgICAgVGhlIHJlc29sdmVkIHByb3BlcnR5IHZhbHVlXG5cdCAqL1xuXHR2YXIgZ2V0YXR0ciA9IGZ1bmN0aW9uKG9iaiwgbmFtZSwgbmVzdGluZykge1xuXHQgICAgaWYgKCFvYmogfHwgIW5hbWUpIHJldHVybjtcblx0ICAgIGlmICghbmVzdGluZykgcmV0dXJuIG9ialtuYW1lXTtcblx0ICAgIHZhciBuYW1lcyA9IG5hbWUuc3BsaXQoXCIuXCIpO1xuXHQgICAgd2hpbGUobmFtZXMubGVuZ3RoICYmIChvYmogPSBvYmpbbmFtZXMuc2hpZnQoKV0pKTtcblx0ICAgIHJldHVybiBvYmo7XG5cdH07XG5cblx0dmFyIHRyaW0gPSBmdW5jdGlvbihzdHIpIHtcblx0XHRyZXR1cm4gKHN0ciArICcnKS5yZXBsYWNlKC9eXFxzK3xcXHMrJHwvZywgJycpO1xuXHR9O1xuXG5cdHZhciBlc2NhcGVfcmVnZXggPSBmdW5jdGlvbihzdHIpIHtcblx0XHRyZXR1cm4gKHN0ciArICcnKS5yZXBsYWNlKC8oWy4/KiteJFtcXF1cXFxcKCl7fXwtXSkvZywgJ1xcXFwkMScpO1xuXHR9O1xuXG5cdHZhciBpc19hcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgKHR5cGVvZiAkICE9PSAndW5kZWZpbmVkJyAmJiAkLmlzQXJyYXkpIHx8IGZ1bmN0aW9uKG9iamVjdCkge1xuXHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcblx0fTtcblxuXHR2YXIgRElBQ1JJVElDUyA9IHtcblx0XHQnYSc6ICdbYeG4gOG4gcSCxIPDgsOix43Hjsi64rGlyKbIp+G6oOG6ocOEw6TDgMOgw4HDocSAxIHDg8Ojw4XDpcSFxITDg8SFxIRdJyxcblx0XHQnYic6ICdbYuKQos6yzpJC4Li/8JCMgeGbkl0nLFxuXHRcdCdjJzogJ1tjxIbEh8SIxInEjMSNxIrEi0PMhGPMhMOHw6fhuIjhuInIu8i8xofGiMmV4bSE77yj772DXScsXG5cdFx0J2QnOiAnW2TEjsSP4biK4biL4biQ4biR4biM4biN4biS4biT4biO4biPxJDEkUTMpmTMpsaJyZbGismXxovGjOG1reG2geG2kcih4bSF77yk772Ew7BdJyxcblx0XHQnZSc6ICdbZcOJw6nDiMOow4rDquG4mOG4mcSaxJvElMSV4bq84bq94bia4bib4bq64bq7xJbEl8OLw6vEksSTyKjIqcSYxJnhtpLJhsmHyITIheG6vuG6v+G7gOG7geG7hOG7heG7guG7g+G4nOG4neG4luG4l+G4lOG4lciGyIfhurjhurnhu4bhu4fisbjhtIfvvKXvvYXJmMedxo/GkM61XScsXG5cdFx0J2YnOiAnW2bGkcaS4bie4bifXScsXG5cdFx0J2cnOiAnW2fJouKCssekx6XEnMSdxJ7En8SixKPGk8mgxKDEoV0nLFxuXHRcdCdoJzogJ1toxKTEpcSmxKfhuKjhuKnhupbhupbhuKThuKXhuKLhuKPJpsqwx7bGlV0nLFxuXHRcdCdpJzogJ1tpw43DrcOMw6zErMStw47DrsePx5DDj8Ov4biu4bivxKjEqcSuxK/EqsSr4buI4buJyIjIiciKyIvhu4rhu4vhuKzhuK3Gl8moyajMhuG1u+G2lsSwaUnEscmq77yp772JXScsXG5cdFx0J2onOiAnW2rIt8S0xLXJiMmJyp3Jn8qyXScsXG5cdFx0J2snOiAnW2vGmMaZ6p2A6p2B4biw4bixx6jHqeG4suG4s+G4tOG4tc66z7Digq1dJyxcblx0XHQnbCc6ICdbbMWBxYLEvcS+xLvEvMS5xLrhuLbhuLfhuLjhuLnhuLzhuL3huLrhuLvEv8WAyL3GmuKxoOKxoeKxosmryazhtoXJrci0yp/vvKzvvYxdJyxcblx0XHQnbic6ICdbbsWDxYTHuMe5xYfFiMORw7HhuYThuYXFhcWG4bmG4bmH4bmK4bmL4bmI4bmJTsyIbsyIxp3Jssigxp7htbDhtofJs8i1ybTvvK7vvY7FisWLXScsXG5cdFx0J28nOiAnW2/DmMO4w5bDtsOTw7PDksOyw5TDtMeRx5LFkMWRxY7Fj8iuyK/hu4zhu43Gn8m1xqDGoeG7juG7j8WMxY3DlcO1x6rHq8iMyI3VldaFXScsXG5cdFx0J3AnOiAnW3DhuZThuZXhuZbhuZfisaPhtb3GpMal4bWxXScsXG5cdFx0J3EnOiAnW3HqnZbqnZfKoMmKyYvqnZjqnZlxzINdJyxcblx0XHQncic6ICdbcsWUxZXJjMmNxZjFmcWWxZfhuZjhuZnIkMiRyJLIk+G5muG5m+KxpMm9XScsXG5cdFx0J3MnOiAnW3PFmsWb4bmg4bmh4bmi4bmj6p6o6p6pxZzFncWgxaHFnsWfyJjImVPMiHPMiF0nLFxuXHRcdCd0JzogJ1t0xaTFpeG5quG5q8WixaPhuazhua3GrsqIyJrIm+G5sOG5seG5ruG5r8asxq1dJyxcblx0XHQndSc6ICdbdcWsxa3JhMqJ4buk4bulw5zDvMOaw7rDmcO5w5vDu8eTx5TFsMWxxazFrcavxrDhu6bhu6fFqsWrxajFqcWyxbPIlMiV4oiqXScsXG5cdFx0J3YnOiAnW3bhubzhub3hub7hub/GssqL6p2e6p2f4rGxyotdJyxcblx0XHQndyc6ICdbd+G6guG6g+G6gOG6gcW0xbXhuoThuoXhuobhuofhuojhuoldJyxcblx0XHQneCc6ICdbeOG6jOG6jeG6iuG6i8+HXScsXG5cdFx0J3knOiAnW3nDncO94buy4buzxbbFt8W4w7/hu7jhu7nhuo7huo/hu7Thu7XJjsmPxrPGtF0nLFxuXHRcdCd6JzogJ1t6xbnFuuG6kOG6kcW9xb7Fu8W84bqS4bqT4bqU4bqVxrXGtl0nXG5cdH07XG5cblx0dmFyIGFzY2lpZm9sZCA9IChmdW5jdGlvbigpIHtcblx0XHR2YXIgaSwgbiwgaywgY2h1bms7XG5cdFx0dmFyIGZvcmVpZ25sZXR0ZXJzID0gJyc7XG5cdFx0dmFyIGxvb2t1cCA9IHt9O1xuXHRcdGZvciAoayBpbiBESUFDUklUSUNTKSB7XG5cdFx0XHRpZiAoRElBQ1JJVElDUy5oYXNPd25Qcm9wZXJ0eShrKSkge1xuXHRcdFx0XHRjaHVuayA9IERJQUNSSVRJQ1Nba10uc3Vic3RyaW5nKDIsIERJQUNSSVRJQ1Nba10ubGVuZ3RoIC0gMSk7XG5cdFx0XHRcdGZvcmVpZ25sZXR0ZXJzICs9IGNodW5rO1xuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gY2h1bmsubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0bG9va3VwW2NodW5rLmNoYXJBdChpKV0gPSBrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHZhciByZWdleHAgPSBuZXcgUmVnRXhwKCdbJyArICBmb3JlaWdubGV0dGVycyArICddJywgJ2cnKTtcblx0XHRyZXR1cm4gZnVuY3Rpb24oc3RyKSB7XG5cdFx0XHRyZXR1cm4gc3RyLnJlcGxhY2UocmVnZXhwLCBmdW5jdGlvbihmb3JlaWdubGV0dGVyKSB7XG5cdFx0XHRcdHJldHVybiBsb29rdXBbZm9yZWlnbmxldHRlcl07XG5cdFx0XHR9KS50b0xvd2VyQ2FzZSgpO1xuXHRcdH07XG5cdH0pKCk7XG5cblxuXHQvLyBleHBvcnRcblx0Ly8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuXG5cdHJldHVybiBTaWZ0ZXI7XG59KSk7XG5cblxuXG4vKipcbiAqIG1pY3JvcGx1Z2luLmpzXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMgQnJpYW4gUmVhdmlzICYgY29udHJpYnV0b3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXNcbiAqIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlclxuICogdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRlxuICogQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlXG4gKiBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEBhdXRob3IgQnJpYW4gUmVhdmlzIDxicmlhbkB0aGlyZHJvdXRlLmNvbT5cbiAqL1xuXG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKCdtaWNyb3BsdWdpbicsIGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHR9IGVsc2Uge1xuXHRcdHJvb3QuTWljcm9QbHVnaW4gPSBmYWN0b3J5KCk7XG5cdH1cbn0odGhpcywgZnVuY3Rpb24oKSB7XG5cdHZhciBNaWNyb1BsdWdpbiA9IHt9O1xuXG5cdE1pY3JvUGx1Z2luLm1peGluID0gZnVuY3Rpb24oSW50ZXJmYWNlKSB7XG5cdFx0SW50ZXJmYWNlLnBsdWdpbnMgPSB7fTtcblxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVzIHRoZSBsaXN0ZWQgcGx1Z2lucyAod2l0aCBvcHRpb25zKS5cblx0XHQgKiBBY2NlcHRhYmxlIGZvcm1hdHM6XG5cdFx0ICpcblx0XHQgKiBMaXN0ICh3aXRob3V0IG9wdGlvbnMpOlxuXHRcdCAqICAgWydhJywgJ2InLCAnYyddXG5cdFx0ICpcblx0XHQgKiBMaXN0ICh3aXRoIG9wdGlvbnMpOlxuXHRcdCAqICAgW3snbmFtZSc6ICdhJywgb3B0aW9uczoge319LCB7J25hbWUnOiAnYicsIG9wdGlvbnM6IHt9fV1cblx0XHQgKlxuXHRcdCAqIEhhc2ggKHdpdGggb3B0aW9ucyk6XG5cdFx0ICogICB7J2EnOiB7IC4uLiB9LCAnYic6IHsgLi4uIH0sICdjJzogeyAuLi4gfX1cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7bWl4ZWR9IHBsdWdpbnNcblx0XHQgKi9cblx0XHRJbnRlcmZhY2UucHJvdG90eXBlLmluaXRpYWxpemVQbHVnaW5zID0gZnVuY3Rpb24ocGx1Z2lucykge1xuXHRcdFx0dmFyIGksIG4sIGtleTtcblx0XHRcdHZhciBzZWxmICA9IHRoaXM7XG5cdFx0XHR2YXIgcXVldWUgPSBbXTtcblxuXHRcdFx0c2VsZi5wbHVnaW5zID0ge1xuXHRcdFx0XHRuYW1lcyAgICAgOiBbXSxcblx0XHRcdFx0c2V0dGluZ3MgIDoge30sXG5cdFx0XHRcdHJlcXVlc3RlZCA6IHt9LFxuXHRcdFx0XHRsb2FkZWQgICAgOiB7fVxuXHRcdFx0fTtcblxuXHRcdFx0aWYgKHV0aWxzLmlzQXJyYXkocGx1Z2lucykpIHtcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IHBsdWdpbnMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBwbHVnaW5zW2ldID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdFx0cXVldWUucHVzaChwbHVnaW5zW2ldKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5wbHVnaW5zLnNldHRpbmdzW3BsdWdpbnNbaV0ubmFtZV0gPSBwbHVnaW5zW2ldLm9wdGlvbnM7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHBsdWdpbnNbaV0ubmFtZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHBsdWdpbnMpIHtcblx0XHRcdFx0Zm9yIChrZXkgaW4gcGx1Z2lucykge1xuXHRcdFx0XHRcdGlmIChwbHVnaW5zLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRcdHNlbGYucGx1Z2lucy5zZXR0aW5nc1trZXldID0gcGx1Z2luc1trZXldO1xuXHRcdFx0XHRcdFx0cXVldWUucHVzaChrZXkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHR3aGlsZSAocXVldWUubGVuZ3RoKSB7XG5cdFx0XHRcdHNlbGYucmVxdWlyZShxdWV1ZS5zaGlmdCgpKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0SW50ZXJmYWNlLnByb3RvdHlwZS5sb2FkUGx1Z2luID0gZnVuY3Rpb24obmFtZSkge1xuXHRcdFx0dmFyIHNlbGYgICAgPSB0aGlzO1xuXHRcdFx0dmFyIHBsdWdpbnMgPSBzZWxmLnBsdWdpbnM7XG5cdFx0XHR2YXIgcGx1Z2luICA9IEludGVyZmFjZS5wbHVnaW5zW25hbWVdO1xuXG5cdFx0XHRpZiAoIUludGVyZmFjZS5wbHVnaW5zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGZpbmQgXCInICsgIG5hbWUgKyAnXCIgcGx1Z2luJyk7XG5cdFx0XHR9XG5cblx0XHRcdHBsdWdpbnMucmVxdWVzdGVkW25hbWVdID0gdHJ1ZTtcblx0XHRcdHBsdWdpbnMubG9hZGVkW25hbWVdID0gcGx1Z2luLmZuLmFwcGx5KHNlbGYsIFtzZWxmLnBsdWdpbnMuc2V0dGluZ3NbbmFtZV0gfHwge31dKTtcblx0XHRcdHBsdWdpbnMubmFtZXMucHVzaChuYW1lKTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZXMgYSBwbHVnaW4uXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuXHRcdCAqL1xuXHRcdEludGVyZmFjZS5wcm90b3R5cGUucmVxdWlyZSA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHZhciBwbHVnaW5zID0gc2VsZi5wbHVnaW5zO1xuXG5cdFx0XHRpZiAoIXNlbGYucGx1Z2lucy5sb2FkZWQuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcblx0XHRcdFx0aWYgKHBsdWdpbnMucmVxdWVzdGVkW25hbWVdKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdQbHVnaW4gaGFzIGNpcmN1bGFyIGRlcGVuZGVuY3kgKFwiJyArIG5hbWUgKyAnXCIpJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2VsZi5sb2FkUGx1Z2luKG5hbWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcGx1Z2lucy5sb2FkZWRbbmFtZV07XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIFJlZ2lzdGVycyBhIHBsdWdpbi5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cblx0XHQgKi9cblx0XHRJbnRlcmZhY2UuZGVmaW5lID0gZnVuY3Rpb24obmFtZSwgZm4pIHtcblx0XHRcdEludGVyZmFjZS5wbHVnaW5zW25hbWVdID0ge1xuXHRcdFx0XHQnbmFtZScgOiBuYW1lLFxuXHRcdFx0XHQnZm4nICAgOiBmblxuXHRcdFx0fTtcblx0XHR9O1xuXHR9O1xuXG5cdHZhciB1dGlscyA9IHtcblx0XHRpc0FycmF5OiBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uKHZBcmcpIHtcblx0XHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodkFyZykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBNaWNyb1BsdWdpbjtcbn0pKTtcblxuLyoqXG4gKiBzZWxlY3RpemUuanMgKHYwLjEyLjQpXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTPigJMyMDE1IEJyaWFuIFJlYXZpcyAmIGNvbnRyaWJ1dG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzXG4gKiBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXJcbiAqIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0ZcbiAqIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZVxuICogZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKiBAYXV0aG9yIEJyaWFuIFJlYXZpcyA8YnJpYW5AdGhpcmRyb3V0ZS5jb20+XG4gKi9cblxuLypqc2hpbnQgY3VybHk6ZmFsc2UgKi9cbi8qanNoaW50IGJyb3dzZXI6dHJ1ZSAqL1xuXG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKCdzZWxlY3RpemUnLCBbJ2pxdWVyeScsJ3NpZnRlcicsJ21pY3JvcGx1Z2luJ10sIGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqcXVlcnknKSwgcmVxdWlyZSgnc2lmdGVyJyksIHJlcXVpcmUoJ21pY3JvcGx1Z2luJykpO1xuXHR9IGVsc2Uge1xuXHRcdHJvb3QuU2VsZWN0aXplID0gZmFjdG9yeShyb290LmpRdWVyeSwgcm9vdC5TaWZ0ZXIsIHJvb3QuTWljcm9QbHVnaW4pO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uKCQsIFNpZnRlciwgTWljcm9QbHVnaW4pIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoaWdobGlnaHQgPSBmdW5jdGlvbigkZWxlbWVudCwgcGF0dGVybikge1xuXHRcdGlmICh0eXBlb2YgcGF0dGVybiA9PT0gJ3N0cmluZycgJiYgIXBhdHRlcm4ubGVuZ3RoKSByZXR1cm47XG5cdFx0dmFyIHJlZ2V4ID0gKHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJykgPyBuZXcgUmVnRXhwKHBhdHRlcm4sICdpJykgOiBwYXR0ZXJuO1xuXG5cdFx0dmFyIGhpZ2hsaWdodCA9IGZ1bmN0aW9uKG5vZGUpIHtcblx0XHRcdHZhciBza2lwID0gMDtcblx0XHRcdGlmIChub2RlLm5vZGVUeXBlID09PSAzKSB7XG5cdFx0XHRcdHZhciBwb3MgPSBub2RlLmRhdGEuc2VhcmNoKHJlZ2V4KTtcblx0XHRcdFx0aWYgKHBvcyA+PSAwICYmIG5vZGUuZGF0YS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0dmFyIG1hdGNoID0gbm9kZS5kYXRhLm1hdGNoKHJlZ2V4KTtcblx0XHRcdFx0XHR2YXIgc3Bhbm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdFx0XHRcdFx0c3Bhbm5vZGUuY2xhc3NOYW1lID0gJ2hpZ2hsaWdodCc7XG5cdFx0XHRcdFx0dmFyIG1pZGRsZWJpdCA9IG5vZGUuc3BsaXRUZXh0KHBvcyk7XG5cdFx0XHRcdFx0dmFyIGVuZGJpdCA9IG1pZGRsZWJpdC5zcGxpdFRleHQobWF0Y2hbMF0ubGVuZ3RoKTtcblx0XHRcdFx0XHR2YXIgbWlkZGxlY2xvbmUgPSBtaWRkbGViaXQuY2xvbmVOb2RlKHRydWUpO1xuXHRcdFx0XHRcdHNwYW5ub2RlLmFwcGVuZENoaWxkKG1pZGRsZWNsb25lKTtcblx0XHRcdFx0XHRtaWRkbGViaXQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoc3Bhbm5vZGUsIG1pZGRsZWJpdCk7XG5cdFx0XHRcdFx0c2tpcCA9IDE7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBub2RlLmNoaWxkTm9kZXMgJiYgIS8oc2NyaXB0fHN0eWxlKS9pLnRlc3Qobm9kZS50YWdOYW1lKSkge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHRcdGkgKz0gaGlnaGxpZ2h0KG5vZGUuY2hpbGROb2Rlc1tpXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBza2lwO1xuXHRcdH07XG5cblx0XHRyZXR1cm4gJGVsZW1lbnQuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGhpZ2hsaWdodCh0aGlzKTtcblx0XHR9KTtcblx0fTtcblxuXHQvKipcblx0ICogcmVtb3ZlSGlnaGxpZ2h0IGZuIGNvcGllZCBmcm9tIGhpZ2hsaWdodCB2NSBhbmRcblx0ICogZWRpdGVkIHRvIHJlbW92ZSB3aXRoKCkgYW5kIHBhc3MganMgc3RyaWN0IG1vZGVcblx0ICovXG5cdCQuZm4ucmVtb3ZlSGlnaGxpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZmluZChcInNwYW4uaGlnaGxpZ2h0XCIpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZC5ub2RlTmFtZTtcblx0XHRcdHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG5cdFx0XHRwYXJlbnQucmVwbGFjZUNoaWxkKHRoaXMuZmlyc3RDaGlsZCwgdGhpcyk7XG5cdFx0XHRwYXJlbnQubm9ybWFsaXplKCk7XG5cdFx0fSkuZW5kKCk7XG5cdH07XG5cblxuXHR2YXIgTWljcm9FdmVudCA9IGZ1bmN0aW9uKCkge307XG5cdE1pY3JvRXZlbnQucHJvdG90eXBlID0ge1xuXHRcdG9uOiBmdW5jdGlvbihldmVudCwgZmN0KXtcblx0XHRcdHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcblx0XHRcdHRoaXMuX2V2ZW50c1tldmVudF0gPSB0aGlzLl9ldmVudHNbZXZlbnRdIHx8IFtdO1xuXHRcdFx0dGhpcy5fZXZlbnRzW2V2ZW50XS5wdXNoKGZjdCk7XG5cdFx0fSxcblx0XHRvZmY6IGZ1bmN0aW9uKGV2ZW50LCBmY3Qpe1xuXHRcdFx0dmFyIG4gPSBhcmd1bWVudHMubGVuZ3RoO1xuXHRcdFx0aWYgKG4gPT09IDApIHJldHVybiBkZWxldGUgdGhpcy5fZXZlbnRzO1xuXHRcdFx0aWYgKG4gPT09IDEpIHJldHVybiBkZWxldGUgdGhpcy5fZXZlbnRzW2V2ZW50XTtcblxuXHRcdFx0dGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuXHRcdFx0aWYgKGV2ZW50IGluIHRoaXMuX2V2ZW50cyA9PT0gZmFsc2UpIHJldHVybjtcblx0XHRcdHRoaXMuX2V2ZW50c1tldmVudF0uc3BsaWNlKHRoaXMuX2V2ZW50c1tldmVudF0uaW5kZXhPZihmY3QpLCAxKTtcblx0XHR9LFxuXHRcdHRyaWdnZXI6IGZ1bmN0aW9uKGV2ZW50IC8qICwgYXJncy4uLiAqLyl7XG5cdFx0XHR0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG5cdFx0XHRpZiAoZXZlbnQgaW4gdGhpcy5fZXZlbnRzID09PSBmYWxzZSkgcmV0dXJuO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9ldmVudHNbZXZlbnRdLmxlbmd0aDsgaSsrKXtcblx0XHRcdFx0dGhpcy5fZXZlbnRzW2V2ZW50XVtpXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIE1peGluIHdpbGwgZGVsZWdhdGUgYWxsIE1pY3JvRXZlbnQuanMgZnVuY3Rpb24gaW4gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cblx0ICpcblx0ICogLSBNaWNyb0V2ZW50Lm1peGluKEZvb2Jhcikgd2lsbCBtYWtlIEZvb2JhciBhYmxlIHRvIHVzZSBNaWNyb0V2ZW50XG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSB0aGUgb2JqZWN0IHdoaWNoIHdpbGwgc3VwcG9ydCBNaWNyb0V2ZW50XG5cdCAqL1xuXHRNaWNyb0V2ZW50Lm1peGluID0gZnVuY3Rpb24oZGVzdE9iamVjdCl7XG5cdFx0dmFyIHByb3BzID0gWydvbicsICdvZmYnLCAndHJpZ2dlciddO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspe1xuXHRcdFx0ZGVzdE9iamVjdC5wcm90b3R5cGVbcHJvcHNbaV1dID0gTWljcm9FdmVudC5wcm90b3R5cGVbcHJvcHNbaV1dO1xuXHRcdH1cblx0fTtcblxuXHR2YXIgSVNfTUFDICAgICAgICA9IC9NYWMvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cblx0dmFyIEtFWV9BICAgICAgICAgPSA2NTtcblx0dmFyIEtFWV9DT01NQSAgICAgPSAxODg7XG5cdHZhciBLRVlfUkVUVVJOICAgID0gMTM7XG5cdHZhciBLRVlfRVNDICAgICAgID0gMjc7XG5cdHZhciBLRVlfTEVGVCAgICAgID0gMzc7XG5cdHZhciBLRVlfVVAgICAgICAgID0gMzg7XG5cdHZhciBLRVlfUCAgICAgICAgID0gODA7XG5cdHZhciBLRVlfUklHSFQgICAgID0gMzk7XG5cdHZhciBLRVlfRE9XTiAgICAgID0gNDA7XG5cdHZhciBLRVlfTiAgICAgICAgID0gNzg7XG5cdHZhciBLRVlfQkFDS1NQQUNFID0gODtcblx0dmFyIEtFWV9ERUxFVEUgICAgPSA0Njtcblx0dmFyIEtFWV9TSElGVCAgICAgPSAxNjtcblx0dmFyIEtFWV9DTUQgICAgICAgPSBJU19NQUMgPyA5MSA6IDE3O1xuXHR2YXIgS0VZX0NUUkwgICAgICA9IElTX01BQyA/IDE4IDogMTc7XG5cdHZhciBLRVlfVEFCICAgICAgID0gOTtcblxuXHR2YXIgVEFHX1NFTEVDVCAgICA9IDE7XG5cdHZhciBUQUdfSU5QVVQgICAgID0gMjtcblxuXHQvLyBmb3Igbm93LCBhbmRyb2lkIHN1cHBvcnQgaW4gZ2VuZXJhbCBpcyB0b28gc3BvdHR5IHRvIHN1cHBvcnQgdmFsaWRpdHlcblx0dmFyIFNVUFBPUlRTX1ZBTElESVRZX0FQSSA9ICEvYW5kcm9pZC9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpICYmICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKS52YWxpZGl0eTtcblxuXG5cdHZhciBpc3NldCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuXHRcdHJldHVybiB0eXBlb2Ygb2JqZWN0ICE9PSAndW5kZWZpbmVkJztcblx0fTtcblxuXHQvKipcblx0ICogQ29udmVydHMgYSBzY2FsYXIgdG8gaXRzIGJlc3Qgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG5cdCAqIGZvciBoYXNoIGtleXMgYW5kIEhUTUwgYXR0cmlidXRlIHZhbHVlcy5cblx0ICpcblx0ICogVHJhbnNmb3JtYXRpb25zOlxuXHQgKiAgICdzdHInICAgICAtPiAnc3RyJ1xuXHQgKiAgIG51bGwgICAgICAtPiAnJ1xuXHQgKiAgIHVuZGVmaW5lZCAtPiAnJ1xuXHQgKiAgIHRydWUgICAgICAtPiAnMSdcblx0ICogICBmYWxzZSAgICAgLT4gJzAnXG5cdCAqICAgMCAgICAgICAgIC0+ICcwJ1xuXHQgKiAgIDEgICAgICAgICAtPiAnMSdcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cblx0ICovXG5cdHZhciBoYXNoX2tleSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdmFsdWUgPT09IG51bGwpIHJldHVybiBudWxsO1xuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykgcmV0dXJuIHZhbHVlID8gJzEnIDogJzAnO1xuXHRcdHJldHVybiB2YWx1ZSArICcnO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBFc2NhcGVzIGEgc3RyaW5nIGZvciB1c2Ugd2l0aGluIEhUTUwuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcblx0ICogQHJldHVybnMge3N0cmluZ31cblx0ICovXG5cdHZhciBlc2NhcGVfaHRtbCA9IGZ1bmN0aW9uKHN0cikge1xuXHRcdHJldHVybiAoc3RyICsgJycpXG5cdFx0XHQucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuXHRcdFx0LnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuXHRcdFx0LnJlcGxhY2UoLz4vZywgJyZndDsnKVxuXHRcdFx0LnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKTtcblx0fTtcblxuXHQvKipcblx0ICogRXNjYXBlcyBcIiRcIiBjaGFyYWN0ZXJzIGluIHJlcGxhY2VtZW50IHN0cmluZ3MuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcblx0ICogQHJldHVybnMge3N0cmluZ31cblx0ICovXG5cdHZhciBlc2NhcGVfcmVwbGFjZSA9IGZ1bmN0aW9uKHN0cikge1xuXHRcdHJldHVybiAoc3RyICsgJycpLnJlcGxhY2UoL1xcJC9nLCAnJCQkJCcpO1xuXHR9O1xuXG5cdHZhciBob29rID0ge307XG5cblx0LyoqXG5cdCAqIFdyYXBzIGBtZXRob2RgIG9uIGBzZWxmYCBzbyB0aGF0IGBmbmBcblx0ICogaXMgaW52b2tlZCBiZWZvcmUgdGhlIG9yaWdpbmFsIG1ldGhvZC5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IHNlbGZcblx0ICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxuXHQgKi9cblx0aG9vay5iZWZvcmUgPSBmdW5jdGlvbihzZWxmLCBtZXRob2QsIGZuKSB7XG5cdFx0dmFyIG9yaWdpbmFsID0gc2VsZlttZXRob2RdO1xuXHRcdHNlbGZbbWV0aG9kXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Zm4uYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcblx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuXHRcdH07XG5cdH07XG5cblx0LyoqXG5cdCAqIFdyYXBzIGBtZXRob2RgIG9uIGBzZWxmYCBzbyB0aGF0IGBmbmBcblx0ICogaXMgaW52b2tlZCBhZnRlciB0aGUgb3JpZ2luYWwgbWV0aG9kLlxuXHQgKlxuXHQgKiBAcGFyYW0ge29iamVjdH0gc2VsZlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXG5cdCAqL1xuXHRob29rLmFmdGVyID0gZnVuY3Rpb24oc2VsZiwgbWV0aG9kLCBmbikge1xuXHRcdHZhciBvcmlnaW5hbCA9IHNlbGZbbWV0aG9kXTtcblx0XHRzZWxmW21ldGhvZF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciByZXN1bHQgPSBvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuXHRcdFx0Zm4uYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fTtcblx0fTtcblxuXHQvKipcblx0ICogV3JhcHMgYGZuYCBzbyB0aGF0IGl0IGNhbiBvbmx5IGJlIGludm9rZWQgb25jZS5cblx0ICpcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cblx0ICogQHJldHVybnMge2Z1bmN0aW9ufVxuXHQgKi9cblx0dmFyIG9uY2UgPSBmdW5jdGlvbihmbikge1xuXHRcdHZhciBjYWxsZWQgPSBmYWxzZTtcblx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoY2FsbGVkKSByZXR1cm47XG5cdFx0XHRjYWxsZWQgPSB0cnVlO1xuXHRcdFx0Zm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHR9O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBXcmFwcyBgZm5gIHNvIHRoYXQgaXQgY2FuIG9ubHkgYmUgY2FsbGVkIG9uY2Vcblx0ICogZXZlcnkgYGRlbGF5YCBtaWxsaXNlY29uZHMgKGludm9rZWQgb24gdGhlIGZhbGxpbmcgZWRnZSkuXG5cdCAqXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXG5cdCAqIEBwYXJhbSB7aW50fSBkZWxheVxuXHQgKiBAcmV0dXJucyB7ZnVuY3Rpb259XG5cdCAqL1xuXHR2YXIgZGVib3VuY2UgPSBmdW5jdGlvbihmbiwgZGVsYXkpIHtcblx0XHR2YXIgdGltZW91dDtcblx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR2YXIgYXJncyA9IGFyZ3VtZW50cztcblx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dCk7XG5cdFx0XHR0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXHRcdFx0fSwgZGVsYXkpO1xuXHRcdH07XG5cdH07XG5cblx0LyoqXG5cdCAqIERlYm91bmNlIGFsbCBmaXJlZCBldmVudHMgdHlwZXMgbGlzdGVkIGluIGB0eXBlc2Bcblx0ICogd2hpbGUgZXhlY3V0aW5nIHRoZSBwcm92aWRlZCBgZm5gLlxuXHQgKlxuXHQgKiBAcGFyYW0ge29iamVjdH0gc2VsZlxuXHQgKiBAcGFyYW0ge2FycmF5fSB0eXBlc1xuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxuXHQgKi9cblx0dmFyIGRlYm91bmNlX2V2ZW50cyA9IGZ1bmN0aW9uKHNlbGYsIHR5cGVzLCBmbikge1xuXHRcdHZhciB0eXBlO1xuXHRcdHZhciB0cmlnZ2VyID0gc2VsZi50cmlnZ2VyO1xuXHRcdHZhciBldmVudF9hcmdzID0ge307XG5cblx0XHQvLyBvdmVycmlkZSB0cmlnZ2VyIG1ldGhvZFxuXHRcdHNlbGYudHJpZ2dlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHR5cGUgPSBhcmd1bWVudHNbMF07XG5cdFx0XHRpZiAodHlwZXMuaW5kZXhPZih0eXBlKSAhPT0gLTEpIHtcblx0XHRcdFx0ZXZlbnRfYXJnc1t0eXBlXSA9IGFyZ3VtZW50cztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB0cmlnZ2VyLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8vIGludm9rZSBwcm92aWRlZCBmdW5jdGlvblxuXHRcdGZuLmFwcGx5KHNlbGYsIFtdKTtcblx0XHRzZWxmLnRyaWdnZXIgPSB0cmlnZ2VyO1xuXG5cdFx0Ly8gdHJpZ2dlciBxdWV1ZWQgZXZlbnRzXG5cdFx0Zm9yICh0eXBlIGluIGV2ZW50X2FyZ3MpIHtcblx0XHRcdGlmIChldmVudF9hcmdzLmhhc093blByb3BlcnR5KHR5cGUpKSB7XG5cdFx0XHRcdHRyaWdnZXIuYXBwbHkoc2VsZiwgZXZlbnRfYXJnc1t0eXBlXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBBIHdvcmthcm91bmQgZm9yIGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzY2OTZcblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9ICRwYXJlbnQgLSBQYXJlbnQgZWxlbWVudCB0byBsaXN0ZW4gb24uXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIEV2ZW50IG5hbWUuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIERlc2NlbmRhbnQgc2VsZWN0b3IgdG8gZmlsdGVyIGJ5LlxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIEV2ZW50IGhhbmRsZXIuXG5cdCAqL1xuXHR2YXIgd2F0Y2hDaGlsZEV2ZW50ID0gZnVuY3Rpb24oJHBhcmVudCwgZXZlbnQsIHNlbGVjdG9yLCBmbikge1xuXHRcdCRwYXJlbnQub24oZXZlbnQsIHNlbGVjdG9yLCBmdW5jdGlvbihlKSB7XG5cdFx0XHR2YXIgY2hpbGQgPSBlLnRhcmdldDtcblx0XHRcdHdoaWxlIChjaGlsZCAmJiBjaGlsZC5wYXJlbnROb2RlICE9PSAkcGFyZW50WzBdKSB7XG5cdFx0XHRcdGNoaWxkID0gY2hpbGQucGFyZW50Tm9kZTtcblx0XHRcdH1cblx0XHRcdGUuY3VycmVudFRhcmdldCA9IGNoaWxkO1xuXHRcdFx0cmV0dXJuIGZuLmFwcGx5KHRoaXMsIFtlXSk7XG5cdFx0fSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIERldGVybWluZXMgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHdpdGhpbiBhIHRleHQgaW5wdXQgY29udHJvbC5cblx0ICogUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZzpcblx0ICogICAtIHN0YXJ0XG5cdCAqICAgLSBsZW5ndGhcblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IGlucHV0XG5cdCAqIEByZXR1cm5zIHtvYmplY3R9XG5cdCAqL1xuXHR2YXIgZ2V0U2VsZWN0aW9uID0gZnVuY3Rpb24oaW5wdXQpIHtcblx0XHR2YXIgcmVzdWx0ID0ge307XG5cdFx0aWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gaW5wdXQpIHtcblx0XHRcdHJlc3VsdC5zdGFydCA9IGlucHV0LnNlbGVjdGlvblN0YXJ0O1xuXHRcdFx0cmVzdWx0Lmxlbmd0aCA9IGlucHV0LnNlbGVjdGlvbkVuZCAtIHJlc3VsdC5zdGFydDtcblx0XHR9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuXHRcdFx0aW5wdXQuZm9jdXMoKTtcblx0XHRcdHZhciBzZWwgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcblx0XHRcdHZhciBzZWxMZW4gPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS50ZXh0Lmxlbmd0aDtcblx0XHRcdHNlbC5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIC1pbnB1dC52YWx1ZS5sZW5ndGgpO1xuXHRcdFx0cmVzdWx0LnN0YXJ0ID0gc2VsLnRleHQubGVuZ3RoIC0gc2VsTGVuO1xuXHRcdFx0cmVzdWx0Lmxlbmd0aCA9IHNlbExlbjtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fTtcblxuXHQvKipcblx0ICogQ29waWVzIENTUyBwcm9wZXJ0aWVzIGZyb20gb25lIGVsZW1lbnQgdG8gYW5vdGhlci5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9ICRmcm9tXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSAkdG9cblx0ICogQHBhcmFtIHthcnJheX0gcHJvcGVydGllc1xuXHQgKi9cblx0dmFyIHRyYW5zZmVyU3R5bGVzID0gZnVuY3Rpb24oJGZyb20sICR0bywgcHJvcGVydGllcykge1xuXHRcdHZhciBpLCBuLCBzdHlsZXMgPSB7fTtcblx0XHRpZiAocHJvcGVydGllcykge1xuXHRcdFx0Zm9yIChpID0gMCwgbiA9IHByb3BlcnRpZXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdHN0eWxlc1twcm9wZXJ0aWVzW2ldXSA9ICRmcm9tLmNzcyhwcm9wZXJ0aWVzW2ldKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGVzID0gJGZyb20uY3NzKCk7XG5cdFx0fVxuXHRcdCR0by5jc3Moc3R5bGVzKTtcblx0fTtcblxuXHQvKipcblx0ICogTWVhc3VyZXMgdGhlIHdpZHRoIG9mIGEgc3RyaW5nIHdpdGhpbiBhXG5cdCAqIHBhcmVudCBlbGVtZW50IChpbiBwaXhlbHMpLlxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc3RyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSAkcGFyZW50XG5cdCAqIEByZXR1cm5zIHtpbnR9XG5cdCAqL1xuXHR2YXIgbWVhc3VyZVN0cmluZyA9IGZ1bmN0aW9uKHN0ciwgJHBhcmVudCkge1xuXHRcdGlmICghc3RyKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHR2YXIgJHRlc3QgPSAkKCc8dGVzdD4nKS5jc3Moe1xuXHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHR0b3A6IC05OTk5OSxcblx0XHRcdGxlZnQ6IC05OTk5OSxcblx0XHRcdHdpZHRoOiAnYXV0bycsXG5cdFx0XHRwYWRkaW5nOiAwLFxuXHRcdFx0d2hpdGVTcGFjZTogJ3ByZSdcblx0XHR9KS50ZXh0KHN0cikuYXBwZW5kVG8oJ2JvZHknKTtcblxuXHRcdHRyYW5zZmVyU3R5bGVzKCRwYXJlbnQsICR0ZXN0LCBbXG5cdFx0XHQnbGV0dGVyU3BhY2luZycsXG5cdFx0XHQnZm9udFNpemUnLFxuXHRcdFx0J2ZvbnRGYW1pbHknLFxuXHRcdFx0J2ZvbnRXZWlnaHQnLFxuXHRcdFx0J3RleHRUcmFuc2Zvcm0nXG5cdFx0XSk7XG5cblx0XHR2YXIgd2lkdGggPSAkdGVzdC53aWR0aCgpO1xuXHRcdCR0ZXN0LnJlbW92ZSgpO1xuXG5cdFx0cmV0dXJuIHdpZHRoO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTZXRzIHVwIGFuIGlucHV0IHRvIGdyb3cgaG9yaXpvbnRhbGx5IGFzIHRoZSB1c2VyXG5cdCAqIHR5cGVzLiBJZiB0aGUgdmFsdWUgaXMgY2hhbmdlZCBtYW51YWxseSwgeW91IGNhblxuXHQgKiB0cmlnZ2VyIHRoZSBcInVwZGF0ZVwiIGhhbmRsZXIgdG8gcmVzaXplOlxuXHQgKlxuXHQgKiAkaW5wdXQudHJpZ2dlcigndXBkYXRlJyk7XG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSAkaW5wdXRcblx0ICovXG5cdHZhciBhdXRvR3JvdyA9IGZ1bmN0aW9uKCRpbnB1dCkge1xuXHRcdHZhciBjdXJyZW50V2lkdGggPSBudWxsO1xuXG5cdFx0dmFyIHVwZGF0ZSA9IGZ1bmN0aW9uKGUsIG9wdGlvbnMpIHtcblx0XHRcdHZhciB2YWx1ZSwga2V5Q29kZSwgcHJpbnRhYmxlLCBwbGFjZWhvbGRlciwgd2lkdGg7XG5cdFx0XHR2YXIgc2hpZnQsIGNoYXJhY3Rlciwgc2VsZWN0aW9uO1xuXHRcdFx0ZSA9IGUgfHwgd2luZG93LmV2ZW50IHx8IHt9O1xuXHRcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0XHRcdGlmIChlLm1ldGFLZXkgfHwgZS5hbHRLZXkpIHJldHVybjtcblx0XHRcdGlmICghb3B0aW9ucy5mb3JjZSAmJiAkaW5wdXQuZGF0YSgnZ3JvdycpID09PSBmYWxzZSkgcmV0dXJuO1xuXG5cdFx0XHR2YWx1ZSA9ICRpbnB1dC52YWwoKTtcblx0XHRcdGlmIChlLnR5cGUgJiYgZS50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdrZXlkb3duJykge1xuXHRcdFx0XHRrZXlDb2RlID0gZS5rZXlDb2RlO1xuXHRcdFx0XHRwcmludGFibGUgPSAoXG5cdFx0XHRcdFx0KGtleUNvZGUgPj0gOTcgJiYga2V5Q29kZSA8PSAxMjIpIHx8IC8vIGEtelxuXHRcdFx0XHRcdChrZXlDb2RlID49IDY1ICYmIGtleUNvZGUgPD0gOTApICB8fCAvLyBBLVpcblx0XHRcdFx0XHQoa2V5Q29kZSA+PSA0OCAmJiBrZXlDb2RlIDw9IDU3KSAgfHwgLy8gMC05XG5cdFx0XHRcdFx0a2V5Q29kZSA9PT0gMzIgLy8gc3BhY2Vcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAoa2V5Q29kZSA9PT0gS0VZX0RFTEVURSB8fCBrZXlDb2RlID09PSBLRVlfQkFDS1NQQUNFKSB7XG5cdFx0XHRcdFx0c2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKCRpbnB1dFswXSk7XG5cdFx0XHRcdFx0aWYgKHNlbGVjdGlvbi5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDAsIHNlbGVjdGlvbi5zdGFydCkgKyB2YWx1ZS5zdWJzdHJpbmcoc2VsZWN0aW9uLnN0YXJ0ICsgc2VsZWN0aW9uLmxlbmd0aCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChrZXlDb2RlID09PSBLRVlfQkFDS1NQQUNFICYmIHNlbGVjdGlvbi5zdGFydCkge1xuXHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgc2VsZWN0aW9uLnN0YXJ0IC0gMSkgKyB2YWx1ZS5zdWJzdHJpbmcoc2VsZWN0aW9uLnN0YXJ0ICsgMSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChrZXlDb2RlID09PSBLRVlfREVMRVRFICYmIHR5cGVvZiBzZWxlY3Rpb24uc3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLCBzZWxlY3Rpb24uc3RhcnQpICsgdmFsdWUuc3Vic3RyaW5nKHNlbGVjdGlvbi5zdGFydCArIDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChwcmludGFibGUpIHtcblx0XHRcdFx0XHRzaGlmdCA9IGUuc2hpZnRLZXk7XG5cdFx0XHRcdFx0Y2hhcmFjdGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpO1xuXHRcdFx0XHRcdGlmIChzaGlmdCkgY2hhcmFjdGVyID0gY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCk7XG5cdFx0XHRcdFx0ZWxzZSBjaGFyYWN0ZXIgPSBjaGFyYWN0ZXIudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHR2YWx1ZSArPSBjaGFyYWN0ZXI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cGxhY2Vob2xkZXIgPSAkaW5wdXQuYXR0cigncGxhY2Vob2xkZXInKTtcblx0XHRcdGlmICghdmFsdWUgJiYgcGxhY2Vob2xkZXIpIHtcblx0XHRcdFx0dmFsdWUgPSBwbGFjZWhvbGRlcjtcblx0XHRcdH1cblxuXHRcdFx0d2lkdGggPSBtZWFzdXJlU3RyaW5nKHZhbHVlLCAkaW5wdXQpICsgNDtcblx0XHRcdGlmICh3aWR0aCAhPT0gY3VycmVudFdpZHRoKSB7XG5cdFx0XHRcdGN1cnJlbnRXaWR0aCA9IHdpZHRoO1xuXHRcdFx0XHQkaW5wdXQud2lkdGgod2lkdGgpO1xuXHRcdFx0XHQkaW5wdXQudHJpZ2dlckhhbmRsZXIoJ3Jlc2l6ZScpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQkaW5wdXQub24oJ2tleWRvd24ga2V5dXAgdXBkYXRlIGJsdXInLCB1cGRhdGUpO1xuXHRcdHVwZGF0ZSgpO1xuXHR9O1xuXG5cdHZhciBkb21Ub1N0cmluZyA9IGZ1bmN0aW9uKGQpIHtcblx0XHR2YXIgdG1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cblx0XHR0bXAuYXBwZW5kQ2hpbGQoZC5jbG9uZU5vZGUodHJ1ZSkpO1xuXG5cdFx0cmV0dXJuIHRtcC5pbm5lckhUTUw7XG5cdH07XG5cblx0dmFyIGxvZ0Vycm9yID0gZnVuY3Rpb24obWVzc2FnZSwgb3B0aW9ucyl7XG5cdFx0aWYoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcblx0XHR2YXIgY29tcG9uZW50ID0gXCJTZWxlY3RpemVcIjtcblxuXHRcdGNvbnNvbGUuZXJyb3IoY29tcG9uZW50ICsgXCI6IFwiICsgbWVzc2FnZSlcblxuXHRcdGlmKG9wdGlvbnMuZXhwbGFuYXRpb24pe1xuXHRcdFx0Ly8gY29uc29sZS5ncm91cCBpcyB1bmRlZmluZWQgaW4gPElFMTFcblx0XHRcdGlmKGNvbnNvbGUuZ3JvdXApIGNvbnNvbGUuZ3JvdXAoKTtcblx0XHRcdGNvbnNvbGUuZXJyb3Iob3B0aW9ucy5leHBsYW5hdGlvbik7XG5cdFx0XHRpZihjb25zb2xlLmdyb3VwKSBjb25zb2xlLmdyb3VwRW5kKCk7XG5cdFx0fVxuXHR9XG5cblxuXHR2YXIgU2VsZWN0aXplID0gZnVuY3Rpb24oJGlucHV0LCBzZXR0aW5ncykge1xuXHRcdHZhciBrZXksIGksIG4sIGRpciwgaW5wdXQsIHNlbGYgPSB0aGlzO1xuXHRcdGlucHV0ID0gJGlucHV0WzBdO1xuXHRcdGlucHV0LnNlbGVjdGl6ZSA9IHNlbGY7XG5cblx0XHQvLyBkZXRlY3QgcnRsIGVudmlyb25tZW50XG5cdFx0dmFyIGNvbXB1dGVkU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSAmJiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShpbnB1dCwgbnVsbCk7XG5cdFx0ZGlyID0gY29tcHV0ZWRTdHlsZSA/IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnZGlyZWN0aW9uJykgOiBpbnB1dC5jdXJyZW50U3R5bGUgJiYgaW5wdXQuY3VycmVudFN0eWxlLmRpcmVjdGlvbjtcblx0XHRkaXIgPSBkaXIgfHwgJGlucHV0LnBhcmVudHMoJ1tkaXJdOmZpcnN0JykuYXR0cignZGlyJykgfHwgJyc7XG5cblx0XHQvLyBzZXR1cCBkZWZhdWx0IHN0YXRlXG5cdFx0JC5leHRlbmQoc2VsZiwge1xuXHRcdFx0b3JkZXIgICAgICAgICAgICA6IDAsXG5cdFx0XHRzZXR0aW5ncyAgICAgICAgIDogc2V0dGluZ3MsXG5cdFx0XHQkaW5wdXQgICAgICAgICAgIDogJGlucHV0LFxuXHRcdFx0dGFiSW5kZXggICAgICAgICA6ICRpbnB1dC5hdHRyKCd0YWJpbmRleCcpIHx8ICcnLFxuXHRcdFx0dGFnVHlwZSAgICAgICAgICA6IGlucHV0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3NlbGVjdCcgPyBUQUdfU0VMRUNUIDogVEFHX0lOUFVULFxuXHRcdFx0cnRsICAgICAgICAgICAgICA6IC9ydGwvaS50ZXN0KGRpciksXG5cblx0XHRcdGV2ZW50TlMgICAgICAgICAgOiAnLnNlbGVjdGl6ZScgKyAoKytTZWxlY3RpemUuY291bnQpLFxuXHRcdFx0aGlnaGxpZ2h0ZWRWYWx1ZSA6IG51bGwsXG5cdFx0XHRpc09wZW4gICAgICAgICAgIDogZmFsc2UsXG5cdFx0XHRpc0Rpc2FibGVkICAgICAgIDogZmFsc2UsXG5cdFx0XHRpc1JlcXVpcmVkICAgICAgIDogJGlucHV0LmlzKCdbcmVxdWlyZWRdJyksXG5cdFx0XHRpc0ludmFsaWQgICAgICAgIDogZmFsc2UsXG5cdFx0XHRpc0xvY2tlZCAgICAgICAgIDogZmFsc2UsXG5cdFx0XHRpc0ZvY3VzZWQgICAgICAgIDogZmFsc2UsXG5cdFx0XHRpc0lucHV0SGlkZGVuICAgIDogZmFsc2UsXG5cdFx0XHRpc1NldHVwICAgICAgICAgIDogZmFsc2UsXG5cdFx0XHRpc1NoaWZ0RG93biAgICAgIDogZmFsc2UsXG5cdFx0XHRpc0NtZERvd24gICAgICAgIDogZmFsc2UsXG5cdFx0XHRpc0N0cmxEb3duICAgICAgIDogZmFsc2UsXG5cdFx0XHRpZ25vcmVGb2N1cyAgICAgIDogZmFsc2UsXG5cdFx0XHRpZ25vcmVCbHVyICAgICAgIDogZmFsc2UsXG5cdFx0XHRpZ25vcmVIb3ZlciAgICAgIDogZmFsc2UsXG5cdFx0XHRoYXNPcHRpb25zICAgICAgIDogZmFsc2UsXG5cdFx0XHRjdXJyZW50UmVzdWx0cyAgIDogbnVsbCxcblx0XHRcdGxhc3RWYWx1ZSAgICAgICAgOiAnJyxcblx0XHRcdGNhcmV0UG9zICAgICAgICAgOiAwLFxuXHRcdFx0bG9hZGluZyAgICAgICAgICA6IDAsXG5cdFx0XHRsb2FkZWRTZWFyY2hlcyAgIDoge30sXG5cblx0XHRcdCRhY3RpdmVPcHRpb24gICAgOiBudWxsLFxuXHRcdFx0JGFjdGl2ZUl0ZW1zICAgICA6IFtdLFxuXG5cdFx0XHRvcHRncm91cHMgICAgICAgIDoge30sXG5cdFx0XHRvcHRpb25zICAgICAgICAgIDoge30sXG5cdFx0XHR1c2VyT3B0aW9ucyAgICAgIDoge30sXG5cdFx0XHRpdGVtcyAgICAgICAgICAgIDogW10sXG5cdFx0XHRyZW5kZXJDYWNoZSAgICAgIDoge30sXG5cdFx0XHRvblNlYXJjaENoYW5nZSAgIDogc2V0dGluZ3MubG9hZFRocm90dGxlID09PSBudWxsID8gc2VsZi5vblNlYXJjaENoYW5nZSA6IGRlYm91bmNlKHNlbGYub25TZWFyY2hDaGFuZ2UsIHNldHRpbmdzLmxvYWRUaHJvdHRsZSlcblx0XHR9KTtcblxuXHRcdC8vIHNlYXJjaCBzeXN0ZW1cblx0XHRzZWxmLnNpZnRlciA9IG5ldyBTaWZ0ZXIodGhpcy5vcHRpb25zLCB7ZGlhY3JpdGljczogc2V0dGluZ3MuZGlhY3JpdGljc30pO1xuXG5cdFx0Ly8gYnVpbGQgb3B0aW9ucyB0YWJsZVxuXHRcdGlmIChzZWxmLnNldHRpbmdzLm9wdGlvbnMpIHtcblx0XHRcdGZvciAoaSA9IDAsIG4gPSBzZWxmLnNldHRpbmdzLm9wdGlvbnMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdHNlbGYucmVnaXN0ZXJPcHRpb24oc2VsZi5zZXR0aW5ncy5vcHRpb25zW2ldKTtcblx0XHRcdH1cblx0XHRcdGRlbGV0ZSBzZWxmLnNldHRpbmdzLm9wdGlvbnM7XG5cdFx0fVxuXG5cdFx0Ly8gYnVpbGQgb3B0Z3JvdXAgdGFibGVcblx0XHRpZiAoc2VsZi5zZXR0aW5ncy5vcHRncm91cHMpIHtcblx0XHRcdGZvciAoaSA9IDAsIG4gPSBzZWxmLnNldHRpbmdzLm9wdGdyb3Vwcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0c2VsZi5yZWdpc3Rlck9wdGlvbkdyb3VwKHNlbGYuc2V0dGluZ3Mub3B0Z3JvdXBzW2ldKTtcblx0XHRcdH1cblx0XHRcdGRlbGV0ZSBzZWxmLnNldHRpbmdzLm9wdGdyb3Vwcztcblx0XHR9XG5cblx0XHQvLyBvcHRpb24tZGVwZW5kZW50IGRlZmF1bHRzXG5cdFx0c2VsZi5zZXR0aW5ncy5tb2RlID0gc2VsZi5zZXR0aW5ncy5tb2RlIHx8IChzZWxmLnNldHRpbmdzLm1heEl0ZW1zID09PSAxID8gJ3NpbmdsZScgOiAnbXVsdGknKTtcblx0XHRpZiAodHlwZW9mIHNlbGYuc2V0dGluZ3MuaGlkZVNlbGVjdGVkICE9PSAnYm9vbGVhbicpIHtcblx0XHRcdHNlbGYuc2V0dGluZ3MuaGlkZVNlbGVjdGVkID0gc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnbXVsdGknO1xuXHRcdH1cblxuXHRcdHNlbGYuaW5pdGlhbGl6ZVBsdWdpbnMoc2VsZi5zZXR0aW5ncy5wbHVnaW5zKTtcblx0XHRzZWxmLnNldHVwQ2FsbGJhY2tzKCk7XG5cdFx0c2VsZi5zZXR1cFRlbXBsYXRlcygpO1xuXHRcdHNlbGYuc2V0dXAoKTtcblx0fTtcblxuXHQvLyBtaXhpbnNcblx0Ly8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cblxuXHRNaWNyb0V2ZW50Lm1peGluKFNlbGVjdGl6ZSk7XG5cblx0aWYodHlwZW9mIE1pY3JvUGx1Z2luICE9PSBcInVuZGVmaW5lZFwiKXtcblx0XHRNaWNyb1BsdWdpbi5taXhpbihTZWxlY3RpemUpO1xuXHR9ZWxzZXtcblx0XHRsb2dFcnJvcihcIkRlcGVuZGVuY3kgTWljcm9QbHVnaW4gaXMgbWlzc2luZ1wiLFxuXHRcdFx0e2V4cGxhbmF0aW9uOlxuXHRcdFx0XHRcIk1ha2Ugc3VyZSB5b3UgZWl0aGVyOiAoMSkgYXJlIHVzaW5nIHRoZSBcXFwic3RhbmRhbG9uZVxcXCIgXCIrXG5cdFx0XHRcdFwidmVyc2lvbiBvZiBTZWxlY3RpemUsIG9yICgyKSByZXF1aXJlIE1pY3JvUGx1Z2luIGJlZm9yZSB5b3UgXCIrXG5cdFx0XHRcdFwibG9hZCBTZWxlY3RpemUuXCJ9XG5cdFx0KTtcblx0fVxuXG5cblx0Ly8gbWV0aG9kc1xuXHQvLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuXG5cdCQuZXh0ZW5kKFNlbGVjdGl6ZS5wcm90b3R5cGUsIHtcblxuXHRcdC8qKlxuXHRcdCAqIENyZWF0ZXMgYWxsIGVsZW1lbnRzIGFuZCBzZXRzIHVwIGV2ZW50IGJpbmRpbmdzLlxuXHRcdCAqL1xuXHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmICAgICAgPSB0aGlzO1xuXHRcdFx0dmFyIHNldHRpbmdzICA9IHNlbGYuc2V0dGluZ3M7XG5cdFx0XHR2YXIgZXZlbnROUyAgID0gc2VsZi5ldmVudE5TO1xuXHRcdFx0dmFyICR3aW5kb3cgICA9ICQod2luZG93KTtcblx0XHRcdHZhciAkZG9jdW1lbnQgPSAkKGRvY3VtZW50KTtcblx0XHRcdHZhciAkaW5wdXQgICAgPSBzZWxmLiRpbnB1dDtcblxuXHRcdFx0dmFyICR3cmFwcGVyO1xuXHRcdFx0dmFyICRjb250cm9sO1xuXHRcdFx0dmFyICRjb250cm9sX2lucHV0O1xuXHRcdFx0dmFyICRkcm9wZG93bjtcblx0XHRcdHZhciAkZHJvcGRvd25fY29udGVudDtcblx0XHRcdHZhciAkZHJvcGRvd25fcGFyZW50O1xuXHRcdFx0dmFyIGlucHV0TW9kZTtcblx0XHRcdHZhciB0aW1lb3V0X2JsdXI7XG5cdFx0XHR2YXIgdGltZW91dF9mb2N1cztcblx0XHRcdHZhciBjbGFzc2VzO1xuXHRcdFx0dmFyIGNsYXNzZXNfcGx1Z2lucztcblx0XHRcdHZhciBpbnB1dElkO1xuXG5cdFx0XHRpbnB1dE1vZGUgICAgICAgICA9IHNlbGYuc2V0dGluZ3MubW9kZTtcblx0XHRcdGNsYXNzZXMgICAgICAgICAgID0gJGlucHV0LmF0dHIoJ2NsYXNzJykgfHwgJyc7XG5cblx0XHRcdCR3cmFwcGVyICAgICAgICAgID0gJCgnPGRpdj4nKS5hZGRDbGFzcyhzZXR0aW5ncy53cmFwcGVyQ2xhc3MpLmFkZENsYXNzKGNsYXNzZXMpLmFkZENsYXNzKGlucHV0TW9kZSk7XG5cdFx0XHQkY29udHJvbCAgICAgICAgICA9ICQoJzxkaXY+JykuYWRkQ2xhc3Moc2V0dGluZ3MuaW5wdXRDbGFzcykuYWRkQ2xhc3MoJ2l0ZW1zJykuYXBwZW5kVG8oJHdyYXBwZXIpO1xuXHRcdFx0JGNvbnRyb2xfaW5wdXQgICAgPSAkKCc8aW5wdXQgdHlwZT1cInRleHRcIiBhdXRvY29tcGxldGU9XCJvZmZcIiAvPicpLmFwcGVuZFRvKCRjb250cm9sKS5hdHRyKCd0YWJpbmRleCcsICRpbnB1dC5pcygnOmRpc2FibGVkJykgPyAnLTEnIDogc2VsZi50YWJJbmRleCk7XG5cdFx0XHQkZHJvcGRvd25fcGFyZW50ICA9ICQoc2V0dGluZ3MuZHJvcGRvd25QYXJlbnQgfHwgJHdyYXBwZXIpO1xuXHRcdFx0JGRyb3Bkb3duICAgICAgICAgPSAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLmRyb3Bkb3duQ2xhc3MpLmFkZENsYXNzKGlucHV0TW9kZSkuaGlkZSgpLmFwcGVuZFRvKCRkcm9wZG93bl9wYXJlbnQpO1xuXHRcdFx0JGRyb3Bkb3duX2NvbnRlbnQgPSAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLmRyb3Bkb3duQ29udGVudENsYXNzKS5hcHBlbmRUbygkZHJvcGRvd24pO1xuXG5cdFx0XHRpZihpbnB1dElkID0gJGlucHV0LmF0dHIoJ2lkJykpIHtcblx0XHRcdFx0JGNvbnRyb2xfaW5wdXQuYXR0cignaWQnLCBpbnB1dElkICsgJy1zZWxlY3RpemVkJyk7XG5cdFx0XHRcdCQoXCJsYWJlbFtmb3I9J1wiK2lucHV0SWQrXCInXVwiKS5hdHRyKCdmb3InLCBpbnB1dElkICsgJy1zZWxlY3RpemVkJyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmKHNlbGYuc2V0dGluZ3MuY29weUNsYXNzZXNUb0Ryb3Bkb3duKSB7XG5cdFx0XHRcdCRkcm9wZG93bi5hZGRDbGFzcyhjbGFzc2VzKTtcblx0XHRcdH1cblxuXHRcdFx0JHdyYXBwZXIuY3NzKHtcblx0XHRcdFx0d2lkdGg6ICRpbnB1dFswXS5zdHlsZS53aWR0aFxuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChzZWxmLnBsdWdpbnMubmFtZXMubGVuZ3RoKSB7XG5cdFx0XHRcdGNsYXNzZXNfcGx1Z2lucyA9ICdwbHVnaW4tJyArIHNlbGYucGx1Z2lucy5uYW1lcy5qb2luKCcgcGx1Z2luLScpO1xuXHRcdFx0XHQkd3JhcHBlci5hZGRDbGFzcyhjbGFzc2VzX3BsdWdpbnMpO1xuXHRcdFx0XHQkZHJvcGRvd24uYWRkQ2xhc3MoY2xhc3Nlc19wbHVnaW5zKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKChzZXR0aW5ncy5tYXhJdGVtcyA9PT0gbnVsbCB8fCBzZXR0aW5ncy5tYXhJdGVtcyA+IDEpICYmIHNlbGYudGFnVHlwZSA9PT0gVEFHX1NFTEVDVCkge1xuXHRcdFx0XHQkaW5wdXQuYXR0cignbXVsdGlwbGUnLCAnbXVsdGlwbGUnKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MucGxhY2Vob2xkZXIpIHtcblx0XHRcdFx0JGNvbnRyb2xfaW5wdXQuYXR0cigncGxhY2Vob2xkZXInLCBzZXR0aW5ncy5wbGFjZWhvbGRlcik7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGlmIHNwbGl0T24gd2FzIG5vdCBwYXNzZWQgaW4sIGNvbnN0cnVjdCBpdCBmcm9tIHRoZSBkZWxpbWl0ZXIgdG8gYWxsb3cgcGFzdGluZyB1bml2ZXJzYWxseVxuXHRcdFx0aWYgKCFzZWxmLnNldHRpbmdzLnNwbGl0T24gJiYgc2VsZi5zZXR0aW5ncy5kZWxpbWl0ZXIpIHtcblx0XHRcdFx0dmFyIGRlbGltaXRlckVzY2FwZWQgPSBzZWxmLnNldHRpbmdzLmRlbGltaXRlci5yZXBsYWNlKC9bLVxcL1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKTtcblx0XHRcdFx0c2VsZi5zZXR0aW5ncy5zcGxpdE9uID0gbmV3IFJlZ0V4cCgnXFxcXHMqJyArIGRlbGltaXRlckVzY2FwZWQgKyAnK1xcXFxzKicpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoJGlucHV0LmF0dHIoJ2F1dG9jb3JyZWN0JykpIHtcblx0XHRcdFx0JGNvbnRyb2xfaW5wdXQuYXR0cignYXV0b2NvcnJlY3QnLCAkaW5wdXQuYXR0cignYXV0b2NvcnJlY3QnKSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgkaW5wdXQuYXR0cignYXV0b2NhcGl0YWxpemUnKSkge1xuXHRcdFx0XHQkY29udHJvbF9pbnB1dC5hdHRyKCdhdXRvY2FwaXRhbGl6ZScsICRpbnB1dC5hdHRyKCdhdXRvY2FwaXRhbGl6ZScpKTtcblx0XHRcdH1cblxuXHRcdFx0c2VsZi4kd3JhcHBlciAgICAgICAgICA9ICR3cmFwcGVyO1xuXHRcdFx0c2VsZi4kY29udHJvbCAgICAgICAgICA9ICRjb250cm9sO1xuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dCAgICA9ICRjb250cm9sX2lucHV0O1xuXHRcdFx0c2VsZi4kZHJvcGRvd24gICAgICAgICA9ICRkcm9wZG93bjtcblx0XHRcdHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQgPSAkZHJvcGRvd25fY29udGVudDtcblxuXHRcdFx0JGRyb3Bkb3duLm9uKCdtb3VzZWVudGVyJywgJ1tkYXRhLXNlbGVjdGFibGVdJywgZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uT3B0aW9uSG92ZXIuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSk7XG5cdFx0XHQkZHJvcGRvd24ub24oJ21vdXNlZG93biBjbGljaycsICdbZGF0YS1zZWxlY3RhYmxlXScsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbk9wdGlvblNlbGVjdC5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9KTtcblx0XHRcdHdhdGNoQ2hpbGRFdmVudCgkY29udHJvbCwgJ21vdXNlZG93bicsICcqOm5vdChpbnB1dCknLCBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25JdGVtU2VsZWN0LmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH0pO1xuXHRcdFx0YXV0b0dyb3coJGNvbnRyb2xfaW5wdXQpO1xuXG5cdFx0XHQkY29udHJvbC5vbih7XG5cdFx0XHRcdG1vdXNlZG93biA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbk1vdXNlRG93bi5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9LFxuXHRcdFx0XHRjbGljayAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25DbGljay5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9XG5cdFx0XHR9KTtcblxuXHRcdFx0JGNvbnRyb2xfaW5wdXQub24oe1xuXHRcdFx0XHRtb3VzZWRvd24gOiBmdW5jdGlvbihlKSB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH0sXG5cdFx0XHRcdGtleWRvd24gICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbktleURvd24uYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSxcblx0XHRcdFx0a2V5dXAgICAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uS2V5VXAuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSxcblx0XHRcdFx0a2V5cHJlc3MgIDogZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uS2V5UHJlc3MuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSxcblx0XHRcdFx0cmVzaXplICAgIDogZnVuY3Rpb24oKSB7IHNlbGYucG9zaXRpb25Ecm9wZG93bi5hcHBseShzZWxmLCBbXSk7IH0sXG5cdFx0XHRcdGJsdXIgICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbkJsdXIuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSxcblx0XHRcdFx0Zm9jdXMgICAgIDogZnVuY3Rpb24oKSB7IHNlbGYuaWdub3JlQmx1ciA9IGZhbHNlOyByZXR1cm4gc2VsZi5vbkZvY3VzLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH0sXG5cdFx0XHRcdHBhc3RlICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vblBhc3RlLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH1cblx0XHRcdH0pO1xuXG5cdFx0XHQkZG9jdW1lbnQub24oJ2tleWRvd24nICsgZXZlbnROUywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRzZWxmLmlzQ21kRG93biA9IGVbSVNfTUFDID8gJ21ldGFLZXknIDogJ2N0cmxLZXknXTtcblx0XHRcdFx0c2VsZi5pc0N0cmxEb3duID0gZVtJU19NQUMgPyAnYWx0S2V5JyA6ICdjdHJsS2V5J107XG5cdFx0XHRcdHNlbGYuaXNTaGlmdERvd24gPSBlLnNoaWZ0S2V5O1xuXHRcdFx0fSk7XG5cblx0XHRcdCRkb2N1bWVudC5vbigna2V5dXAnICsgZXZlbnROUywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoZS5rZXlDb2RlID09PSBLRVlfQ1RSTCkgc2VsZi5pc0N0cmxEb3duID0gZmFsc2U7XG5cdFx0XHRcdGlmIChlLmtleUNvZGUgPT09IEtFWV9TSElGVCkgc2VsZi5pc1NoaWZ0RG93biA9IGZhbHNlO1xuXHRcdFx0XHRpZiAoZS5rZXlDb2RlID09PSBLRVlfQ01EKSBzZWxmLmlzQ21kRG93biA9IGZhbHNlO1xuXHRcdFx0fSk7XG5cblx0XHRcdCRkb2N1bWVudC5vbignbW91c2Vkb3duJyArIGV2ZW50TlMsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0aWYgKHNlbGYuaXNGb2N1c2VkKSB7XG5cdFx0XHRcdFx0Ly8gcHJldmVudCBldmVudHMgb24gdGhlIGRyb3Bkb3duIHNjcm9sbGJhciBmcm9tIGNhdXNpbmcgdGhlIGNvbnRyb2wgdG8gYmx1clxuXHRcdFx0XHRcdGlmIChlLnRhcmdldCA9PT0gc2VsZi4kZHJvcGRvd25bMF0gfHwgZS50YXJnZXQucGFyZW50Tm9kZSA9PT0gc2VsZi4kZHJvcGRvd25bMF0pIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gYmx1ciBvbiBjbGljayBvdXRzaWRlXG5cdFx0XHRcdFx0aWYgKCFzZWxmLiRjb250cm9sLmhhcyhlLnRhcmdldCkubGVuZ3RoICYmIGUudGFyZ2V0ICE9PSBzZWxmLiRjb250cm9sWzBdKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmJsdXIoZS50YXJnZXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdCR3aW5kb3cub24oWydzY3JvbGwnICsgZXZlbnROUywgJ3Jlc2l6ZScgKyBldmVudE5TXS5qb2luKCcgJyksIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoc2VsZi5pc09wZW4pIHtcblx0XHRcdFx0XHRzZWxmLnBvc2l0aW9uRHJvcGRvd24uYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHQkd2luZG93Lm9uKCdtb3VzZW1vdmUnICsgZXZlbnROUywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuaWdub3JlSG92ZXIgPSBmYWxzZTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBzdG9yZSBvcmlnaW5hbCBjaGlsZHJlbiBhbmQgdGFiIGluZGV4IHNvIHRoYXQgdGhleSBjYW4gYmVcblx0XHRcdC8vIHJlc3RvcmVkIHdoZW4gdGhlIGRlc3Ryb3koKSBtZXRob2QgaXMgY2FsbGVkLlxuXHRcdFx0dGhpcy5yZXZlcnRTZXR0aW5ncyA9IHtcblx0XHRcdFx0JGNoaWxkcmVuIDogJGlucHV0LmNoaWxkcmVuKCkuZGV0YWNoKCksXG5cdFx0XHRcdHRhYmluZGV4ICA6ICRpbnB1dC5hdHRyKCd0YWJpbmRleCcpXG5cdFx0XHR9O1xuXG5cdFx0XHQkaW5wdXQuYXR0cigndGFiaW5kZXgnLCAtMSkuaGlkZSgpLmFmdGVyKHNlbGYuJHdyYXBwZXIpO1xuXG5cdFx0XHRpZiAoJC5pc0FycmF5KHNldHRpbmdzLml0ZW1zKSkge1xuXHRcdFx0XHRzZWxmLnNldFZhbHVlKHNldHRpbmdzLml0ZW1zKTtcblx0XHRcdFx0ZGVsZXRlIHNldHRpbmdzLml0ZW1zO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBmZWF0dXJlIGRldGVjdCBmb3IgdGhlIHZhbGlkYXRpb24gQVBJXG5cdFx0XHRpZiAoU1VQUE9SVFNfVkFMSURJVFlfQVBJKSB7XG5cdFx0XHRcdCRpbnB1dC5vbignaW52YWxpZCcgKyBldmVudE5TLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHNlbGYuaXNJbnZhbGlkID0gdHJ1ZTtcblx0XHRcdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0c2VsZi51cGRhdGVPcmlnaW5hbElucHV0KCk7XG5cdFx0XHRzZWxmLnJlZnJlc2hJdGVtcygpO1xuXHRcdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcblx0XHRcdHNlbGYudXBkYXRlUGxhY2Vob2xkZXIoKTtcblx0XHRcdHNlbGYuaXNTZXR1cCA9IHRydWU7XG5cblx0XHRcdGlmICgkaW5wdXQuaXMoJzpkaXNhYmxlZCcpKSB7XG5cdFx0XHRcdHNlbGYuZGlzYWJsZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRzZWxmLm9uKCdjaGFuZ2UnLCB0aGlzLm9uQ2hhbmdlKTtcblxuXHRcdFx0JGlucHV0LmRhdGEoJ3NlbGVjdGl6ZScsIHNlbGYpO1xuXHRcdFx0JGlucHV0LmFkZENsYXNzKCdzZWxlY3RpemVkJyk7XG5cdFx0XHRzZWxmLnRyaWdnZXIoJ2luaXRpYWxpemUnKTtcblxuXHRcdFx0Ly8gcHJlbG9hZCBvcHRpb25zXG5cdFx0XHRpZiAoc2V0dGluZ3MucHJlbG9hZCA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRzZWxmLm9uU2VhcmNoQ2hhbmdlKCcnKTtcblx0XHRcdH1cblxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBTZXRzIHVwIGRlZmF1bHQgcmVuZGVyaW5nIGZ1bmN0aW9ucy5cblx0XHQgKi9cblx0XHRzZXR1cFRlbXBsYXRlczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR2YXIgZmllbGRfbGFiZWwgPSBzZWxmLnNldHRpbmdzLmxhYmVsRmllbGQ7XG5cdFx0XHR2YXIgZmllbGRfb3B0Z3JvdXAgPSBzZWxmLnNldHRpbmdzLm9wdGdyb3VwTGFiZWxGaWVsZDtcblxuXHRcdFx0dmFyIHRlbXBsYXRlcyA9IHtcblx0XHRcdFx0J29wdGdyb3VwJzogZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHRcdHJldHVybiAnPGRpdiBjbGFzcz1cIm9wdGdyb3VwXCI+JyArIGRhdGEuaHRtbCArICc8L2Rpdj4nO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQnb3B0Z3JvdXBfaGVhZGVyJzogZnVuY3Rpb24oZGF0YSwgZXNjYXBlKSB7XG5cdFx0XHRcdFx0cmV0dXJuICc8ZGl2IGNsYXNzPVwib3B0Z3JvdXAtaGVhZGVyXCI+JyArIGVzY2FwZShkYXRhW2ZpZWxkX29wdGdyb3VwXSkgKyAnPC9kaXY+Jztcblx0XHRcdFx0fSxcblx0XHRcdFx0J29wdGlvbic6IGZ1bmN0aW9uKGRhdGEsIGVzY2FwZSkge1xuXHRcdFx0XHRcdHJldHVybiAnPGRpdiBjbGFzcz1cIm9wdGlvblwiPicgKyBlc2NhcGUoZGF0YVtmaWVsZF9sYWJlbF0pICsgJzwvZGl2Pic7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCdpdGVtJzogZnVuY3Rpb24oZGF0YSwgZXNjYXBlKSB7XG5cdFx0XHRcdFx0cmV0dXJuICc8ZGl2IGNsYXNzPVwiaXRlbVwiPicgKyBlc2NhcGUoZGF0YVtmaWVsZF9sYWJlbF0pICsgJzwvZGl2Pic7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCdvcHRpb25fY3JlYXRlJzogZnVuY3Rpb24oZGF0YSwgZXNjYXBlKSB7XG5cdFx0XHRcdFx0cmV0dXJuICc8ZGl2IGNsYXNzPVwiY3JlYXRlXCI+QWRkIDxzdHJvbmc+JyArIGVzY2FwZShkYXRhLmlucHV0KSArICc8L3N0cm9uZz4maGVsbGlwOzwvZGl2Pic7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdHNlbGYuc2V0dGluZ3MucmVuZGVyID0gJC5leHRlbmQoe30sIHRlbXBsYXRlcywgc2VsZi5zZXR0aW5ncy5yZW5kZXIpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBNYXBzIGZpcmVkIGV2ZW50cyB0byBjYWxsYmFja3MgcHJvdmlkZWRcblx0XHQgKiBpbiB0aGUgc2V0dGluZ3MgdXNlZCB3aGVuIGNyZWF0aW5nIHRoZSBjb250cm9sLlxuXHRcdCAqL1xuXHRcdHNldHVwQ2FsbGJhY2tzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBrZXksIGZuLCBjYWxsYmFja3MgPSB7XG5cdFx0XHRcdCdpbml0aWFsaXplJyAgICAgIDogJ29uSW5pdGlhbGl6ZScsXG5cdFx0XHRcdCdjaGFuZ2UnICAgICAgICAgIDogJ29uQ2hhbmdlJyxcblx0XHRcdFx0J2l0ZW1fYWRkJyAgICAgICAgOiAnb25JdGVtQWRkJyxcblx0XHRcdFx0J2l0ZW1fcmVtb3ZlJyAgICAgOiAnb25JdGVtUmVtb3ZlJyxcblx0XHRcdFx0J2NsZWFyJyAgICAgICAgICAgOiAnb25DbGVhcicsXG5cdFx0XHRcdCdvcHRpb25fYWRkJyAgICAgIDogJ29uT3B0aW9uQWRkJyxcblx0XHRcdFx0J29wdGlvbl9yZW1vdmUnICAgOiAnb25PcHRpb25SZW1vdmUnLFxuXHRcdFx0XHQnb3B0aW9uX2NsZWFyJyAgICA6ICdvbk9wdGlvbkNsZWFyJyxcblx0XHRcdFx0J29wdGdyb3VwX2FkZCcgICAgOiAnb25PcHRpb25Hcm91cEFkZCcsXG5cdFx0XHRcdCdvcHRncm91cF9yZW1vdmUnIDogJ29uT3B0aW9uR3JvdXBSZW1vdmUnLFxuXHRcdFx0XHQnb3B0Z3JvdXBfY2xlYXInICA6ICdvbk9wdGlvbkdyb3VwQ2xlYXInLFxuXHRcdFx0XHQnZHJvcGRvd25fb3BlbicgICA6ICdvbkRyb3Bkb3duT3BlbicsXG5cdFx0XHRcdCdkcm9wZG93bl9jbG9zZScgIDogJ29uRHJvcGRvd25DbG9zZScsXG5cdFx0XHRcdCd0eXBlJyAgICAgICAgICAgIDogJ29uVHlwZScsXG5cdFx0XHRcdCdsb2FkJyAgICAgICAgICAgIDogJ29uTG9hZCcsXG5cdFx0XHRcdCdmb2N1cycgICAgICAgICAgIDogJ29uRm9jdXMnLFxuXHRcdFx0XHQnYmx1cicgICAgICAgICAgICA6ICdvbkJsdXInXG5cdFx0XHR9O1xuXG5cdFx0XHRmb3IgKGtleSBpbiBjYWxsYmFja3MpIHtcblx0XHRcdFx0aWYgKGNhbGxiYWNrcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdFx0Zm4gPSB0aGlzLnNldHRpbmdzW2NhbGxiYWNrc1trZXldXTtcblx0XHRcdFx0XHRpZiAoZm4pIHRoaXMub24oa2V5LCBmbik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogVHJpZ2dlcmVkIHdoZW4gdGhlIG1haW4gY29udHJvbCBlbGVtZW50XG5cdFx0ICogaGFzIGEgY2xpY2sgZXZlbnQuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxuXHRcdCAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0b25DbGljazogZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHQvLyBuZWNlc3NhcnkgZm9yIG1vYmlsZSB3ZWJraXQgZGV2aWNlcyAobWFudWFsIGZvY3VzIHRyaWdnZXJpbmdcblx0XHRcdC8vIGlzIGlnbm9yZWQgdW5sZXNzIGludm9rZWQgd2l0aGluIGEgY2xpY2sgZXZlbnQpXG5cdFx0XHRpZiAoIXNlbGYuaXNGb2N1c2VkKSB7XG5cdFx0XHRcdHNlbGYuZm9jdXMoKTtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgbWFpbiBjb250cm9sIGVsZW1lbnRcblx0XHQgKiBoYXMgYSBtb3VzZSBkb3duIGV2ZW50LlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcblx0XHQgKiBAcmV0dXJuIHtib29sZWFufVxuXHRcdCAqL1xuXHRcdG9uTW91c2VEb3duOiBmdW5jdGlvbihlKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR2YXIgZGVmYXVsdFByZXZlbnRlZCA9IGUuaXNEZWZhdWx0UHJldmVudGVkKCk7XG5cdFx0XHR2YXIgJHRhcmdldCA9ICQoZS50YXJnZXQpO1xuXG5cdFx0XHRpZiAoc2VsZi5pc0ZvY3VzZWQpIHtcblx0XHRcdFx0Ly8gcmV0YWluIGZvY3VzIGJ5IHByZXZlbnRpbmcgbmF0aXZlIGhhbmRsaW5nLiBpZiB0aGVcblx0XHRcdFx0Ly8gZXZlbnQgdGFyZ2V0IGlzIHRoZSBpbnB1dCBpdCBzaG91bGQgbm90IGJlIG1vZGlmaWVkLlxuXHRcdFx0XHQvLyBvdGhlcndpc2UsIHRleHQgc2VsZWN0aW9uIHdpdGhpbiB0aGUgaW5wdXQgd29uJ3Qgd29yay5cblx0XHRcdFx0aWYgKGUudGFyZ2V0ICE9PSBzZWxmLiRjb250cm9sX2lucHV0WzBdKSB7XG5cdFx0XHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScpIHtcblx0XHRcdFx0XHRcdC8vIHRvZ2dsZSBkcm9wZG93blxuXHRcdFx0XHRcdFx0c2VsZi5pc09wZW4gPyBzZWxmLmNsb3NlKCkgOiBzZWxmLm9wZW4oKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCFkZWZhdWx0UHJldmVudGVkKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0obnVsbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gZ2l2ZSBjb250cm9sIGZvY3VzXG5cdFx0XHRcdGlmICghZGVmYXVsdFByZXZlbnRlZCkge1xuXHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0c2VsZi5mb2N1cygpO1xuXHRcdFx0XHRcdH0sIDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFRyaWdnZXJlZCB3aGVuIHRoZSB2YWx1ZSBvZiB0aGUgY29udHJvbCBoYXMgYmVlbiBjaGFuZ2VkLlxuXHRcdCAqIFRoaXMgc2hvdWxkIHByb3BhZ2F0ZSB0aGUgZXZlbnQgdG8gdGhlIG9yaWdpbmFsIERPTVxuXHRcdCAqIGlucHV0IC8gc2VsZWN0IGVsZW1lbnQuXG5cdFx0ICovXG5cdFx0b25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kaW5wdXQudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFRyaWdnZXJlZCBvbiA8aW5wdXQ+IHBhc3RlLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0XHQgKi9cblx0XHRvblBhc3RlOiBmdW5jdGlvbihlKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdGlmIChzZWxmLmlzRnVsbCgpIHx8IHNlbGYuaXNJbnB1dEhpZGRlbiB8fCBzZWxmLmlzTG9ja2VkKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIHJlZ2V4IG9yIHN0cmluZyBpcyBpbmNsdWRlZCwgdGhpcyB3aWxsIHNwbGl0IHRoZSBwYXN0ZWRcblx0XHRcdC8vIGlucHV0IGFuZCBjcmVhdGUgSXRlbXMgZm9yIGVhY2ggc2VwYXJhdGUgdmFsdWVcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLnNwbGl0T24pIHtcblxuXHRcdFx0XHQvLyBXYWl0IGZvciBwYXN0ZWQgdGV4dCB0byBiZSByZWNvZ25pemVkIGluIHZhbHVlXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIHBhc3RlZFRleHQgPSBzZWxmLiRjb250cm9sX2lucHV0LnZhbCgpO1xuXHRcdFx0XHRcdGlmKCFwYXN0ZWRUZXh0Lm1hdGNoKHNlbGYuc2V0dGluZ3Muc3BsaXRPbikpeyByZXR1cm4gfVxuXG5cdFx0XHRcdFx0dmFyIHNwbGl0SW5wdXQgPSAkLnRyaW0ocGFzdGVkVGV4dCkuc3BsaXQoc2VsZi5zZXR0aW5ncy5zcGxpdE9uKTtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbiA9IHNwbGl0SW5wdXQubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmNyZWF0ZUl0ZW0oc3BsaXRJbnB1dFtpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCAwKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogVHJpZ2dlcmVkIG9uIDxpbnB1dD4ga2V5cHJlc3MuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHRcdCAqL1xuXHRcdG9uS2V5UHJlc3M6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdGlmICh0aGlzLmlzTG9ja2VkKSByZXR1cm4gZSAmJiBlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR2YXIgY2hhcmFjdGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUgfHwgZS53aGljaCk7XG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5jcmVhdGUgJiYgdGhpcy5zZXR0aW5ncy5tb2RlID09PSAnbXVsdGknICYmIGNoYXJhY3RlciA9PT0gdGhpcy5zZXR0aW5ncy5kZWxpbWl0ZXIpIHtcblx0XHRcdFx0dGhpcy5jcmVhdGVJdGVtKCk7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBUcmlnZ2VyZWQgb24gPGlucHV0PiBrZXlkb3duLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0XHQgKi9cblx0XHRvbktleURvd246IGZ1bmN0aW9uKGUpIHtcblx0XHRcdHZhciBpc0lucHV0ID0gZS50YXJnZXQgPT09IHRoaXMuJGNvbnRyb2xfaW5wdXRbMF07XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdGlmIChzZWxmLmlzTG9ja2VkKSB7XG5cdFx0XHRcdGlmIChlLmtleUNvZGUgIT09IEtFWV9UQUIpIHtcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRzd2l0Y2ggKGUua2V5Q29kZSkge1xuXHRcdFx0XHRjYXNlIEtFWV9BOlxuXHRcdFx0XHRcdGlmIChzZWxmLmlzQ21kRG93bikge1xuXHRcdFx0XHRcdFx0c2VsZi5zZWxlY3RBbGwoKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgS0VZX0VTQzpcblx0XHRcdFx0XHRpZiAoc2VsZi5pc09wZW4pIHtcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHRzZWxmLmNsb3NlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0Y2FzZSBLRVlfTjpcblx0XHRcdFx0XHRpZiAoIWUuY3RybEtleSB8fCBlLmFsdEtleSkgYnJlYWs7XG5cdFx0XHRcdGNhc2UgS0VZX0RPV046XG5cdFx0XHRcdFx0aWYgKCFzZWxmLmlzT3BlbiAmJiBzZWxmLmhhc09wdGlvbnMpIHtcblx0XHRcdFx0XHRcdHNlbGYub3BlbigpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoc2VsZi4kYWN0aXZlT3B0aW9uKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmlnbm9yZUhvdmVyID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHZhciAkbmV4dCA9IHNlbGYuZ2V0QWRqYWNlbnRPcHRpb24oc2VsZi4kYWN0aXZlT3B0aW9uLCAxKTtcblx0XHRcdFx0XHRcdGlmICgkbmV4dC5sZW5ndGgpIHNlbGYuc2V0QWN0aXZlT3B0aW9uKCRuZXh0LCB0cnVlLCB0cnVlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0Y2FzZSBLRVlfUDpcblx0XHRcdFx0XHRpZiAoIWUuY3RybEtleSB8fCBlLmFsdEtleSkgYnJlYWs7XG5cdFx0XHRcdGNhc2UgS0VZX1VQOlxuXHRcdFx0XHRcdGlmIChzZWxmLiRhY3RpdmVPcHRpb24pIHtcblx0XHRcdFx0XHRcdHNlbGYuaWdub3JlSG92ZXIgPSB0cnVlO1xuXHRcdFx0XHRcdFx0dmFyICRwcmV2ID0gc2VsZi5nZXRBZGphY2VudE9wdGlvbihzZWxmLiRhY3RpdmVPcHRpb24sIC0xKTtcblx0XHRcdFx0XHRcdGlmICgkcHJldi5sZW5ndGgpIHNlbGYuc2V0QWN0aXZlT3B0aW9uKCRwcmV2LCB0cnVlLCB0cnVlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0Y2FzZSBLRVlfUkVUVVJOOlxuXHRcdFx0XHRcdGlmIChzZWxmLmlzT3BlbiAmJiBzZWxmLiRhY3RpdmVPcHRpb24pIHtcblx0XHRcdFx0XHRcdHNlbGYub25PcHRpb25TZWxlY3Qoe2N1cnJlbnRUYXJnZXQ6IHNlbGYuJGFjdGl2ZU9wdGlvbn0pO1xuXHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdGNhc2UgS0VZX0xFRlQ6XG5cdFx0XHRcdFx0c2VsZi5hZHZhbmNlU2VsZWN0aW9uKC0xLCBlKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdGNhc2UgS0VZX1JJR0hUOlxuXHRcdFx0XHRcdHNlbGYuYWR2YW5jZVNlbGVjdGlvbigxLCBlKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdGNhc2UgS0VZX1RBQjpcblx0XHRcdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5zZWxlY3RPblRhYiAmJiBzZWxmLmlzT3BlbiAmJiBzZWxmLiRhY3RpdmVPcHRpb24pIHtcblx0XHRcdFx0XHRcdHNlbGYub25PcHRpb25TZWxlY3Qoe2N1cnJlbnRUYXJnZXQ6IHNlbGYuJGFjdGl2ZU9wdGlvbn0pO1xuXG5cdFx0XHRcdFx0XHQvLyBEZWZhdWx0IGJlaGF2aW91ciBpcyB0byBqdW1wIHRvIHRoZSBuZXh0IGZpZWxkLCB3ZSBvbmx5IHdhbnQgdGhpc1xuXHRcdFx0XHRcdFx0Ly8gaWYgdGhlIGN1cnJlbnQgZmllbGQgZG9lc24ndCBhY2NlcHQgYW55IG1vcmUgZW50cmllc1xuXHRcdFx0XHRcdFx0aWYgKCFzZWxmLmlzRnVsbCgpKSB7XG5cdFx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MuY3JlYXRlICYmIHNlbGYuY3JlYXRlSXRlbSgpKSB7XG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0Y2FzZSBLRVlfQkFDS1NQQUNFOlxuXHRcdFx0XHRjYXNlIEtFWV9ERUxFVEU6XG5cdFx0XHRcdFx0c2VsZi5kZWxldGVTZWxlY3Rpb24oZSk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoKHNlbGYuaXNGdWxsKCkgfHwgc2VsZi5pc0lucHV0SGlkZGVuKSAmJiAhKElTX01BQyA/IGUubWV0YUtleSA6IGUuY3RybEtleSkpIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFRyaWdnZXJlZCBvbiA8aW5wdXQ+IGtleXVwLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0XHQgKi9cblx0XHRvbktleVVwOiBmdW5jdGlvbihlKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdGlmIChzZWxmLmlzTG9ja2VkKSByZXR1cm4gZSAmJiBlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR2YXIgdmFsdWUgPSBzZWxmLiRjb250cm9sX2lucHV0LnZhbCgpIHx8ICcnO1xuXHRcdFx0aWYgKHNlbGYubGFzdFZhbHVlICE9PSB2YWx1ZSkge1xuXHRcdFx0XHRzZWxmLmxhc3RWYWx1ZSA9IHZhbHVlO1xuXHRcdFx0XHRzZWxmLm9uU2VhcmNoQ2hhbmdlKHZhbHVlKTtcblx0XHRcdFx0c2VsZi5yZWZyZXNoT3B0aW9ucygpO1xuXHRcdFx0XHRzZWxmLnRyaWdnZXIoJ3R5cGUnLCB2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEludm9rZXMgdGhlIHVzZXItcHJvdmlkZSBvcHRpb24gcHJvdmlkZXIgLyBsb2FkZXIuXG5cdFx0ICpcblx0XHQgKiBOb3RlOiB0aGlzIGZ1bmN0aW9uIGlzIGRlYm91bmNlZCBpbiB0aGUgU2VsZWN0aXplXG5cdFx0ICogY29uc3RydWN0b3IgKGJ5IGBzZXR0aW5ncy5sb2FkVGhyb3R0bGVgIG1pbGxpc2Vjb25kcylcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuXHRcdCAqL1xuXHRcdG9uU2VhcmNoQ2hhbmdlOiBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIGZuID0gc2VsZi5zZXR0aW5ncy5sb2FkO1xuXHRcdFx0aWYgKCFmbikgcmV0dXJuO1xuXHRcdFx0aWYgKHNlbGYubG9hZGVkU2VhcmNoZXMuaGFzT3duUHJvcGVydHkodmFsdWUpKSByZXR1cm47XG5cdFx0XHRzZWxmLmxvYWRlZFNlYXJjaGVzW3ZhbHVlXSA9IHRydWU7XG5cdFx0XHRzZWxmLmxvYWQoZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHRcdFx0Zm4uYXBwbHkoc2VsZiwgW3ZhbHVlLCBjYWxsYmFja10pO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFRyaWdnZXJlZCBvbiA8aW5wdXQ+IGZvY3VzLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGUgKG9wdGlvbmFsKVxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHRcdCAqL1xuXHRcdG9uRm9jdXM6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHZhciB3YXNGb2N1c2VkID0gc2VsZi5pc0ZvY3VzZWQ7XG5cblx0XHRcdGlmIChzZWxmLmlzRGlzYWJsZWQpIHtcblx0XHRcdFx0c2VsZi5ibHVyKCk7XG5cdFx0XHRcdGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChzZWxmLmlnbm9yZUZvY3VzKSByZXR1cm47XG5cdFx0XHRzZWxmLmlzRm9jdXNlZCA9IHRydWU7XG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5wcmVsb2FkID09PSAnZm9jdXMnKSBzZWxmLm9uU2VhcmNoQ2hhbmdlKCcnKTtcblxuXHRcdFx0aWYgKCF3YXNGb2N1c2VkKSBzZWxmLnRyaWdnZXIoJ2ZvY3VzJyk7XG5cblx0XHRcdGlmICghc2VsZi4kYWN0aXZlSXRlbXMubGVuZ3RoKSB7XG5cdFx0XHRcdHNlbGYuc2hvd0lucHV0KCk7XG5cdFx0XHRcdHNlbGYuc2V0QWN0aXZlSXRlbShudWxsKTtcblx0XHRcdFx0c2VsZi5yZWZyZXNoT3B0aW9ucyghIXNlbGYuc2V0dGluZ3Mub3Blbk9uRm9jdXMpO1xuXHRcdFx0fVxuXG5cdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBUcmlnZ2VyZWQgb24gPGlucHV0PiBibHVyLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcblx0XHQgKiBAcGFyYW0ge0VsZW1lbnR9IGRlc3Rcblx0XHQgKi9cblx0XHRvbkJsdXI6IGZ1bmN0aW9uKGUsIGRlc3QpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdGlmICghc2VsZi5pc0ZvY3VzZWQpIHJldHVybjtcblx0XHRcdHNlbGYuaXNGb2N1c2VkID0gZmFsc2U7XG5cblx0XHRcdGlmIChzZWxmLmlnbm9yZUZvY3VzKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH0gZWxzZSBpZiAoIXNlbGYuaWdub3JlQmx1ciAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBzZWxmLiRkcm9wZG93bl9jb250ZW50WzBdKSB7XG5cdFx0XHRcdC8vIG5lY2Vzc2FyeSB0byBwcmV2ZW50IElFIGNsb3NpbmcgdGhlIGRyb3Bkb3duIHdoZW4gdGhlIHNjcm9sbGJhciBpcyBjbGlja2VkXG5cdFx0XHRcdHNlbGYuaWdub3JlQmx1ciA9IHRydWU7XG5cdFx0XHRcdHNlbGYub25Gb2N1cyhlKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmNsb3NlKCk7XG5cdFx0XHRcdHNlbGYuc2V0VGV4dGJveFZhbHVlKCcnKTtcblx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKG51bGwpO1xuXHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbihudWxsKTtcblx0XHRcdFx0c2VsZi5zZXRDYXJldChzZWxmLml0ZW1zLmxlbmd0aCk7XG5cdFx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XG5cblx0XHRcdFx0Ly8gSUUxMSBidWc6IGVsZW1lbnQgc3RpbGwgbWFya2VkIGFzIGFjdGl2ZVxuXHRcdFx0XHRkZXN0ICYmIGRlc3QuZm9jdXMgJiYgZGVzdC5mb2N1cygpO1xuXG5cdFx0XHRcdHNlbGYuaWdub3JlRm9jdXMgPSBmYWxzZTtcblx0XHRcdFx0c2VsZi50cmlnZ2VyKCdibHVyJyk7XG5cdFx0XHR9O1xuXG5cdFx0XHRzZWxmLmlnbm9yZUZvY3VzID0gdHJ1ZTtcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLmNyZWF0ZSAmJiBzZWxmLnNldHRpbmdzLmNyZWF0ZU9uQmx1cikge1xuXHRcdFx0XHRzZWxmLmNyZWF0ZUl0ZW0obnVsbCwgZmFsc2UsIGRlYWN0aXZhdGUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVhY3RpdmF0ZSgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgdXNlciByb2xscyBvdmVyXG5cdFx0ICogYW4gb3B0aW9uIGluIHRoZSBhdXRvY29tcGxldGUgZHJvcGRvd24gbWVudS5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0b25PcHRpb25Ib3ZlcjogZnVuY3Rpb24oZSkge1xuXHRcdFx0aWYgKHRoaXMuaWdub3JlSG92ZXIpIHJldHVybjtcblx0XHRcdHRoaXMuc2V0QWN0aXZlT3B0aW9uKGUuY3VycmVudFRhcmdldCwgZmFsc2UpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBjbGlja3Mgb24gYW4gb3B0aW9uXG5cdFx0ICogaW4gdGhlIGF1dG9jb21wbGV0ZSBkcm9wZG93biBtZW51LlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0XHQgKi9cblx0XHRvbk9wdGlvblNlbGVjdDogZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIHZhbHVlLCAkdGFyZ2V0LCAkb3B0aW9uLCBzZWxmID0gdGhpcztcblxuXHRcdFx0aWYgKGUucHJldmVudERlZmF1bHQpIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0fVxuXG5cdFx0XHQkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXHRcdFx0aWYgKCR0YXJnZXQuaGFzQ2xhc3MoJ2NyZWF0ZScpKSB7XG5cdFx0XHRcdHNlbGYuY3JlYXRlSXRlbShudWxsLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5jbG9zZUFmdGVyU2VsZWN0KSB7XG5cdFx0XHRcdFx0XHRzZWxmLmNsb3NlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbHVlID0gJHRhcmdldC5hdHRyKCdkYXRhLXZhbHVlJyk7XG5cdFx0XHRcdGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBudWxsO1xuXHRcdFx0XHRcdHNlbGYuc2V0VGV4dGJveFZhbHVlKCcnKTtcblx0XHRcdFx0XHRzZWxmLmFkZEl0ZW0odmFsdWUpO1xuXHRcdFx0XHRcdGlmIChzZWxmLnNldHRpbmdzLmNsb3NlQWZ0ZXJTZWxlY3QpIHtcblx0XHRcdFx0XHRcdHNlbGYuY2xvc2UoKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCFzZWxmLnNldHRpbmdzLmhpZGVTZWxlY3RlZCAmJiBlLnR5cGUgJiYgL21vdXNlLy50ZXN0KGUudHlwZSkpIHtcblx0XHRcdFx0XHRcdHNlbGYuc2V0QWN0aXZlT3B0aW9uKHNlbGYuZ2V0T3B0aW9uKHZhbHVlKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFRyaWdnZXJlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvbiBhbiBpdGVtXG5cdFx0ICogdGhhdCBoYXMgYmVlbiBzZWxlY3RlZC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0b25JdGVtU2VsZWN0OiBmdW5jdGlvbihlKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdGlmIChzZWxmLmlzTG9ja2VkKSByZXR1cm47XG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnbXVsdGknKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKGUuY3VycmVudFRhcmdldCwgZSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEludm9rZXMgdGhlIHByb3ZpZGVkIG1ldGhvZCB0aGF0IHByb3ZpZGVzXG5cdFx0ICogcmVzdWx0cyB0byBhIGNhbGxiYWNrLS0td2hpY2ggYXJlIHRoZW4gYWRkZWRcblx0XHQgKiBhcyBvcHRpb25zIHRvIHRoZSBjb250cm9sLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cblx0XHQgKi9cblx0XHRsb2FkOiBmdW5jdGlvbihmbikge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyICR3cmFwcGVyID0gc2VsZi4kd3JhcHBlci5hZGRDbGFzcyhzZWxmLnNldHRpbmdzLmxvYWRpbmdDbGFzcyk7XG5cblx0XHRcdHNlbGYubG9hZGluZysrO1xuXHRcdFx0Zm4uYXBwbHkoc2VsZiwgW2Z1bmN0aW9uKHJlc3VsdHMpIHtcblx0XHRcdFx0c2VsZi5sb2FkaW5nID0gTWF0aC5tYXgoc2VsZi5sb2FkaW5nIC0gMSwgMCk7XG5cdFx0XHRcdGlmIChyZXN1bHRzICYmIHJlc3VsdHMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0c2VsZi5hZGRPcHRpb24ocmVzdWx0cyk7XG5cdFx0XHRcdFx0c2VsZi5yZWZyZXNoT3B0aW9ucyhzZWxmLmlzRm9jdXNlZCAmJiAhc2VsZi5pc0lucHV0SGlkZGVuKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIXNlbGYubG9hZGluZykge1xuXHRcdFx0XHRcdCR3cmFwcGVyLnJlbW92ZUNsYXNzKHNlbGYuc2V0dGluZ3MubG9hZGluZ0NsYXNzKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzZWxmLnRyaWdnZXIoJ2xvYWQnLCByZXN1bHRzKTtcblx0XHRcdH1dKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogU2V0cyB0aGUgaW5wdXQgZmllbGQgb2YgdGhlIGNvbnRyb2wgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuXHRcdCAqL1xuXHRcdHNldFRleHRib3hWYWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciAkaW5wdXQgPSB0aGlzLiRjb250cm9sX2lucHV0O1xuXHRcdFx0dmFyIGNoYW5nZWQgPSAkaW5wdXQudmFsKCkgIT09IHZhbHVlO1xuXHRcdFx0aWYgKGNoYW5nZWQpIHtcblx0XHRcdFx0JGlucHV0LnZhbCh2YWx1ZSkudHJpZ2dlckhhbmRsZXIoJ3VwZGF0ZScpO1xuXHRcdFx0XHR0aGlzLmxhc3RWYWx1ZSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgY29udHJvbC4gSWYgbXVsdGlwbGUgaXRlbXNcblx0XHQgKiBjYW4gYmUgc2VsZWN0ZWQgKGUuZy4gPHNlbGVjdCBtdWx0aXBsZT4pLCB0aGlzIHJldHVybnNcblx0XHQgKiBhbiBhcnJheS4gSWYgb25seSBvbmUgaXRlbSBjYW4gYmUgc2VsZWN0ZWQsIHRoaXNcblx0XHQgKiByZXR1cm5zIGEgc3RyaW5nLlxuXHRcdCAqXG5cdFx0ICogQHJldHVybnMge21peGVkfVxuXHRcdCAqL1xuXHRcdGdldFZhbHVlOiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICh0aGlzLnRhZ1R5cGUgPT09IFRBR19TRUxFQ1QgJiYgdGhpcy4kaW5wdXQuYXR0cignbXVsdGlwbGUnKSkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5pdGVtcztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLml0ZW1zLmpvaW4odGhpcy5zZXR0aW5ncy5kZWxpbWl0ZXIpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZXNldHMgdGhlIHNlbGVjdGVkIGl0ZW1zIHRvIHRoZSBnaXZlbiB2YWx1ZS5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7bWl4ZWR9IHZhbHVlXG5cdFx0ICovXG5cdFx0c2V0VmFsdWU6IGZ1bmN0aW9uKHZhbHVlLCBzaWxlbnQpIHtcblx0XHRcdHZhciBldmVudHMgPSBzaWxlbnQgPyBbXSA6IFsnY2hhbmdlJ107XG5cblx0XHRcdGRlYm91bmNlX2V2ZW50cyh0aGlzLCBldmVudHMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLmNsZWFyKHNpbGVudCk7XG5cdFx0XHRcdHRoaXMuYWRkSXRlbXModmFsdWUsIHNpbGVudCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogU2V0cyB0aGUgc2VsZWN0ZWQgaXRlbS5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSAkaXRlbVxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlIChvcHRpb25hbClcblx0XHQgKi9cblx0XHRzZXRBY3RpdmVJdGVtOiBmdW5jdGlvbigkaXRlbSwgZSkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIGV2ZW50TmFtZTtcblx0XHRcdHZhciBpLCBpZHgsIGJlZ2luLCBlbmQsIGl0ZW0sIHN3YXA7XG5cdFx0XHR2YXIgJGxhc3Q7XG5cblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnKSByZXR1cm47XG5cdFx0XHQkaXRlbSA9ICQoJGl0ZW0pO1xuXG5cdFx0XHQvLyBjbGVhciB0aGUgYWN0aXZlIHNlbGVjdGlvblxuXHRcdFx0aWYgKCEkaXRlbS5sZW5ndGgpIHtcblx0XHRcdFx0JChzZWxmLiRhY3RpdmVJdGVtcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0XHRzZWxmLiRhY3RpdmVJdGVtcyA9IFtdO1xuXHRcdFx0XHRpZiAoc2VsZi5pc0ZvY3VzZWQpIHtcblx0XHRcdFx0XHRzZWxmLnNob3dJbnB1dCgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gbW9kaWZ5IHNlbGVjdGlvblxuXHRcdFx0ZXZlbnROYW1lID0gZSAmJiBlLnR5cGUudG9Mb3dlckNhc2UoKTtcblxuXHRcdFx0aWYgKGV2ZW50TmFtZSA9PT0gJ21vdXNlZG93bicgJiYgc2VsZi5pc1NoaWZ0RG93biAmJiBzZWxmLiRhY3RpdmVJdGVtcy5sZW5ndGgpIHtcblx0XHRcdFx0JGxhc3QgPSBzZWxmLiRjb250cm9sLmNoaWxkcmVuKCcuYWN0aXZlOmxhc3QnKTtcblx0XHRcdFx0YmVnaW4gPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5hcHBseShzZWxmLiRjb250cm9sWzBdLmNoaWxkTm9kZXMsIFskbGFzdFswXV0pO1xuXHRcdFx0XHRlbmQgICA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmFwcGx5KHNlbGYuJGNvbnRyb2xbMF0uY2hpbGROb2RlcywgWyRpdGVtWzBdXSk7XG5cdFx0XHRcdGlmIChiZWdpbiA+IGVuZCkge1xuXHRcdFx0XHRcdHN3YXAgID0gYmVnaW47XG5cdFx0XHRcdFx0YmVnaW4gPSBlbmQ7XG5cdFx0XHRcdFx0ZW5kICAgPSBzd2FwO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAoaSA9IGJlZ2luOyBpIDw9IGVuZDsgaSsrKSB7XG5cdFx0XHRcdFx0aXRlbSA9IHNlbGYuJGNvbnRyb2xbMF0uY2hpbGROb2Rlc1tpXTtcblx0XHRcdFx0XHRpZiAoc2VsZi4kYWN0aXZlSXRlbXMuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcblx0XHRcdFx0XHRcdCQoaXRlbSkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0XHRcdFx0c2VsZi4kYWN0aXZlSXRlbXMucHVzaChpdGVtKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fSBlbHNlIGlmICgoZXZlbnROYW1lID09PSAnbW91c2Vkb3duJyAmJiBzZWxmLmlzQ3RybERvd24pIHx8IChldmVudE5hbWUgPT09ICdrZXlkb3duJyAmJiB0aGlzLmlzU2hpZnREb3duKSkge1xuXHRcdFx0XHRpZiAoJGl0ZW0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG5cdFx0XHRcdFx0aWR4ID0gc2VsZi4kYWN0aXZlSXRlbXMuaW5kZXhPZigkaXRlbVswXSk7XG5cdFx0XHRcdFx0c2VsZi4kYWN0aXZlSXRlbXMuc3BsaWNlKGlkeCwgMSk7XG5cdFx0XHRcdFx0JGl0ZW0ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNlbGYuJGFjdGl2ZUl0ZW1zLnB1c2goJGl0ZW0uYWRkQ2xhc3MoJ2FjdGl2ZScpWzBdKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JChzZWxmLiRhY3RpdmVJdGVtcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0XHRzZWxmLiRhY3RpdmVJdGVtcyA9IFskaXRlbS5hZGRDbGFzcygnYWN0aXZlJylbMF1dO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBlbnN1cmUgY29udHJvbCBoYXMgZm9jdXNcblx0XHRcdHNlbGYuaGlkZUlucHV0KCk7XG5cdFx0XHRpZiAoIXRoaXMuaXNGb2N1c2VkKSB7XG5cdFx0XHRcdHNlbGYuZm9jdXMoKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogU2V0cyB0aGUgc2VsZWN0ZWQgaXRlbSBpbiB0aGUgZHJvcGRvd24gbWVudVxuXHRcdCAqIG9mIGF2YWlsYWJsZSBvcHRpb25zLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9ICRvYmplY3Rcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHNjcm9sbFxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gYW5pbWF0ZVxuXHRcdCAqL1xuXHRcdHNldEFjdGl2ZU9wdGlvbjogZnVuY3Rpb24oJG9wdGlvbiwgc2Nyb2xsLCBhbmltYXRlKSB7XG5cdFx0XHR2YXIgaGVpZ2h0X21lbnUsIGhlaWdodF9pdGVtLCB5O1xuXHRcdFx0dmFyIHNjcm9sbF90b3AsIHNjcm9sbF9ib3R0b207XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdGlmIChzZWxmLiRhY3RpdmVPcHRpb24pIHNlbGYuJGFjdGl2ZU9wdGlvbi5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdFx0XHRzZWxmLiRhY3RpdmVPcHRpb24gPSBudWxsO1xuXG5cdFx0XHQkb3B0aW9uID0gJCgkb3B0aW9uKTtcblx0XHRcdGlmICghJG9wdGlvbi5sZW5ndGgpIHJldHVybjtcblxuXHRcdFx0c2VsZi4kYWN0aXZlT3B0aW9uID0gJG9wdGlvbi5hZGRDbGFzcygnYWN0aXZlJyk7XG5cblx0XHRcdGlmIChzY3JvbGwgfHwgIWlzc2V0KHNjcm9sbCkpIHtcblxuXHRcdFx0XHRoZWlnaHRfbWVudSAgID0gc2VsZi4kZHJvcGRvd25fY29udGVudC5oZWlnaHQoKTtcblx0XHRcdFx0aGVpZ2h0X2l0ZW0gICA9IHNlbGYuJGFjdGl2ZU9wdGlvbi5vdXRlckhlaWdodCh0cnVlKTtcblx0XHRcdFx0c2Nyb2xsICAgICAgICA9IHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQuc2Nyb2xsVG9wKCkgfHwgMDtcblx0XHRcdFx0eSAgICAgICAgICAgICA9IHNlbGYuJGFjdGl2ZU9wdGlvbi5vZmZzZXQoKS50b3AgLSBzZWxmLiRkcm9wZG93bl9jb250ZW50Lm9mZnNldCgpLnRvcCArIHNjcm9sbDtcblx0XHRcdFx0c2Nyb2xsX3RvcCAgICA9IHk7XG5cdFx0XHRcdHNjcm9sbF9ib3R0b20gPSB5IC0gaGVpZ2h0X21lbnUgKyBoZWlnaHRfaXRlbTtcblxuXHRcdFx0XHRpZiAoeSArIGhlaWdodF9pdGVtID4gaGVpZ2h0X21lbnUgKyBzY3JvbGwpIHtcblx0XHRcdFx0XHRzZWxmLiRkcm9wZG93bl9jb250ZW50LnN0b3AoKS5hbmltYXRlKHtzY3JvbGxUb3A6IHNjcm9sbF9ib3R0b219LCBhbmltYXRlID8gc2VsZi5zZXR0aW5ncy5zY3JvbGxEdXJhdGlvbiA6IDApO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHkgPCBzY3JvbGwpIHtcblx0XHRcdFx0XHRzZWxmLiRkcm9wZG93bl9jb250ZW50LnN0b3AoKS5hbmltYXRlKHtzY3JvbGxUb3A6IHNjcm9sbF90b3B9LCBhbmltYXRlID8gc2VsZi5zZXR0aW5ncy5zY3JvbGxEdXJhdGlvbiA6IDApO1xuXHRcdFx0XHR9XG5cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogU2VsZWN0cyBhbGwgaXRlbXMgKENUUkwgKyBBKS5cblx0XHQgKi9cblx0XHRzZWxlY3RBbGw6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScpIHJldHVybjtcblxuXHRcdFx0c2VsZi4kYWN0aXZlSXRlbXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoc2VsZi4kY29udHJvbC5jaGlsZHJlbignOm5vdChpbnB1dCknKS5hZGRDbGFzcygnYWN0aXZlJykpO1xuXHRcdFx0aWYgKHNlbGYuJGFjdGl2ZUl0ZW1zLmxlbmd0aCkge1xuXHRcdFx0XHRzZWxmLmhpZGVJbnB1dCgpO1xuXHRcdFx0XHRzZWxmLmNsb3NlKCk7XG5cdFx0XHR9XG5cdFx0XHRzZWxmLmZvY3VzKCk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEhpZGVzIHRoZSBpbnB1dCBlbGVtZW50IG91dCBvZiB2aWV3LCB3aGlsZVxuXHRcdCAqIHJldGFpbmluZyBpdHMgZm9jdXMuXG5cdFx0ICovXG5cdFx0aGlkZUlucHV0OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0c2VsZi5zZXRUZXh0Ym94VmFsdWUoJycpO1xuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dC5jc3Moe29wYWNpdHk6IDAsIHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBsZWZ0OiBzZWxmLnJ0bCA/IDEwMDAwIDogLTEwMDAwfSk7XG5cdFx0XHRzZWxmLmlzSW5wdXRIaWRkZW4gPSB0cnVlO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZXN0b3JlcyBpbnB1dCB2aXNpYmlsaXR5LlxuXHRcdCAqL1xuXHRcdHNob3dJbnB1dDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRjb250cm9sX2lucHV0LmNzcyh7b3BhY2l0eTogMSwgcG9zaXRpb246ICdyZWxhdGl2ZScsIGxlZnQ6IDB9KTtcblx0XHRcdHRoaXMuaXNJbnB1dEhpZGRlbiA9IGZhbHNlO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBHaXZlcyB0aGUgY29udHJvbCBmb2N1cy5cblx0XHQgKi9cblx0XHRmb2N1czogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRpZiAoc2VsZi5pc0Rpc2FibGVkKSByZXR1cm47XG5cblx0XHRcdHNlbGYuaWdub3JlRm9jdXMgPSB0cnVlO1xuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dFswXS5mb2N1cygpO1xuXHRcdFx0d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuaWdub3JlRm9jdXMgPSBmYWxzZTtcblx0XHRcdFx0c2VsZi5vbkZvY3VzKCk7XG5cdFx0XHR9LCAwKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogRm9yY2VzIHRoZSBjb250cm9sIG91dCBvZiBmb2N1cy5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7RWxlbWVudH0gZGVzdFxuXHRcdCAqL1xuXHRcdGJsdXI6IGZ1bmN0aW9uKGRlc3QpIHtcblx0XHRcdHRoaXMuJGNvbnRyb2xfaW5wdXRbMF0uYmx1cigpO1xuXHRcdFx0dGhpcy5vbkJsdXIobnVsbCwgZGVzdCk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHNjb3JlcyBhbiBvYmplY3Rcblx0XHQgKiB0byBzaG93IGhvdyBnb29kIG9mIGEgbWF0Y2ggaXQgaXMgdG8gdGhlXG5cdFx0ICogcHJvdmlkZWQgcXVlcnkuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuXHRcdCAqIEByZXR1cm4ge2Z1bmN0aW9ufVxuXHRcdCAqL1xuXHRcdGdldFNjb3JlRnVuY3Rpb246IGZ1bmN0aW9uKHF1ZXJ5KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zaWZ0ZXIuZ2V0U2NvcmVGdW5jdGlvbihxdWVyeSwgdGhpcy5nZXRTZWFyY2hPcHRpb25zKCkpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHNlYXJjaCBvcHRpb25zIGZvciBzaWZ0ZXIgKHRoZSBzeXN0ZW1cblx0XHQgKiBmb3Igc2NvcmluZyBhbmQgc29ydGluZyByZXN1bHRzKS5cblx0XHQgKlxuXHRcdCAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2JyaWFucmVhdmlzL3NpZnRlci5qc1xuXHRcdCAqIEByZXR1cm4ge29iamVjdH1cblx0XHQgKi9cblx0XHRnZXRTZWFyY2hPcHRpb25zOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3M7XG5cdFx0XHR2YXIgc29ydCA9IHNldHRpbmdzLnNvcnRGaWVsZDtcblx0XHRcdGlmICh0eXBlb2Ygc29ydCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0c29ydCA9IFt7ZmllbGQ6IHNvcnR9XTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZmllbGRzICAgICAgOiBzZXR0aW5ncy5zZWFyY2hGaWVsZCxcblx0XHRcdFx0Y29uanVuY3Rpb24gOiBzZXR0aW5ncy5zZWFyY2hDb25qdW5jdGlvbixcblx0XHRcdFx0c29ydCAgICAgICAgOiBzb3J0XG5cdFx0XHR9O1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBTZWFyY2hlcyB0aHJvdWdoIGF2YWlsYWJsZSBvcHRpb25zIGFuZCByZXR1cm5zXG5cdFx0ICogYSBzb3J0ZWQgYXJyYXkgb2YgbWF0Y2hlcy5cblx0XHQgKlxuXHRcdCAqIFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmc6XG5cdFx0ICpcblx0XHQgKiAgIC0gcXVlcnkge3N0cmluZ31cblx0XHQgKiAgIC0gdG9rZW5zIHthcnJheX1cblx0XHQgKiAgIC0gdG90YWwge2ludH1cblx0XHQgKiAgIC0gaXRlbXMge2FycmF5fVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5XG5cdFx0ICogQHJldHVybnMge29iamVjdH1cblx0XHQgKi9cblx0XHRzZWFyY2g6IGZ1bmN0aW9uKHF1ZXJ5KSB7XG5cdFx0XHR2YXIgaSwgdmFsdWUsIHNjb3JlLCByZXN1bHQsIGNhbGN1bGF0ZVNjb3JlO1xuXHRcdFx0dmFyIHNlbGYgICAgID0gdGhpcztcblx0XHRcdHZhciBzZXR0aW5ncyA9IHNlbGYuc2V0dGluZ3M7XG5cdFx0XHR2YXIgb3B0aW9ucyAgPSB0aGlzLmdldFNlYXJjaE9wdGlvbnMoKTtcblxuXHRcdFx0Ly8gdmFsaWRhdGUgdXNlci1wcm92aWRlZCByZXN1bHQgc2NvcmluZyBmdW5jdGlvblxuXHRcdFx0aWYgKHNldHRpbmdzLnNjb3JlKSB7XG5cdFx0XHRcdGNhbGN1bGF0ZVNjb3JlID0gc2VsZi5zZXR0aW5ncy5zY29yZS5hcHBseSh0aGlzLCBbcXVlcnldKTtcblx0XHRcdFx0aWYgKHR5cGVvZiBjYWxjdWxhdGVTY29yZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignU2VsZWN0aXplIFwic2NvcmVcIiBzZXR0aW5nIG11c3QgYmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBmdW5jdGlvbicpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIHBlcmZvcm0gc2VhcmNoXG5cdFx0XHRpZiAocXVlcnkgIT09IHNlbGYubGFzdFF1ZXJ5KSB7XG5cdFx0XHRcdHNlbGYubGFzdFF1ZXJ5ID0gcXVlcnk7XG5cdFx0XHRcdHJlc3VsdCA9IHNlbGYuc2lmdGVyLnNlYXJjaChxdWVyeSwgJC5leHRlbmQob3B0aW9ucywge3Njb3JlOiBjYWxjdWxhdGVTY29yZX0pKTtcblx0XHRcdFx0c2VsZi5jdXJyZW50UmVzdWx0cyA9IHJlc3VsdDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlc3VsdCA9ICQuZXh0ZW5kKHRydWUsIHt9LCBzZWxmLmN1cnJlbnRSZXN1bHRzKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZmlsdGVyIG91dCBzZWxlY3RlZCBpdGVtc1xuXHRcdFx0aWYgKHNldHRpbmdzLmhpZGVTZWxlY3RlZCkge1xuXHRcdFx0XHRmb3IgKGkgPSByZXN1bHQuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHRpZiAoc2VsZi5pdGVtcy5pbmRleE9mKGhhc2hfa2V5KHJlc3VsdC5pdGVtc1tpXS5pZCkpICE9PSAtMSkge1xuXHRcdFx0XHRcdFx0cmVzdWx0Lml0ZW1zLnNwbGljZShpLCAxKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogUmVmcmVzaGVzIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBvcHRpb25zIHNob3duXG5cdFx0ICogaW4gdGhlIGF1dG9jb21wbGV0ZSBkcm9wZG93biBtZW51LlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSB0cmlnZ2VyRHJvcGRvd25cblx0XHQgKi9cblx0XHRyZWZyZXNoT3B0aW9uczogZnVuY3Rpb24odHJpZ2dlckRyb3Bkb3duKSB7XG5cdFx0XHR2YXIgaSwgaiwgaywgbiwgZ3JvdXBzLCBncm91cHNfb3JkZXIsIG9wdGlvbiwgb3B0aW9uX2h0bWwsIG9wdGdyb3VwLCBvcHRncm91cHMsIGh0bWwsIGh0bWxfY2hpbGRyZW4sIGhhc19jcmVhdGVfb3B0aW9uO1xuXHRcdFx0dmFyICRhY3RpdmUsICRhY3RpdmVfYmVmb3JlLCAkY3JlYXRlO1xuXG5cdFx0XHRpZiAodHlwZW9mIHRyaWdnZXJEcm9wZG93biA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0dHJpZ2dlckRyb3Bkb3duID0gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHNlbGYgICAgICAgICAgICAgID0gdGhpcztcblx0XHRcdHZhciBxdWVyeSAgICAgICAgICAgICA9ICQudHJpbShzZWxmLiRjb250cm9sX2lucHV0LnZhbCgpKTtcblx0XHRcdHZhciByZXN1bHRzICAgICAgICAgICA9IHNlbGYuc2VhcmNoKHF1ZXJ5KTtcblx0XHRcdHZhciAkZHJvcGRvd25fY29udGVudCA9IHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQ7XG5cdFx0XHR2YXIgYWN0aXZlX2JlZm9yZSAgICAgPSBzZWxmLiRhY3RpdmVPcHRpb24gJiYgaGFzaF9rZXkoc2VsZi4kYWN0aXZlT3B0aW9uLmF0dHIoJ2RhdGEtdmFsdWUnKSk7XG5cblx0XHRcdC8vIGJ1aWxkIG1hcmt1cFxuXHRcdFx0biA9IHJlc3VsdHMuaXRlbXMubGVuZ3RoO1xuXHRcdFx0aWYgKHR5cGVvZiBzZWxmLnNldHRpbmdzLm1heE9wdGlvbnMgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdG4gPSBNYXRoLm1pbihuLCBzZWxmLnNldHRpbmdzLm1heE9wdGlvbnMpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyByZW5kZXIgYW5kIGdyb3VwIGF2YWlsYWJsZSBvcHRpb25zIGluZGl2aWR1YWxseVxuXHRcdFx0Z3JvdXBzID0ge307XG5cdFx0XHRncm91cHNfb3JkZXIgPSBbXTtcblxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRvcHRpb24gICAgICA9IHNlbGYub3B0aW9uc1tyZXN1bHRzLml0ZW1zW2ldLmlkXTtcblx0XHRcdFx0b3B0aW9uX2h0bWwgPSBzZWxmLnJlbmRlcignb3B0aW9uJywgb3B0aW9uKTtcblx0XHRcdFx0b3B0Z3JvdXAgICAgPSBvcHRpb25bc2VsZi5zZXR0aW5ncy5vcHRncm91cEZpZWxkXSB8fCAnJztcblx0XHRcdFx0b3B0Z3JvdXBzICAgPSAkLmlzQXJyYXkob3B0Z3JvdXApID8gb3B0Z3JvdXAgOiBbb3B0Z3JvdXBdO1xuXG5cdFx0XHRcdGZvciAoaiA9IDAsIGsgPSBvcHRncm91cHMgJiYgb3B0Z3JvdXBzLmxlbmd0aDsgaiA8IGs7IGorKykge1xuXHRcdFx0XHRcdG9wdGdyb3VwID0gb3B0Z3JvdXBzW2pdO1xuXHRcdFx0XHRcdGlmICghc2VsZi5vcHRncm91cHMuaGFzT3duUHJvcGVydHkob3B0Z3JvdXApKSB7XG5cdFx0XHRcdFx0XHRvcHRncm91cCA9ICcnO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIWdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShvcHRncm91cCkpIHtcblx0XHRcdFx0XHRcdGdyb3Vwc1tvcHRncm91cF0gPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdFx0XHRcdFx0XHRncm91cHNfb3JkZXIucHVzaChvcHRncm91cCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGdyb3Vwc1tvcHRncm91cF0uYXBwZW5kQ2hpbGQob3B0aW9uX2h0bWwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIHNvcnQgb3B0Z3JvdXBzXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5sb2NrT3B0Z3JvdXBPcmRlcikge1xuXHRcdFx0XHRncm91cHNfb3JkZXIuc29ydChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRcdFx0dmFyIGFfb3JkZXIgPSBzZWxmLm9wdGdyb3Vwc1thXS4kb3JkZXIgfHwgMDtcblx0XHRcdFx0XHR2YXIgYl9vcmRlciA9IHNlbGYub3B0Z3JvdXBzW2JdLiRvcmRlciB8fCAwO1xuXHRcdFx0XHRcdHJldHVybiBhX29yZGVyIC0gYl9vcmRlcjtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHJlbmRlciBvcHRncm91cCBoZWFkZXJzICYgam9pbiBncm91cHNcblx0XHRcdGh0bWwgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdFx0XHRmb3IgKGkgPSAwLCBuID0gZ3JvdXBzX29yZGVyLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRvcHRncm91cCA9IGdyb3Vwc19vcmRlcltpXTtcblx0XHRcdFx0aWYgKHNlbGYub3B0Z3JvdXBzLmhhc093blByb3BlcnR5KG9wdGdyb3VwKSAmJiBncm91cHNbb3B0Z3JvdXBdLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0Ly8gcmVuZGVyIHRoZSBvcHRncm91cCBoZWFkZXIgYW5kIG9wdGlvbnMgd2l0aGluIGl0LFxuXHRcdFx0XHRcdC8vIHRoZW4gcGFzcyBpdCB0byB0aGUgd3JhcHBlciB0ZW1wbGF0ZVxuXHRcdFx0XHRcdGh0bWxfY2hpbGRyZW4gPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdFx0XHRcdFx0aHRtbF9jaGlsZHJlbi5hcHBlbmRDaGlsZChzZWxmLnJlbmRlcignb3B0Z3JvdXBfaGVhZGVyJywgc2VsZi5vcHRncm91cHNbb3B0Z3JvdXBdKSk7XG5cdFx0XHRcdFx0aHRtbF9jaGlsZHJlbi5hcHBlbmRDaGlsZChncm91cHNbb3B0Z3JvdXBdKTtcblxuXHRcdFx0XHRcdGh0bWwuYXBwZW5kQ2hpbGQoc2VsZi5yZW5kZXIoJ29wdGdyb3VwJywgJC5leHRlbmQoe30sIHNlbGYub3B0Z3JvdXBzW29wdGdyb3VwXSwge1xuXHRcdFx0XHRcdFx0aHRtbDogZG9tVG9TdHJpbmcoaHRtbF9jaGlsZHJlbiksXG5cdFx0XHRcdFx0XHRkb206ICBodG1sX2NoaWxkcmVuXG5cdFx0XHRcdFx0fSkpKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRodG1sLmFwcGVuZENoaWxkKGdyb3Vwc1tvcHRncm91cF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCRkcm9wZG93bl9jb250ZW50Lmh0bWwoaHRtbCk7XG5cblx0XHRcdC8vIGhpZ2hsaWdodCBtYXRjaGluZyB0ZXJtcyBpbmxpbmVcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLmhpZ2hsaWdodCAmJiByZXN1bHRzLnF1ZXJ5Lmxlbmd0aCAmJiByZXN1bHRzLnRva2Vucy5sZW5ndGgpIHtcblx0XHRcdFx0JGRyb3Bkb3duX2NvbnRlbnQucmVtb3ZlSGlnaGxpZ2h0KCk7XG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSByZXN1bHRzLnRva2Vucy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0XHRoaWdobGlnaHQoJGRyb3Bkb3duX2NvbnRlbnQsIHJlc3VsdHMudG9rZW5zW2ldLnJlZ2V4KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBhZGQgXCJzZWxlY3RlZFwiIGNsYXNzIHRvIHNlbGVjdGVkIG9wdGlvbnNcblx0XHRcdGlmICghc2VsZi5zZXR0aW5ncy5oaWRlU2VsZWN0ZWQpIHtcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IHNlbGYuaXRlbXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0c2VsZi5nZXRPcHRpb24oc2VsZi5pdGVtc1tpXSkuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gYWRkIGNyZWF0ZSBvcHRpb25cblx0XHRcdGhhc19jcmVhdGVfb3B0aW9uID0gc2VsZi5jYW5DcmVhdGUocXVlcnkpO1xuXHRcdFx0aWYgKGhhc19jcmVhdGVfb3B0aW9uKSB7XG5cdFx0XHRcdCRkcm9wZG93bl9jb250ZW50LnByZXBlbmQoc2VsZi5yZW5kZXIoJ29wdGlvbl9jcmVhdGUnLCB7aW5wdXQ6IHF1ZXJ5fSkpO1xuXHRcdFx0XHQkY3JlYXRlID0gJCgkZHJvcGRvd25fY29udGVudFswXS5jaGlsZE5vZGVzWzBdKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gYWN0aXZhdGVcblx0XHRcdHNlbGYuaGFzT3B0aW9ucyA9IHJlc3VsdHMuaXRlbXMubGVuZ3RoID4gMCB8fCBoYXNfY3JlYXRlX29wdGlvbjtcblx0XHRcdGlmIChzZWxmLmhhc09wdGlvbnMpIHtcblx0XHRcdFx0aWYgKHJlc3VsdHMuaXRlbXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdCRhY3RpdmVfYmVmb3JlID0gYWN0aXZlX2JlZm9yZSAmJiBzZWxmLmdldE9wdGlvbihhY3RpdmVfYmVmb3JlKTtcblx0XHRcdFx0XHRpZiAoJGFjdGl2ZV9iZWZvcmUgJiYgJGFjdGl2ZV9iZWZvcmUubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHQkYWN0aXZlID0gJGFjdGl2ZV9iZWZvcmU7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnICYmIHNlbGYuaXRlbXMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHQkYWN0aXZlID0gc2VsZi5nZXRPcHRpb24oc2VsZi5pdGVtc1swXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICghJGFjdGl2ZSB8fCAhJGFjdGl2ZS5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGlmICgkY3JlYXRlICYmICFzZWxmLnNldHRpbmdzLmFkZFByZWNlZGVuY2UpIHtcblx0XHRcdFx0XHRcdFx0JGFjdGl2ZSA9IHNlbGYuZ2V0QWRqYWNlbnRPcHRpb24oJGNyZWF0ZSwgMSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQkYWN0aXZlID0gJGRyb3Bkb3duX2NvbnRlbnQuZmluZCgnW2RhdGEtc2VsZWN0YWJsZV06Zmlyc3QnKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JGFjdGl2ZSA9ICRjcmVhdGU7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2VsZi5zZXRBY3RpdmVPcHRpb24oJGFjdGl2ZSk7XG5cdFx0XHRcdGlmICh0cmlnZ2VyRHJvcGRvd24gJiYgIXNlbGYuaXNPcGVuKSB7IHNlbGYub3BlbigpOyB9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbihudWxsKTtcblx0XHRcdFx0aWYgKHRyaWdnZXJEcm9wZG93biAmJiBzZWxmLmlzT3BlbikgeyBzZWxmLmNsb3NlKCk7IH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQWRkcyBhbiBhdmFpbGFibGUgb3B0aW9uLiBJZiBpdCBhbHJlYWR5IGV4aXN0cyxcblx0XHQgKiBub3RoaW5nIHdpbGwgaGFwcGVuLiBOb3RlOiB0aGlzIGRvZXMgbm90IHJlZnJlc2hcblx0XHQgKiB0aGUgb3B0aW9ucyBsaXN0IGRyb3Bkb3duICh1c2UgYHJlZnJlc2hPcHRpb25zYFxuXHRcdCAqIGZvciB0aGF0KS5cblx0XHQgKlxuXHRcdCAqIFVzYWdlOlxuXHRcdCAqXG5cdFx0ICogICB0aGlzLmFkZE9wdGlvbihkYXRhKVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R8YXJyYXl9IGRhdGFcblx0XHQgKi9cblx0XHRhZGRPcHRpb246IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdHZhciBpLCBuLCB2YWx1ZSwgc2VsZiA9IHRoaXM7XG5cblx0XHRcdGlmICgkLmlzQXJyYXkoZGF0YSkpIHtcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IGRhdGEubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0c2VsZi5hZGRPcHRpb24oZGF0YVtpXSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodmFsdWUgPSBzZWxmLnJlZ2lzdGVyT3B0aW9uKGRhdGEpKSB7XG5cdFx0XHRcdHNlbGYudXNlck9wdGlvbnNbdmFsdWVdID0gdHJ1ZTtcblx0XHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBudWxsO1xuXHRcdFx0XHRzZWxmLnRyaWdnZXIoJ29wdGlvbl9hZGQnLCB2YWx1ZSwgZGF0YSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFJlZ2lzdGVycyBhbiBvcHRpb24gdG8gdGhlIHBvb2wgb2Ygb3B0aW9ucy5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXG5cdFx0ICogQHJldHVybiB7Ym9vbGVhbnxzdHJpbmd9XG5cdFx0ICovXG5cdFx0cmVnaXN0ZXJPcHRpb246IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdHZhciBrZXkgPSBoYXNoX2tleShkYXRhW3RoaXMuc2V0dGluZ3MudmFsdWVGaWVsZF0pO1xuXHRcdFx0aWYgKHR5cGVvZiBrZXkgPT09ICd1bmRlZmluZWQnIHx8IGtleSA9PT0gbnVsbCB8fCB0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0ZGF0YS4kb3JkZXIgPSBkYXRhLiRvcmRlciB8fCArK3RoaXMub3JkZXI7XG5cdFx0XHR0aGlzLm9wdGlvbnNba2V5XSA9IGRhdGE7XG5cdFx0XHRyZXR1cm4ga2V5O1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZWdpc3RlcnMgYW4gb3B0aW9uIGdyb3VwIHRvIHRoZSBwb29sIG9mIG9wdGlvbiBncm91cHMuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxuXHRcdCAqIEByZXR1cm4ge2Jvb2xlYW58c3RyaW5nfVxuXHRcdCAqL1xuXHRcdHJlZ2lzdGVyT3B0aW9uR3JvdXA6IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdHZhciBrZXkgPSBoYXNoX2tleShkYXRhW3RoaXMuc2V0dGluZ3Mub3B0Z3JvdXBWYWx1ZUZpZWxkXSk7XG5cdFx0XHRpZiAoIWtleSkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0XHRkYXRhLiRvcmRlciA9IGRhdGEuJG9yZGVyIHx8ICsrdGhpcy5vcmRlcjtcblx0XHRcdHRoaXMub3B0Z3JvdXBzW2tleV0gPSBkYXRhO1xuXHRcdFx0cmV0dXJuIGtleTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogUmVnaXN0ZXJzIGEgbmV3IG9wdGdyb3VwIGZvciBvcHRpb25zXG5cdFx0ICogdG8gYmUgYnVja2V0ZWQgaW50by5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXG5cdFx0ICovXG5cdFx0YWRkT3B0aW9uR3JvdXA6IGZ1bmN0aW9uKGlkLCBkYXRhKSB7XG5cdFx0XHRkYXRhW3RoaXMuc2V0dGluZ3Mub3B0Z3JvdXBWYWx1ZUZpZWxkXSA9IGlkO1xuXHRcdFx0aWYgKGlkID0gdGhpcy5yZWdpc3Rlck9wdGlvbkdyb3VwKGRhdGEpKSB7XG5cdFx0XHRcdHRoaXMudHJpZ2dlcignb3B0Z3JvdXBfYWRkJywgaWQsIGRhdGEpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZW1vdmVzIGFuIGV4aXN0aW5nIG9wdGlvbiBncm91cC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuXHRcdCAqL1xuXHRcdHJlbW92ZU9wdGlvbkdyb3VwOiBmdW5jdGlvbihpZCkge1xuXHRcdFx0aWYgKHRoaXMub3B0Z3JvdXBzLmhhc093blByb3BlcnR5KGlkKSkge1xuXHRcdFx0XHRkZWxldGUgdGhpcy5vcHRncm91cHNbaWRdO1xuXHRcdFx0XHR0aGlzLnJlbmRlckNhY2hlID0ge307XG5cdFx0XHRcdHRoaXMudHJpZ2dlcignb3B0Z3JvdXBfcmVtb3ZlJywgaWQpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBDbGVhcnMgYWxsIGV4aXN0aW5nIG9wdGlvbiBncm91cHMuXG5cdFx0ICovXG5cdFx0Y2xlYXJPcHRpb25Hcm91cHM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5vcHRncm91cHMgPSB7fTtcblx0XHRcdHRoaXMucmVuZGVyQ2FjaGUgPSB7fTtcblx0XHRcdHRoaXMudHJpZ2dlcignb3B0Z3JvdXBfY2xlYXInKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogVXBkYXRlcyBhbiBvcHRpb24gYXZhaWxhYmxlIGZvciBzZWxlY3Rpb24uIElmXG5cdFx0ICogaXQgaXMgdmlzaWJsZSBpbiB0aGUgc2VsZWN0ZWQgaXRlbXMgb3Igb3B0aW9uc1xuXHRcdCAqIGRyb3Bkb3duLCBpdCB3aWxsIGJlIHJlLXJlbmRlcmVkIGF1dG9tYXRpY2FsbHkuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxuXHRcdCAqL1xuXHRcdHVwZGF0ZU9wdGlvbjogZnVuY3Rpb24odmFsdWUsIGRhdGEpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHZhciAkaXRlbSwgJGl0ZW1fbmV3O1xuXHRcdFx0dmFyIHZhbHVlX25ldywgaW5kZXhfaXRlbSwgY2FjaGVfaXRlbXMsIGNhY2hlX29wdGlvbnMsIG9yZGVyX29sZDtcblxuXHRcdFx0dmFsdWUgICAgID0gaGFzaF9rZXkodmFsdWUpO1xuXHRcdFx0dmFsdWVfbmV3ID0gaGFzaF9rZXkoZGF0YVtzZWxmLnNldHRpbmdzLnZhbHVlRmllbGRdKTtcblxuXHRcdFx0Ly8gc2FuaXR5IGNoZWNrc1xuXHRcdFx0aWYgKHZhbHVlID09PSBudWxsKSByZXR1cm47XG5cdFx0XHRpZiAoIXNlbGYub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpIHJldHVybjtcblx0XHRcdGlmICh0eXBlb2YgdmFsdWVfbmV3ICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IEVycm9yKCdWYWx1ZSBtdXN0IGJlIHNldCBpbiBvcHRpb24gZGF0YScpO1xuXG5cdFx0XHRvcmRlcl9vbGQgPSBzZWxmLm9wdGlvbnNbdmFsdWVdLiRvcmRlcjtcblxuXHRcdFx0Ly8gdXBkYXRlIHJlZmVyZW5jZXNcblx0XHRcdGlmICh2YWx1ZV9uZXcgIT09IHZhbHVlKSB7XG5cdFx0XHRcdGRlbGV0ZSBzZWxmLm9wdGlvbnNbdmFsdWVdO1xuXHRcdFx0XHRpbmRleF9pdGVtID0gc2VsZi5pdGVtcy5pbmRleE9mKHZhbHVlKTtcblx0XHRcdFx0aWYgKGluZGV4X2l0ZW0gIT09IC0xKSB7XG5cdFx0XHRcdFx0c2VsZi5pdGVtcy5zcGxpY2UoaW5kZXhfaXRlbSwgMSwgdmFsdWVfbmV3KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZGF0YS4kb3JkZXIgPSBkYXRhLiRvcmRlciB8fCBvcmRlcl9vbGQ7XG5cdFx0XHRzZWxmLm9wdGlvbnNbdmFsdWVfbmV3XSA9IGRhdGE7XG5cblx0XHRcdC8vIGludmFsaWRhdGUgcmVuZGVyIGNhY2hlXG5cdFx0XHRjYWNoZV9pdGVtcyA9IHNlbGYucmVuZGVyQ2FjaGVbJ2l0ZW0nXTtcblx0XHRcdGNhY2hlX29wdGlvbnMgPSBzZWxmLnJlbmRlckNhY2hlWydvcHRpb24nXTtcblxuXHRcdFx0aWYgKGNhY2hlX2l0ZW1zKSB7XG5cdFx0XHRcdGRlbGV0ZSBjYWNoZV9pdGVtc1t2YWx1ZV07XG5cdFx0XHRcdGRlbGV0ZSBjYWNoZV9pdGVtc1t2YWx1ZV9uZXddO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGNhY2hlX29wdGlvbnMpIHtcblx0XHRcdFx0ZGVsZXRlIGNhY2hlX29wdGlvbnNbdmFsdWVdO1xuXHRcdFx0XHRkZWxldGUgY2FjaGVfb3B0aW9uc1t2YWx1ZV9uZXddO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyB1cGRhdGUgdGhlIGl0ZW0gaWYgaXQncyBzZWxlY3RlZFxuXHRcdFx0aWYgKHNlbGYuaXRlbXMuaW5kZXhPZih2YWx1ZV9uZXcpICE9PSAtMSkge1xuXHRcdFx0XHQkaXRlbSA9IHNlbGYuZ2V0SXRlbSh2YWx1ZSk7XG5cdFx0XHRcdCRpdGVtX25ldyA9ICQoc2VsZi5yZW5kZXIoJ2l0ZW0nLCBkYXRhKSk7XG5cdFx0XHRcdGlmICgkaXRlbS5oYXNDbGFzcygnYWN0aXZlJykpICRpdGVtX25ldy5hZGRDbGFzcygnYWN0aXZlJyk7XG5cdFx0XHRcdCRpdGVtLnJlcGxhY2VXaXRoKCRpdGVtX25ldyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGludmFsaWRhdGUgbGFzdCBxdWVyeSBiZWNhdXNlIHdlIG1pZ2h0IGhhdmUgdXBkYXRlZCB0aGUgc29ydEZpZWxkXG5cdFx0XHRzZWxmLmxhc3RRdWVyeSA9IG51bGw7XG5cblx0XHRcdC8vIHVwZGF0ZSBkcm9wZG93biBjb250ZW50c1xuXHRcdFx0aWYgKHNlbGYuaXNPcGVuKSB7XG5cdFx0XHRcdHNlbGYucmVmcmVzaE9wdGlvbnMoZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZW1vdmVzIGEgc2luZ2xlIG9wdGlvbi5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gc2lsZW50XG5cdFx0ICovXG5cdFx0cmVtb3ZlT3B0aW9uOiBmdW5jdGlvbih2YWx1ZSwgc2lsZW50KSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR2YWx1ZSA9IGhhc2hfa2V5KHZhbHVlKTtcblxuXHRcdFx0dmFyIGNhY2hlX2l0ZW1zID0gc2VsZi5yZW5kZXJDYWNoZVsnaXRlbSddO1xuXHRcdFx0dmFyIGNhY2hlX29wdGlvbnMgPSBzZWxmLnJlbmRlckNhY2hlWydvcHRpb24nXTtcblx0XHRcdGlmIChjYWNoZV9pdGVtcykgZGVsZXRlIGNhY2hlX2l0ZW1zW3ZhbHVlXTtcblx0XHRcdGlmIChjYWNoZV9vcHRpb25zKSBkZWxldGUgY2FjaGVfb3B0aW9uc1t2YWx1ZV07XG5cblx0XHRcdGRlbGV0ZSBzZWxmLnVzZXJPcHRpb25zW3ZhbHVlXTtcblx0XHRcdGRlbGV0ZSBzZWxmLm9wdGlvbnNbdmFsdWVdO1xuXHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBudWxsO1xuXHRcdFx0c2VsZi50cmlnZ2VyKCdvcHRpb25fcmVtb3ZlJywgdmFsdWUpO1xuXHRcdFx0c2VsZi5yZW1vdmVJdGVtKHZhbHVlLCBzaWxlbnQpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBDbGVhcnMgYWxsIG9wdGlvbnMuXG5cdFx0ICovXG5cdFx0Y2xlYXJPcHRpb25zOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0c2VsZi5sb2FkZWRTZWFyY2hlcyA9IHt9O1xuXHRcdFx0c2VsZi51c2VyT3B0aW9ucyA9IHt9O1xuXHRcdFx0c2VsZi5yZW5kZXJDYWNoZSA9IHt9O1xuXHRcdFx0c2VsZi5vcHRpb25zID0gc2VsZi5zaWZ0ZXIuaXRlbXMgPSB7fTtcblx0XHRcdHNlbGYubGFzdFF1ZXJ5ID0gbnVsbDtcblx0XHRcdHNlbGYudHJpZ2dlcignb3B0aW9uX2NsZWFyJyk7XG5cdFx0XHRzZWxmLmNsZWFyKCk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIGpRdWVyeSBlbGVtZW50IG9mIHRoZSBvcHRpb25cblx0XHQgKiBtYXRjaGluZyB0aGUgZ2l2ZW4gdmFsdWUuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcblx0XHQgKiBAcmV0dXJucyB7b2JqZWN0fVxuXHRcdCAqL1xuXHRcdGdldE9wdGlvbjogZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHJldHVybiB0aGlzLmdldEVsZW1lbnRXaXRoVmFsdWUodmFsdWUsIHRoaXMuJGRyb3Bkb3duX2NvbnRlbnQuZmluZCgnW2RhdGEtc2VsZWN0YWJsZV0nKSk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIGpRdWVyeSBlbGVtZW50IG9mIHRoZSBuZXh0IG9yXG5cdFx0ICogcHJldmlvdXMgc2VsZWN0YWJsZSBvcHRpb24uXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gJG9wdGlvblxuXHRcdCAqIEBwYXJhbSB7aW50fSBkaXJlY3Rpb24gIGNhbiBiZSAxIGZvciBuZXh0IG9yIC0xIGZvciBwcmV2aW91c1xuXHRcdCAqIEByZXR1cm4ge29iamVjdH1cblx0XHQgKi9cblx0XHRnZXRBZGphY2VudE9wdGlvbjogZnVuY3Rpb24oJG9wdGlvbiwgZGlyZWN0aW9uKSB7XG5cdFx0XHR2YXIgJG9wdGlvbnMgPSB0aGlzLiRkcm9wZG93bi5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXScpO1xuXHRcdFx0dmFyIGluZGV4ICAgID0gJG9wdGlvbnMuaW5kZXgoJG9wdGlvbikgKyBkaXJlY3Rpb247XG5cblx0XHRcdHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDwgJG9wdGlvbnMubGVuZ3RoID8gJG9wdGlvbnMuZXEoaW5kZXgpIDogJCgpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBGaW5kcyB0aGUgZmlyc3QgZWxlbWVudCB3aXRoIGEgXCJkYXRhLXZhbHVlXCIgYXR0cmlidXRlXG5cdFx0ICogdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiB2YWx1ZS5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7bWl4ZWR9IHZhbHVlXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9ICRlbHNcblx0XHQgKiBAcmV0dXJuIHtvYmplY3R9XG5cdFx0ICovXG5cdFx0Z2V0RWxlbWVudFdpdGhWYWx1ZTogZnVuY3Rpb24odmFsdWUsICRlbHMpIHtcblx0XHRcdHZhbHVlID0gaGFzaF9rZXkodmFsdWUpO1xuXG5cdFx0XHRpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbiA9ICRlbHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKCRlbHNbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJykgPT09IHZhbHVlKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gJCgkZWxzW2ldKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICQoKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgalF1ZXJ5IGVsZW1lbnQgb2YgdGhlIGl0ZW1cblx0XHQgKiBtYXRjaGluZyB0aGUgZ2l2ZW4gdmFsdWUuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcblx0XHQgKiBAcmV0dXJucyB7b2JqZWN0fVxuXHRcdCAqL1xuXHRcdGdldEl0ZW06IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRFbGVtZW50V2l0aFZhbHVlKHZhbHVlLCB0aGlzLiRjb250cm9sLmNoaWxkcmVuKCkpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBcIlNlbGVjdHNcIiBtdWx0aXBsZSBpdGVtcyBhdCBvbmNlLiBBZGRzIHRoZW0gdG8gdGhlIGxpc3Rcblx0XHQgKiBhdCB0aGUgY3VycmVudCBjYXJldCBwb3NpdGlvbi5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gc2lsZW50XG5cdFx0ICovXG5cdFx0YWRkSXRlbXM6IGZ1bmN0aW9uKHZhbHVlcywgc2lsZW50KSB7XG5cdFx0XHR2YXIgaXRlbXMgPSAkLmlzQXJyYXkodmFsdWVzKSA/IHZhbHVlcyA6IFt2YWx1ZXNdO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIG4gPSBpdGVtcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0dGhpcy5pc1BlbmRpbmcgPSAoaSA8IG4gLSAxKTtcblx0XHRcdFx0dGhpcy5hZGRJdGVtKGl0ZW1zW2ldLCBzaWxlbnQpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBcIlNlbGVjdHNcIiBhbiBpdGVtLiBBZGRzIGl0IHRvIHRoZSBsaXN0XG5cdFx0ICogYXQgdGhlIGN1cnJlbnQgY2FyZXQgcG9zaXRpb24uXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHNpbGVudFxuXHRcdCAqL1xuXHRcdGFkZEl0ZW06IGZ1bmN0aW9uKHZhbHVlLCBzaWxlbnQpIHtcblx0XHRcdHZhciBldmVudHMgPSBzaWxlbnQgPyBbXSA6IFsnY2hhbmdlJ107XG5cblx0XHRcdGRlYm91bmNlX2V2ZW50cyh0aGlzLCBldmVudHMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgJGl0ZW0sICRvcHRpb24sICRvcHRpb25zO1xuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRcdHZhciBpbnB1dE1vZGUgPSBzZWxmLnNldHRpbmdzLm1vZGU7XG5cdFx0XHRcdHZhciBpLCBhY3RpdmUsIHZhbHVlX25leHQsIHdhc0Z1bGw7XG5cdFx0XHRcdHZhbHVlID0gaGFzaF9rZXkodmFsdWUpO1xuXG5cdFx0XHRcdGlmIChzZWxmLml0ZW1zLmluZGV4T2YodmFsdWUpICE9PSAtMSkge1xuXHRcdFx0XHRcdGlmIChpbnB1dE1vZGUgPT09ICdzaW5nbGUnKSBzZWxmLmNsb3NlKCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFzZWxmLm9wdGlvbnMuaGFzT3duUHJvcGVydHkodmFsdWUpKSByZXR1cm47XG5cdFx0XHRcdGlmIChpbnB1dE1vZGUgPT09ICdzaW5nbGUnKSBzZWxmLmNsZWFyKHNpbGVudCk7XG5cdFx0XHRcdGlmIChpbnB1dE1vZGUgPT09ICdtdWx0aScgJiYgc2VsZi5pc0Z1bGwoKSkgcmV0dXJuO1xuXG5cdFx0XHRcdCRpdGVtID0gJChzZWxmLnJlbmRlcignaXRlbScsIHNlbGYub3B0aW9uc1t2YWx1ZV0pKTtcblx0XHRcdFx0d2FzRnVsbCA9IHNlbGYuaXNGdWxsKCk7XG5cdFx0XHRcdHNlbGYuaXRlbXMuc3BsaWNlKHNlbGYuY2FyZXRQb3MsIDAsIHZhbHVlKTtcblx0XHRcdFx0c2VsZi5pbnNlcnRBdENhcmV0KCRpdGVtKTtcblx0XHRcdFx0aWYgKCFzZWxmLmlzUGVuZGluZyB8fCAoIXdhc0Z1bGwgJiYgc2VsZi5pc0Z1bGwoKSkpIHtcblx0XHRcdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHNlbGYuaXNTZXR1cCkge1xuXHRcdFx0XHRcdCRvcHRpb25zID0gc2VsZi4kZHJvcGRvd25fY29udGVudC5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXScpO1xuXG5cdFx0XHRcdFx0Ly8gdXBkYXRlIG1lbnUgLyByZW1vdmUgdGhlIG9wdGlvbiAoaWYgdGhpcyBpcyBub3Qgb25lIGl0ZW0gYmVpbmcgYWRkZWQgYXMgcGFydCBvZiBzZXJpZXMpXG5cdFx0XHRcdFx0aWYgKCFzZWxmLmlzUGVuZGluZykge1xuXHRcdFx0XHRcdFx0JG9wdGlvbiA9IHNlbGYuZ2V0T3B0aW9uKHZhbHVlKTtcblx0XHRcdFx0XHRcdHZhbHVlX25leHQgPSBzZWxmLmdldEFkamFjZW50T3B0aW9uKCRvcHRpb24sIDEpLmF0dHIoJ2RhdGEtdmFsdWUnKTtcblx0XHRcdFx0XHRcdHNlbGYucmVmcmVzaE9wdGlvbnMoc2VsZi5pc0ZvY3VzZWQgJiYgaW5wdXRNb2RlICE9PSAnc2luZ2xlJyk7XG5cdFx0XHRcdFx0XHRpZiAodmFsdWVfbmV4dCkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbihzZWxmLmdldE9wdGlvbih2YWx1ZV9uZXh0KSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gaGlkZSB0aGUgbWVudSBpZiB0aGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgaGF2ZSBiZWVuIHNlbGVjdGVkIG9yIG5vIG9wdGlvbnMgYXJlIGxlZnRcblx0XHRcdFx0XHRpZiAoISRvcHRpb25zLmxlbmd0aCB8fCBzZWxmLmlzRnVsbCgpKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmNsb3NlKCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHNlbGYucG9zaXRpb25Ecm9wZG93bigpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHNlbGYudXBkYXRlUGxhY2Vob2xkZXIoKTtcblx0XHRcdFx0XHRzZWxmLnRyaWdnZXIoJ2l0ZW1fYWRkJywgdmFsdWUsICRpdGVtKTtcblx0XHRcdFx0XHRzZWxmLnVwZGF0ZU9yaWdpbmFsSW5wdXQoe3NpbGVudDogc2lsZW50fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZW1vdmVzIHRoZSBzZWxlY3RlZCBpdGVtIG1hdGNoaW5nXG5cdFx0ICogdGhlIHByb3ZpZGVkIHZhbHVlLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG5cdFx0ICovXG5cdFx0cmVtb3ZlSXRlbTogZnVuY3Rpb24odmFsdWUsIHNpbGVudCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyICRpdGVtLCBpLCBpZHg7XG5cblx0XHRcdCRpdGVtID0gKHZhbHVlIGluc3RhbmNlb2YgJCkgPyB2YWx1ZSA6IHNlbGYuZ2V0SXRlbSh2YWx1ZSk7XG5cdFx0XHR2YWx1ZSA9IGhhc2hfa2V5KCRpdGVtLmF0dHIoJ2RhdGEtdmFsdWUnKSk7XG5cdFx0XHRpID0gc2VsZi5pdGVtcy5pbmRleE9mKHZhbHVlKTtcblxuXHRcdFx0aWYgKGkgIT09IC0xKSB7XG5cdFx0XHRcdCRpdGVtLnJlbW92ZSgpO1xuXHRcdFx0XHRpZiAoJGl0ZW0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG5cdFx0XHRcdFx0aWR4ID0gc2VsZi4kYWN0aXZlSXRlbXMuaW5kZXhPZigkaXRlbVswXSk7XG5cdFx0XHRcdFx0c2VsZi4kYWN0aXZlSXRlbXMuc3BsaWNlKGlkeCwgMSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzZWxmLml0ZW1zLnNwbGljZShpLCAxKTtcblx0XHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBudWxsO1xuXHRcdFx0XHRpZiAoIXNlbGYuc2V0dGluZ3MucGVyc2lzdCAmJiBzZWxmLnVzZXJPcHRpb25zLmhhc093blByb3BlcnR5KHZhbHVlKSkge1xuXHRcdFx0XHRcdHNlbGYucmVtb3ZlT3B0aW9uKHZhbHVlLCBzaWxlbnQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGkgPCBzZWxmLmNhcmV0UG9zKSB7XG5cdFx0XHRcdFx0c2VsZi5zZXRDYXJldChzZWxmLmNhcmV0UG9zIC0gMSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xuXHRcdFx0XHRzZWxmLnVwZGF0ZVBsYWNlaG9sZGVyKCk7XG5cdFx0XHRcdHNlbGYudXBkYXRlT3JpZ2luYWxJbnB1dCh7c2lsZW50OiBzaWxlbnR9KTtcblx0XHRcdFx0c2VsZi5wb3NpdGlvbkRyb3Bkb3duKCk7XG5cdFx0XHRcdHNlbGYudHJpZ2dlcignaXRlbV9yZW1vdmUnLCB2YWx1ZSwgJGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBJbnZva2VzIHRoZSBgY3JlYXRlYCBtZXRob2QgcHJvdmlkZWQgaW4gdGhlXG5cdFx0ICogc2VsZWN0aXplIG9wdGlvbnMgdGhhdCBzaG91bGQgcHJvdmlkZSB0aGUgZGF0YVxuXHRcdCAqIGZvciB0aGUgbmV3IGl0ZW0sIGdpdmVuIHRoZSB1c2VyIGlucHV0LlxuXHRcdCAqXG5cdFx0ICogT25jZSB0aGlzIGNvbXBsZXRlcywgaXQgd2lsbCBiZSBhZGRlZFxuXHRcdCAqIHRvIHRoZSBpdGVtIGxpc3QuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IFt0cmlnZ2VyRHJvcGRvd25dXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXVxuXHRcdCAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0Y3JlYXRlSXRlbTogZnVuY3Rpb24oaW5wdXQsIHRyaWdnZXJEcm9wZG93bikge1xuXHRcdFx0dmFyIHNlbGYgID0gdGhpcztcblx0XHRcdHZhciBjYXJldCA9IHNlbGYuY2FyZXRQb3M7XG5cdFx0XHRpbnB1dCA9IGlucHV0IHx8ICQudHJpbShzZWxmLiRjb250cm9sX2lucHV0LnZhbCgpIHx8ICcnKTtcblxuXHRcdFx0dmFyIGNhbGxiYWNrID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcblx0XHRcdGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7fTtcblxuXHRcdFx0aWYgKHR5cGVvZiB0cmlnZ2VyRHJvcGRvd24gIT09ICdib29sZWFuJykge1xuXHRcdFx0XHR0cmlnZ2VyRHJvcGRvd24gPSB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXNlbGYuY2FuQ3JlYXRlKGlucHV0KSkge1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHNlbGYubG9jaygpO1xuXG5cdFx0XHR2YXIgc2V0dXAgPSAodHlwZW9mIHNlbGYuc2V0dGluZ3MuY3JlYXRlID09PSAnZnVuY3Rpb24nKSA/IHRoaXMuc2V0dGluZ3MuY3JlYXRlIDogZnVuY3Rpb24oaW5wdXQpIHtcblx0XHRcdFx0dmFyIGRhdGEgPSB7fTtcblx0XHRcdFx0ZGF0YVtzZWxmLnNldHRpbmdzLmxhYmVsRmllbGRdID0gaW5wdXQ7XG5cdFx0XHRcdGRhdGFbc2VsZi5zZXR0aW5ncy52YWx1ZUZpZWxkXSA9IGlucHV0O1xuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdH07XG5cblx0XHRcdHZhciBjcmVhdGUgPSBvbmNlKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0c2VsZi51bmxvY2soKTtcblxuXHRcdFx0XHRpZiAoIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09ICdvYmplY3QnKSByZXR1cm4gY2FsbGJhY2soKTtcblx0XHRcdFx0dmFyIHZhbHVlID0gaGFzaF9rZXkoZGF0YVtzZWxmLnNldHRpbmdzLnZhbHVlRmllbGRdKTtcblx0XHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiBjYWxsYmFjaygpO1xuXG5cdFx0XHRcdHNlbGYuc2V0VGV4dGJveFZhbHVlKCcnKTtcblx0XHRcdFx0c2VsZi5hZGRPcHRpb24oZGF0YSk7XG5cdFx0XHRcdHNlbGYuc2V0Q2FyZXQoY2FyZXQpO1xuXHRcdFx0XHRzZWxmLmFkZEl0ZW0odmFsdWUpO1xuXHRcdFx0XHRzZWxmLnJlZnJlc2hPcHRpb25zKHRyaWdnZXJEcm9wZG93biAmJiBzZWxmLnNldHRpbmdzLm1vZGUgIT09ICdzaW5nbGUnKTtcblx0XHRcdFx0Y2FsbGJhY2soZGF0YSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0dmFyIG91dHB1dCA9IHNldHVwLmFwcGx5KHRoaXMsIFtpbnB1dCwgY3JlYXRlXSk7XG5cdFx0XHRpZiAodHlwZW9mIG91dHB1dCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0Y3JlYXRlKG91dHB1dCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZS1yZW5kZXJzIHRoZSBzZWxlY3RlZCBpdGVtIGxpc3RzLlxuXHRcdCAqL1xuXHRcdHJlZnJlc2hJdGVtczogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmxhc3RRdWVyeSA9IG51bGw7XG5cblx0XHRcdGlmICh0aGlzLmlzU2V0dXApIHtcblx0XHRcdFx0dGhpcy5hZGRJdGVtKHRoaXMuaXRlbXMpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnJlZnJlc2hTdGF0ZSgpO1xuXHRcdFx0dGhpcy51cGRhdGVPcmlnaW5hbElucHV0KCk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFVwZGF0ZXMgYWxsIHN0YXRlLWRlcGVuZGVudCBhdHRyaWJ1dGVzXG5cdFx0ICogYW5kIENTUyBjbGFzc2VzLlxuXHRcdCAqL1xuXHRcdHJlZnJlc2hTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnJlZnJlc2hWYWxpZGl0eVN0YXRlKCk7XG5cdFx0XHR0aGlzLnJlZnJlc2hDbGFzc2VzKCk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFVwZGF0ZSB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgb2YgYm90aCBpbnB1dCBhbmQgY29udHJvbCBpbnB1dC5cblx0XHQgKlxuXHRcdCAqIFRoZSBgcmVxdWlyZWRgIHByb3BlcnR5IG5lZWRzIHRvIGJlIGFjdGl2YXRlZCBvbiB0aGUgY29udHJvbCBpbnB1dFxuXHRcdCAqIGZvciB0aGUgZXJyb3IgdG8gYmUgZGlzcGxheWVkIGF0IHRoZSByaWdodCBwbGFjZS4gYHJlcXVpcmVkYCBhbHNvXG5cdFx0ICogbmVlZHMgdG8gYmUgdGVtcG9yYXJpbHkgZGVhY3RpdmF0ZWQgb24gdGhlIGlucHV0IHNpbmNlIHRoZSBpbnB1dCBpc1xuXHRcdCAqIGhpZGRlbiBhbmQgY2FuJ3Qgc2hvdyBlcnJvcnMuXG5cdFx0ICovXG5cdFx0cmVmcmVzaFZhbGlkaXR5U3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCF0aGlzLmlzUmVxdWlyZWQpIHJldHVybiBmYWxzZTtcblxuXHRcdFx0dmFyIGludmFsaWQgPSAhdGhpcy5pdGVtcy5sZW5ndGg7XG5cblx0XHRcdHRoaXMuaXNJbnZhbGlkID0gaW52YWxpZDtcblx0XHRcdHRoaXMuJGNvbnRyb2xfaW5wdXQucHJvcCgncmVxdWlyZWQnLCBpbnZhbGlkKTtcblx0XHRcdHRoaXMuJGlucHV0LnByb3AoJ3JlcXVpcmVkJywgIWludmFsaWQpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBVcGRhdGVzIGFsbCBzdGF0ZS1kZXBlbmRlbnQgQ1NTIGNsYXNzZXMuXG5cdFx0ICovXG5cdFx0cmVmcmVzaENsYXNzZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgICAgID0gdGhpcztcblx0XHRcdHZhciBpc0Z1bGwgICA9IHNlbGYuaXNGdWxsKCk7XG5cdFx0XHR2YXIgaXNMb2NrZWQgPSBzZWxmLmlzTG9ja2VkO1xuXG5cdFx0XHRzZWxmLiR3cmFwcGVyXG5cdFx0XHRcdC50b2dnbGVDbGFzcygncnRsJywgc2VsZi5ydGwpO1xuXG5cdFx0XHRzZWxmLiRjb250cm9sXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnZm9jdXMnLCBzZWxmLmlzRm9jdXNlZClcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsIHNlbGYuaXNEaXNhYmxlZClcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdyZXF1aXJlZCcsIHNlbGYuaXNSZXF1aXJlZClcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdpbnZhbGlkJywgc2VsZi5pc0ludmFsaWQpXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnbG9ja2VkJywgaXNMb2NrZWQpXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnZnVsbCcsIGlzRnVsbCkudG9nZ2xlQ2xhc3MoJ25vdC1mdWxsJywgIWlzRnVsbClcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdpbnB1dC1hY3RpdmUnLCBzZWxmLmlzRm9jdXNlZCAmJiAhc2VsZi5pc0lucHV0SGlkZGVuKVxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ2Ryb3Bkb3duLWFjdGl2ZScsIHNlbGYuaXNPcGVuKVxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ2hhcy1vcHRpb25zJywgISQuaXNFbXB0eU9iamVjdChzZWxmLm9wdGlvbnMpKVxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ2hhcy1pdGVtcycsIHNlbGYuaXRlbXMubGVuZ3RoID4gMCk7XG5cblx0XHRcdHNlbGYuJGNvbnRyb2xfaW5wdXQuZGF0YSgnZ3JvdycsICFpc0Z1bGwgJiYgIWlzTG9ja2VkKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCBtb3JlIGl0ZW1zIGNhbiBiZSBhZGRlZFxuXHRcdCAqIHRvIHRoZSBjb250cm9sIHdpdGhvdXQgZXhjZWVkaW5nIHRoZSB1c2VyLWRlZmluZWQgbWF4aW11bS5cblx0XHQgKlxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHRcdCAqL1xuXHRcdGlzRnVsbDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zZXR0aW5ncy5tYXhJdGVtcyAhPT0gbnVsbCAmJiB0aGlzLml0ZW1zLmxlbmd0aCA+PSB0aGlzLnNldHRpbmdzLm1heEl0ZW1zO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZWZyZXNoZXMgdGhlIG9yaWdpbmFsIDxzZWxlY3Q+IG9yIDxpbnB1dD5cblx0XHQgKiBlbGVtZW50IHRvIHJlZmxlY3QgdGhlIGN1cnJlbnQgc3RhdGUuXG5cdFx0ICovXG5cdFx0dXBkYXRlT3JpZ2luYWxJbnB1dDogZnVuY3Rpb24ob3B0cykge1xuXHRcdFx0dmFyIGksIG4sIG9wdGlvbnMsIGxhYmVsLCBzZWxmID0gdGhpcztcblx0XHRcdG9wdHMgPSBvcHRzIHx8IHt9O1xuXG5cdFx0XHRpZiAoc2VsZi50YWdUeXBlID09PSBUQUdfU0VMRUNUKSB7XG5cdFx0XHRcdG9wdGlvbnMgPSBbXTtcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IHNlbGYuaXRlbXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0bGFiZWwgPSBzZWxmLm9wdGlvbnNbc2VsZi5pdGVtc1tpXV1bc2VsZi5zZXR0aW5ncy5sYWJlbEZpZWxkXSB8fCAnJztcblx0XHRcdFx0XHRvcHRpb25zLnB1c2goJzxvcHRpb24gdmFsdWU9XCInICsgZXNjYXBlX2h0bWwoc2VsZi5pdGVtc1tpXSkgKyAnXCIgc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiPicgKyBlc2NhcGVfaHRtbChsYWJlbCkgKyAnPC9vcHRpb24+Jyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFvcHRpb25zLmxlbmd0aCAmJiAhdGhpcy4kaW5wdXQuYXR0cignbXVsdGlwbGUnKSkge1xuXHRcdFx0XHRcdG9wdGlvbnMucHVzaCgnPG9wdGlvbiB2YWx1ZT1cIlwiIHNlbGVjdGVkPVwic2VsZWN0ZWRcIj48L29wdGlvbj4nKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzZWxmLiRpbnB1dC5odG1sKG9wdGlvbnMuam9pbignJykpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VsZi4kaW5wdXQudmFsKHNlbGYuZ2V0VmFsdWUoKSk7XG5cdFx0XHRcdHNlbGYuJGlucHV0LmF0dHIoJ3ZhbHVlJyxzZWxmLiRpbnB1dC52YWwoKSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChzZWxmLmlzU2V0dXApIHtcblx0XHRcdFx0aWYgKCFvcHRzLnNpbGVudCkge1xuXHRcdFx0XHRcdHNlbGYudHJpZ2dlcignY2hhbmdlJywgc2VsZi4kaW5wdXQudmFsKCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFNob3dzL2hpZGUgdGhlIGlucHV0IHBsYWNlaG9sZGVyIGRlcGVuZGluZ1xuXHRcdCAqIG9uIGlmIHRoZXJlIGl0ZW1zIGluIHRoZSBsaXN0IGFscmVhZHkuXG5cdFx0ICovXG5cdFx0dXBkYXRlUGxhY2Vob2xkZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCF0aGlzLnNldHRpbmdzLnBsYWNlaG9sZGVyKSByZXR1cm47XG5cdFx0XHR2YXIgJGlucHV0ID0gdGhpcy4kY29udHJvbF9pbnB1dDtcblxuXHRcdFx0aWYgKHRoaXMuaXRlbXMubGVuZ3RoKSB7XG5cdFx0XHRcdCRpbnB1dC5yZW1vdmVBdHRyKCdwbGFjZWhvbGRlcicpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JGlucHV0LmF0dHIoJ3BsYWNlaG9sZGVyJywgdGhpcy5zZXR0aW5ncy5wbGFjZWhvbGRlcik7XG5cdFx0XHR9XG5cdFx0XHQkaW5wdXQudHJpZ2dlckhhbmRsZXIoJ3VwZGF0ZScsIHtmb3JjZTogdHJ1ZX0pO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBTaG93cyB0aGUgYXV0b2NvbXBsZXRlIGRyb3Bkb3duIGNvbnRhaW5pbmdcblx0XHQgKiB0aGUgYXZhaWxhYmxlIG9wdGlvbnMuXG5cdFx0ICovXG5cdFx0b3BlbjogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdGlmIChzZWxmLmlzTG9ja2VkIHx8IHNlbGYuaXNPcGVuIHx8IChzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdtdWx0aScgJiYgc2VsZi5pc0Z1bGwoKSkpIHJldHVybjtcblx0XHRcdHNlbGYuZm9jdXMoKTtcblx0XHRcdHNlbGYuaXNPcGVuID0gdHJ1ZTtcblx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XG5cdFx0XHRzZWxmLiRkcm9wZG93bi5jc3Moe3Zpc2liaWxpdHk6ICdoaWRkZW4nLCBkaXNwbGF5OiAnYmxvY2snfSk7XG5cdFx0XHRzZWxmLnBvc2l0aW9uRHJvcGRvd24oKTtcblx0XHRcdHNlbGYuJGRyb3Bkb3duLmNzcyh7dmlzaWJpbGl0eTogJ3Zpc2libGUnfSk7XG5cdFx0XHRzZWxmLnRyaWdnZXIoJ2Ryb3Bkb3duX29wZW4nLCBzZWxmLiRkcm9wZG93bik7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIENsb3NlcyB0aGUgYXV0b2NvbXBsZXRlIGRyb3Bkb3duIG1lbnUuXG5cdFx0ICovXG5cdFx0Y2xvc2U6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIHRyaWdnZXIgPSBzZWxmLmlzT3BlbjtcblxuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScgJiYgc2VsZi5pdGVtcy5sZW5ndGgpIHtcblx0XHRcdFx0c2VsZi5oaWRlSW5wdXQoKTtcblx0XHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dC5ibHVyKCk7IC8vIGNsb3NlIGtleWJvYXJkIG9uIGlPU1xuXHRcdFx0fVxuXG5cdFx0XHRzZWxmLmlzT3BlbiA9IGZhbHNlO1xuXHRcdFx0c2VsZi4kZHJvcGRvd24uaGlkZSgpO1xuXHRcdFx0c2VsZi5zZXRBY3RpdmVPcHRpb24obnVsbCk7XG5cdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xuXG5cdFx0XHRpZiAodHJpZ2dlcikgc2VsZi50cmlnZ2VyKCdkcm9wZG93bl9jbG9zZScsIHNlbGYuJGRyb3Bkb3duKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQ2FsY3VsYXRlcyBhbmQgYXBwbGllcyB0aGUgYXBwcm9wcmlhdGVcblx0XHQgKiBwb3NpdGlvbiBvZiB0aGUgZHJvcGRvd24uXG5cdFx0ICovXG5cdFx0cG9zaXRpb25Ecm9wZG93bjogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgJGNvbnRyb2wgPSB0aGlzLiRjb250cm9sO1xuXHRcdFx0dmFyIG9mZnNldCA9IHRoaXMuc2V0dGluZ3MuZHJvcGRvd25QYXJlbnQgPT09ICdib2R5JyA/ICRjb250cm9sLm9mZnNldCgpIDogJGNvbnRyb2wucG9zaXRpb24oKTtcblx0XHRcdG9mZnNldC50b3AgKz0gJGNvbnRyb2wub3V0ZXJIZWlnaHQodHJ1ZSk7XG5cblx0XHRcdHRoaXMuJGRyb3Bkb3duLmNzcyh7XG5cdFx0XHRcdHdpZHRoIDogJGNvbnRyb2wub3V0ZXJXaWR0aCgpLFxuXHRcdFx0XHR0b3AgICA6IG9mZnNldC50b3AsXG5cdFx0XHRcdGxlZnQgIDogb2Zmc2V0LmxlZnRcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZXNldHMgLyBjbGVhcnMgYWxsIHNlbGVjdGVkIGl0ZW1zXG5cdFx0ICogZnJvbSB0aGUgY29udHJvbC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gc2lsZW50XG5cdFx0ICovXG5cdFx0Y2xlYXI6IGZ1bmN0aW9uKHNpbGVudCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHRpZiAoIXNlbGYuaXRlbXMubGVuZ3RoKSByZXR1cm47XG5cdFx0XHRzZWxmLiRjb250cm9sLmNoaWxkcmVuKCc6bm90KGlucHV0KScpLnJlbW92ZSgpO1xuXHRcdFx0c2VsZi5pdGVtcyA9IFtdO1xuXHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBudWxsO1xuXHRcdFx0c2VsZi5zZXRDYXJldCgwKTtcblx0XHRcdHNlbGYuc2V0QWN0aXZlSXRlbShudWxsKTtcblx0XHRcdHNlbGYudXBkYXRlUGxhY2Vob2xkZXIoKTtcblx0XHRcdHNlbGYudXBkYXRlT3JpZ2luYWxJbnB1dCh7c2lsZW50OiBzaWxlbnR9KTtcblx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XG5cdFx0XHRzZWxmLnNob3dJbnB1dCgpO1xuXHRcdFx0c2VsZi50cmlnZ2VyKCdjbGVhcicpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBBIGhlbHBlciBtZXRob2QgZm9yIGluc2VydGluZyBhbiBlbGVtZW50XG5cdFx0ICogYXQgdGhlIGN1cnJlbnQgY2FyZXQgcG9zaXRpb24uXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gJGVsXG5cdFx0ICovXG5cdFx0aW5zZXJ0QXRDYXJldDogZnVuY3Rpb24oJGVsKSB7XG5cdFx0XHR2YXIgY2FyZXQgPSBNYXRoLm1pbih0aGlzLmNhcmV0UG9zLCB0aGlzLml0ZW1zLmxlbmd0aCk7XG5cdFx0XHRpZiAoY2FyZXQgPT09IDApIHtcblx0XHRcdFx0dGhpcy4kY29udHJvbC5wcmVwZW5kKCRlbCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKHRoaXMuJGNvbnRyb2xbMF0uY2hpbGROb2Rlc1tjYXJldF0pLmJlZm9yZSgkZWwpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5zZXRDYXJldChjYXJldCArIDEpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZW1vdmVzIHRoZSBjdXJyZW50IHNlbGVjdGVkIGl0ZW0ocykuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZSAob3B0aW9uYWwpXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0ZGVsZXRlU2VsZWN0aW9uOiBmdW5jdGlvbihlKSB7XG5cdFx0XHR2YXIgaSwgbiwgZGlyZWN0aW9uLCBzZWxlY3Rpb24sIHZhbHVlcywgY2FyZXQsIG9wdGlvbl9zZWxlY3QsICRvcHRpb25fc2VsZWN0LCAkdGFpbDtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0ZGlyZWN0aW9uID0gKGUgJiYgZS5rZXlDb2RlID09PSBLRVlfQkFDS1NQQUNFKSA/IC0xIDogMTtcblx0XHRcdHNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbihzZWxmLiRjb250cm9sX2lucHV0WzBdKTtcblxuXHRcdFx0aWYgKHNlbGYuJGFjdGl2ZU9wdGlvbiAmJiAhc2VsZi5zZXR0aW5ncy5oaWRlU2VsZWN0ZWQpIHtcblx0XHRcdFx0b3B0aW9uX3NlbGVjdCA9IHNlbGYuZ2V0QWRqYWNlbnRPcHRpb24oc2VsZi4kYWN0aXZlT3B0aW9uLCAtMSkuYXR0cignZGF0YS12YWx1ZScpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBkZXRlcm1pbmUgaXRlbXMgdGhhdCB3aWxsIGJlIHJlbW92ZWRcblx0XHRcdHZhbHVlcyA9IFtdO1xuXG5cdFx0XHRpZiAoc2VsZi4kYWN0aXZlSXRlbXMubGVuZ3RoKSB7XG5cdFx0XHRcdCR0YWlsID0gc2VsZi4kY29udHJvbC5jaGlsZHJlbignLmFjdGl2ZTonICsgKGRpcmVjdGlvbiA+IDAgPyAnbGFzdCcgOiAnZmlyc3QnKSk7XG5cdFx0XHRcdGNhcmV0ID0gc2VsZi4kY29udHJvbC5jaGlsZHJlbignOm5vdChpbnB1dCknKS5pbmRleCgkdGFpbCk7XG5cdFx0XHRcdGlmIChkaXJlY3Rpb24gPiAwKSB7IGNhcmV0Kys7IH1cblxuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gc2VsZi4kYWN0aXZlSXRlbXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0dmFsdWVzLnB1c2goJChzZWxmLiRhY3RpdmVJdGVtc1tpXSkuYXR0cignZGF0YS12YWx1ZScpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZSkge1xuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKChzZWxmLmlzRm9jdXNlZCB8fCBzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnKSAmJiBzZWxmLml0ZW1zLmxlbmd0aCkge1xuXHRcdFx0XHRpZiAoZGlyZWN0aW9uIDwgMCAmJiBzZWxlY3Rpb24uc3RhcnQgPT09IDAgJiYgc2VsZWN0aW9uLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdHZhbHVlcy5wdXNoKHNlbGYuaXRlbXNbc2VsZi5jYXJldFBvcyAtIDFdKTtcblx0XHRcdFx0fSBlbHNlIGlmIChkaXJlY3Rpb24gPiAwICYmIHNlbGVjdGlvbi5zdGFydCA9PT0gc2VsZi4kY29udHJvbF9pbnB1dC52YWwoKS5sZW5ndGgpIHtcblx0XHRcdFx0XHR2YWx1ZXMucHVzaChzZWxmLml0ZW1zW3NlbGYuY2FyZXRQb3NdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBhbGxvdyB0aGUgY2FsbGJhY2sgdG8gYWJvcnRcblx0XHRcdGlmICghdmFsdWVzLmxlbmd0aCB8fCAodHlwZW9mIHNlbGYuc2V0dGluZ3Mub25EZWxldGUgPT09ICdmdW5jdGlvbicgJiYgc2VsZi5zZXR0aW5ncy5vbkRlbGV0ZS5hcHBseShzZWxmLCBbdmFsdWVzXSkgPT09IGZhbHNlKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHBlcmZvcm0gcmVtb3ZhbFxuXHRcdFx0aWYgKHR5cGVvZiBjYXJldCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0c2VsZi5zZXRDYXJldChjYXJldCk7XG5cdFx0XHR9XG5cdFx0XHR3aGlsZSAodmFsdWVzLmxlbmd0aCkge1xuXHRcdFx0XHRzZWxmLnJlbW92ZUl0ZW0odmFsdWVzLnBvcCgpKTtcblx0XHRcdH1cblxuXHRcdFx0c2VsZi5zaG93SW5wdXQoKTtcblx0XHRcdHNlbGYucG9zaXRpb25Ecm9wZG93bigpO1xuXHRcdFx0c2VsZi5yZWZyZXNoT3B0aW9ucyh0cnVlKTtcblxuXHRcdFx0Ly8gc2VsZWN0IHByZXZpb3VzIG9wdGlvblxuXHRcdFx0aWYgKG9wdGlvbl9zZWxlY3QpIHtcblx0XHRcdFx0JG9wdGlvbl9zZWxlY3QgPSBzZWxmLmdldE9wdGlvbihvcHRpb25fc2VsZWN0KTtcblx0XHRcdFx0aWYgKCRvcHRpb25fc2VsZWN0Lmxlbmd0aCkge1xuXHRcdFx0XHRcdHNlbGYuc2V0QWN0aXZlT3B0aW9uKCRvcHRpb25fc2VsZWN0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogU2VsZWN0cyB0aGUgcHJldmlvdXMgLyBuZXh0IGl0ZW0gKGRlcGVuZGluZ1xuXHRcdCAqIG9uIHRoZSBgZGlyZWN0aW9uYCBhcmd1bWVudCkuXG5cdFx0ICpcblx0XHQgKiA+IDAgLSByaWdodFxuXHRcdCAqIDwgMCAtIGxlZnRcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7aW50fSBkaXJlY3Rpb25cblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZSAob3B0aW9uYWwpXG5cdFx0ICovXG5cdFx0YWR2YW5jZVNlbGVjdGlvbjogZnVuY3Rpb24oZGlyZWN0aW9uLCBlKSB7XG5cdFx0XHR2YXIgdGFpbCwgc2VsZWN0aW9uLCBpZHgsIHZhbHVlTGVuZ3RoLCBjdXJzb3JBdEVkZ2UsICR0YWlsO1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHRpZiAoZGlyZWN0aW9uID09PSAwKSByZXR1cm47XG5cdFx0XHRpZiAoc2VsZi5ydGwpIGRpcmVjdGlvbiAqPSAtMTtcblxuXHRcdFx0dGFpbCA9IGRpcmVjdGlvbiA+IDAgPyAnbGFzdCcgOiAnZmlyc3QnO1xuXHRcdFx0c2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKHNlbGYuJGNvbnRyb2xfaW5wdXRbMF0pO1xuXG5cdFx0XHRpZiAoc2VsZi5pc0ZvY3VzZWQgJiYgIXNlbGYuaXNJbnB1dEhpZGRlbikge1xuXHRcdFx0XHR2YWx1ZUxlbmd0aCA9IHNlbGYuJGNvbnRyb2xfaW5wdXQudmFsKCkubGVuZ3RoO1xuXHRcdFx0XHRjdXJzb3JBdEVkZ2UgPSBkaXJlY3Rpb24gPCAwXG5cdFx0XHRcdFx0PyBzZWxlY3Rpb24uc3RhcnQgPT09IDAgJiYgc2VsZWN0aW9uLmxlbmd0aCA9PT0gMFxuXHRcdFx0XHRcdDogc2VsZWN0aW9uLnN0YXJ0ID09PSB2YWx1ZUxlbmd0aDtcblxuXHRcdFx0XHRpZiAoY3Vyc29yQXRFZGdlICYmICF2YWx1ZUxlbmd0aCkge1xuXHRcdFx0XHRcdHNlbGYuYWR2YW5jZUNhcmV0KGRpcmVjdGlvbiwgZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCR0YWlsID0gc2VsZi4kY29udHJvbC5jaGlsZHJlbignLmFjdGl2ZTonICsgdGFpbCk7XG5cdFx0XHRcdGlmICgkdGFpbC5sZW5ndGgpIHtcblx0XHRcdFx0XHRpZHggPSBzZWxmLiRjb250cm9sLmNoaWxkcmVuKCc6bm90KGlucHV0KScpLmluZGV4KCR0YWlsKTtcblx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0obnVsbCk7XG5cdFx0XHRcdFx0c2VsZi5zZXRDYXJldChkaXJlY3Rpb24gPiAwID8gaWR4ICsgMSA6IGlkeCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogTW92ZXMgdGhlIGNhcmV0IGxlZnQgLyByaWdodC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7aW50fSBkaXJlY3Rpb25cblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZSAob3B0aW9uYWwpXG5cdFx0ICovXG5cdFx0YWR2YW5jZUNhcmV0OiBmdW5jdGlvbihkaXJlY3Rpb24sIGUpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcywgZm4sICRhZGo7XG5cblx0XHRcdGlmIChkaXJlY3Rpb24gPT09IDApIHJldHVybjtcblxuXHRcdFx0Zm4gPSBkaXJlY3Rpb24gPiAwID8gJ25leHQnIDogJ3ByZXYnO1xuXHRcdFx0aWYgKHNlbGYuaXNTaGlmdERvd24pIHtcblx0XHRcdFx0JGFkaiA9IHNlbGYuJGNvbnRyb2xfaW5wdXRbZm5dKCk7XG5cdFx0XHRcdGlmICgkYWRqLmxlbmd0aCkge1xuXHRcdFx0XHRcdHNlbGYuaGlkZUlucHV0KCk7XG5cdFx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKCRhZGopO1xuXHRcdFx0XHRcdGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWxmLnNldENhcmV0KHNlbGYuY2FyZXRQb3MgKyBkaXJlY3Rpb24pO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBNb3ZlcyB0aGUgY2FyZXQgdG8gdGhlIHNwZWNpZmllZCBpbmRleC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7aW50fSBpXG5cdFx0ICovXG5cdFx0c2V0Q2FyZXQ6IGZ1bmN0aW9uKGkpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScpIHtcblx0XHRcdFx0aSA9IHNlbGYuaXRlbXMubGVuZ3RoO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHNlbGYuaXRlbXMubGVuZ3RoLCBpKSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmKCFzZWxmLmlzUGVuZGluZykge1xuXHRcdFx0XHQvLyB0aGUgaW5wdXQgbXVzdCBiZSBtb3ZlZCBieSBsZWF2aW5nIGl0IGluIHBsYWNlIGFuZCBtb3ZpbmcgdGhlXG5cdFx0XHRcdC8vIHNpYmxpbmdzLCBkdWUgdG8gdGhlIGZhY3QgdGhhdCBmb2N1cyBjYW5ub3QgYmUgcmVzdG9yZWQgb25jZSBsb3N0XG5cdFx0XHRcdC8vIG9uIG1vYmlsZSB3ZWJraXQgZGV2aWNlc1xuXHRcdFx0XHR2YXIgaiwgbiwgZm4sICRjaGlsZHJlbiwgJGNoaWxkO1xuXHRcdFx0XHQkY2hpbGRyZW4gPSBzZWxmLiRjb250cm9sLmNoaWxkcmVuKCc6bm90KGlucHV0KScpO1xuXHRcdFx0XHRmb3IgKGogPSAwLCBuID0gJGNoaWxkcmVuLmxlbmd0aDsgaiA8IG47IGorKykge1xuXHRcdFx0XHRcdCRjaGlsZCA9ICQoJGNoaWxkcmVuW2pdKS5kZXRhY2goKTtcblx0XHRcdFx0XHRpZiAoaiA8ICBpKSB7XG5cdFx0XHRcdFx0XHRzZWxmLiRjb250cm9sX2lucHV0LmJlZm9yZSgkY2hpbGQpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZWxmLiRjb250cm9sLmFwcGVuZCgkY2hpbGQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRzZWxmLmNhcmV0UG9zID0gaTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogRGlzYWJsZXMgdXNlciBpbnB1dCBvbiB0aGUgY29udHJvbC4gVXNlZCB3aGlsZVxuXHRcdCAqIGl0ZW1zIGFyZSBiZWluZyBhc3luY2hyb25vdXNseSBjcmVhdGVkLlxuXHRcdCAqL1xuXHRcdGxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0dGhpcy5pc0xvY2tlZCA9IHRydWU7XG5cdFx0XHR0aGlzLnJlZnJlc2hTdGF0ZSgpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZS1lbmFibGVzIHVzZXIgaW5wdXQgb24gdGhlIGNvbnRyb2wuXG5cdFx0ICovXG5cdFx0dW5sb2NrOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuaXNMb2NrZWQgPSBmYWxzZTtcblx0XHRcdHRoaXMucmVmcmVzaFN0YXRlKCk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIERpc2FibGVzIHVzZXIgaW5wdXQgb24gdGhlIGNvbnRyb2wgY29tcGxldGVseS5cblx0XHQgKiBXaGlsZSBkaXNhYmxlZCwgaXQgY2Fubm90IHJlY2VpdmUgZm9jdXMuXG5cdFx0ICovXG5cdFx0ZGlzYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRzZWxmLiRpbnB1dC5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dC5wcm9wKCdkaXNhYmxlZCcsIHRydWUpLnByb3AoJ3RhYmluZGV4JywgLTEpO1xuXHRcdFx0c2VsZi5pc0Rpc2FibGVkID0gdHJ1ZTtcblx0XHRcdHNlbGYubG9jaygpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBFbmFibGVzIHRoZSBjb250cm9sIHNvIHRoYXQgaXQgY2FuIHJlc3BvbmRcblx0XHQgKiB0byBmb2N1cyBhbmQgdXNlciBpbnB1dC5cblx0XHQgKi9cblx0XHRlbmFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0c2VsZi4kaW5wdXQucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cdFx0XHRzZWxmLiRjb250cm9sX2lucHV0LnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpLnByb3AoJ3RhYmluZGV4Jywgc2VsZi50YWJJbmRleCk7XG5cdFx0XHRzZWxmLmlzRGlzYWJsZWQgPSBmYWxzZTtcblx0XHRcdHNlbGYudW5sb2NrKCk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIENvbXBsZXRlbHkgZGVzdHJveXMgdGhlIGNvbnRyb2wgYW5kXG5cdFx0ICogdW5iaW5kcyBhbGwgZXZlbnQgbGlzdGVuZXJzIHNvIHRoYXQgaXQgY2FuXG5cdFx0ICogYmUgZ2FyYmFnZSBjb2xsZWN0ZWQuXG5cdFx0ICovXG5cdFx0ZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR2YXIgZXZlbnROUyA9IHNlbGYuZXZlbnROUztcblx0XHRcdHZhciByZXZlcnRTZXR0aW5ncyA9IHNlbGYucmV2ZXJ0U2V0dGluZ3M7XG5cblx0XHRcdHNlbGYudHJpZ2dlcignZGVzdHJveScpO1xuXHRcdFx0c2VsZi5vZmYoKTtcblx0XHRcdHNlbGYuJHdyYXBwZXIucmVtb3ZlKCk7XG5cdFx0XHRzZWxmLiRkcm9wZG93bi5yZW1vdmUoKTtcblxuXHRcdFx0c2VsZi4kaW5wdXRcblx0XHRcdFx0Lmh0bWwoJycpXG5cdFx0XHRcdC5hcHBlbmQocmV2ZXJ0U2V0dGluZ3MuJGNoaWxkcmVuKVxuXHRcdFx0XHQucmVtb3ZlQXR0cigndGFiaW5kZXgnKVxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoJ3NlbGVjdGl6ZWQnKVxuXHRcdFx0XHQuYXR0cih7dGFiaW5kZXg6IHJldmVydFNldHRpbmdzLnRhYmluZGV4fSlcblx0XHRcdFx0LnNob3coKTtcblxuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dC5yZW1vdmVEYXRhKCdncm93Jyk7XG5cdFx0XHRzZWxmLiRpbnB1dC5yZW1vdmVEYXRhKCdzZWxlY3RpemUnKTtcblxuXHRcdFx0JCh3aW5kb3cpLm9mZihldmVudE5TKTtcblx0XHRcdCQoZG9jdW1lbnQpLm9mZihldmVudE5TKTtcblx0XHRcdCQoZG9jdW1lbnQuYm9keSkub2ZmKGV2ZW50TlMpO1xuXG5cdFx0XHRkZWxldGUgc2VsZi4kaW5wdXRbMF0uc2VsZWN0aXplO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBBIGhlbHBlciBtZXRob2QgZm9yIHJlbmRlcmluZyBcIml0ZW1cIiBhbmRcblx0XHQgKiBcIm9wdGlvblwiIHRlbXBsYXRlcywgZ2l2ZW4gdGhlIGRhdGEuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGVOYW1lXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGFcblx0XHQgKiBAcmV0dXJucyB7c3RyaW5nfVxuXHRcdCAqL1xuXHRcdHJlbmRlcjogZnVuY3Rpb24odGVtcGxhdGVOYW1lLCBkYXRhKSB7XG5cdFx0XHR2YXIgdmFsdWUsIGlkLCBsYWJlbDtcblx0XHRcdHZhciBodG1sID0gJyc7XG5cdFx0XHR2YXIgY2FjaGUgPSBmYWxzZTtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHZhciByZWdleF90YWcgPSAvXltcXHQgXFxyXFxuXSo8KFthLXpdW2EtejAtOVxcLV9dKig/OlxcOlthLXpdW2EtejAtOVxcLV9dKik/KS9pO1xuXG5cdFx0XHRpZiAodGVtcGxhdGVOYW1lID09PSAnb3B0aW9uJyB8fCB0ZW1wbGF0ZU5hbWUgPT09ICdpdGVtJykge1xuXHRcdFx0XHR2YWx1ZSA9IGhhc2hfa2V5KGRhdGFbc2VsZi5zZXR0aW5ncy52YWx1ZUZpZWxkXSk7XG5cdFx0XHRcdGNhY2hlID0gISF2YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gcHVsbCBtYXJrdXAgZnJvbSBjYWNoZSBpZiBpdCBleGlzdHNcblx0XHRcdGlmIChjYWNoZSkge1xuXHRcdFx0XHRpZiAoIWlzc2V0KHNlbGYucmVuZGVyQ2FjaGVbdGVtcGxhdGVOYW1lXSkpIHtcblx0XHRcdFx0XHRzZWxmLnJlbmRlckNhY2hlW3RlbXBsYXRlTmFtZV0gPSB7fTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc2VsZi5yZW5kZXJDYWNoZVt0ZW1wbGF0ZU5hbWVdLmhhc093blByb3BlcnR5KHZhbHVlKSkge1xuXHRcdFx0XHRcdHJldHVybiBzZWxmLnJlbmRlckNhY2hlW3RlbXBsYXRlTmFtZV1bdmFsdWVdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIHJlbmRlciBtYXJrdXBcblx0XHRcdGh0bWwgPSAkKHNlbGYuc2V0dGluZ3MucmVuZGVyW3RlbXBsYXRlTmFtZV0uYXBwbHkodGhpcywgW2RhdGEsIGVzY2FwZV9odG1sXSkpO1xuXG5cdFx0XHQvLyBhZGQgbWFuZGF0b3J5IGF0dHJpYnV0ZXNcblx0XHRcdGlmICh0ZW1wbGF0ZU5hbWUgPT09ICdvcHRpb24nIHx8IHRlbXBsYXRlTmFtZSA9PT0gJ29wdGlvbl9jcmVhdGUnKSB7XG5cdFx0XHRcdGh0bWwuYXR0cignZGF0YS1zZWxlY3RhYmxlJywgJycpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAodGVtcGxhdGVOYW1lID09PSAnb3B0Z3JvdXAnKSB7XG5cdFx0XHRcdGlkID0gZGF0YVtzZWxmLnNldHRpbmdzLm9wdGdyb3VwVmFsdWVGaWVsZF0gfHwgJyc7XG5cdFx0XHRcdGh0bWwuYXR0cignZGF0YS1ncm91cCcsIGlkKTtcblx0XHRcdH1cblx0XHRcdGlmICh0ZW1wbGF0ZU5hbWUgPT09ICdvcHRpb24nIHx8IHRlbXBsYXRlTmFtZSA9PT0gJ2l0ZW0nKSB7XG5cdFx0XHRcdGh0bWwuYXR0cignZGF0YS12YWx1ZScsIHZhbHVlIHx8ICcnKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gdXBkYXRlIGNhY2hlXG5cdFx0XHRpZiAoY2FjaGUpIHtcblx0XHRcdFx0c2VsZi5yZW5kZXJDYWNoZVt0ZW1wbGF0ZU5hbWVdW3ZhbHVlXSA9IGh0bWxbMF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBodG1sWzBdO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBDbGVhcnMgdGhlIHJlbmRlciBjYWNoZSBmb3IgYSB0ZW1wbGF0ZS4gSWZcblx0XHQgKiBubyB0ZW1wbGF0ZSBpcyBnaXZlbiwgY2xlYXJzIGFsbCByZW5kZXJcblx0XHQgKiBjYWNoZXMuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGVOYW1lXG5cdFx0ICovXG5cdFx0Y2xlYXJDYWNoZTogZnVuY3Rpb24odGVtcGxhdGVOYW1lKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRpZiAodHlwZW9mIHRlbXBsYXRlTmFtZSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0c2VsZi5yZW5kZXJDYWNoZSA9IHt9O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVsZXRlIHNlbGYucmVuZGVyQ2FjaGVbdGVtcGxhdGVOYW1lXTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCB0byBkaXNwbGF5IHRoZVxuXHRcdCAqIGNyZWF0ZSBpdGVtIHByb21wdCwgZ2l2ZW4gYSB1c2VyIGlucHV0LlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGlucHV0XG5cdFx0ICogQHJldHVybiB7Ym9vbGVhbn1cblx0XHQgKi9cblx0XHRjYW5DcmVhdGU6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRpZiAoIXNlbGYuc2V0dGluZ3MuY3JlYXRlKSByZXR1cm4gZmFsc2U7XG5cdFx0XHR2YXIgZmlsdGVyID0gc2VsZi5zZXR0aW5ncy5jcmVhdGVGaWx0ZXI7XG5cdFx0XHRyZXR1cm4gaW5wdXQubGVuZ3RoXG5cdFx0XHRcdCYmICh0eXBlb2YgZmlsdGVyICE9PSAnZnVuY3Rpb24nIHx8IGZpbHRlci5hcHBseShzZWxmLCBbaW5wdXRdKSlcblx0XHRcdFx0JiYgKHR5cGVvZiBmaWx0ZXIgIT09ICdzdHJpbmcnIHx8IG5ldyBSZWdFeHAoZmlsdGVyKS50ZXN0KGlucHV0KSlcblx0XHRcdFx0JiYgKCEoZmlsdGVyIGluc3RhbmNlb2YgUmVnRXhwKSB8fCBmaWx0ZXIudGVzdChpbnB1dCkpO1xuXHRcdH1cblxuXHR9KTtcblxuXG5cdFNlbGVjdGl6ZS5jb3VudCA9IDA7XG5cdFNlbGVjdGl6ZS5kZWZhdWx0cyA9IHtcblx0XHRvcHRpb25zOiBbXSxcblx0XHRvcHRncm91cHM6IFtdLFxuXG5cdFx0cGx1Z2luczogW10sXG5cdFx0ZGVsaW1pdGVyOiAnLCcsXG5cdFx0c3BsaXRPbjogbnVsbCwgLy8gcmVnZXhwIG9yIHN0cmluZyBmb3Igc3BsaXR0aW5nIHVwIHZhbHVlcyBmcm9tIGEgcGFzdGUgY29tbWFuZFxuXHRcdHBlcnNpc3Q6IHRydWUsXG5cdFx0ZGlhY3JpdGljczogdHJ1ZSxcblx0XHRjcmVhdGU6IGZhbHNlLFxuXHRcdGNyZWF0ZU9uQmx1cjogZmFsc2UsXG5cdFx0Y3JlYXRlRmlsdGVyOiBudWxsLFxuXHRcdGhpZ2hsaWdodDogdHJ1ZSxcblx0XHRvcGVuT25Gb2N1czogdHJ1ZSxcblx0XHRtYXhPcHRpb25zOiAxMDAwLFxuXHRcdG1heEl0ZW1zOiBudWxsLFxuXHRcdGhpZGVTZWxlY3RlZDogbnVsbCxcblx0XHRhZGRQcmVjZWRlbmNlOiBmYWxzZSxcblx0XHRzZWxlY3RPblRhYjogZmFsc2UsXG5cdFx0cHJlbG9hZDogZmFsc2UsXG5cdFx0YWxsb3dFbXB0eU9wdGlvbjogZmFsc2UsXG5cdFx0Y2xvc2VBZnRlclNlbGVjdDogZmFsc2UsXG5cblx0XHRzY3JvbGxEdXJhdGlvbjogNjAsXG5cdFx0bG9hZFRocm90dGxlOiAzMDAsXG5cdFx0bG9hZGluZ0NsYXNzOiAnbG9hZGluZycsXG5cblx0XHRkYXRhQXR0cjogJ2RhdGEtZGF0YScsXG5cdFx0b3B0Z3JvdXBGaWVsZDogJ29wdGdyb3VwJyxcblx0XHR2YWx1ZUZpZWxkOiAndmFsdWUnLFxuXHRcdGxhYmVsRmllbGQ6ICd0ZXh0Jyxcblx0XHRvcHRncm91cExhYmVsRmllbGQ6ICdsYWJlbCcsXG5cdFx0b3B0Z3JvdXBWYWx1ZUZpZWxkOiAndmFsdWUnLFxuXHRcdGxvY2tPcHRncm91cE9yZGVyOiBmYWxzZSxcblxuXHRcdHNvcnRGaWVsZDogJyRvcmRlcicsXG5cdFx0c2VhcmNoRmllbGQ6IFsndGV4dCddLFxuXHRcdHNlYXJjaENvbmp1bmN0aW9uOiAnYW5kJyxcblxuXHRcdG1vZGU6IG51bGwsXG5cdFx0d3JhcHBlckNsYXNzOiAnc2VsZWN0aXplLWNvbnRyb2wnLFxuXHRcdGlucHV0Q2xhc3M6ICdzZWxlY3RpemUtaW5wdXQnLFxuXHRcdGRyb3Bkb3duQ2xhc3M6ICdzZWxlY3RpemUtZHJvcGRvd24nLFxuXHRcdGRyb3Bkb3duQ29udGVudENsYXNzOiAnc2VsZWN0aXplLWRyb3Bkb3duLWNvbnRlbnQnLFxuXG5cdFx0ZHJvcGRvd25QYXJlbnQ6IG51bGwsXG5cblx0XHRjb3B5Q2xhc3Nlc1RvRHJvcGRvd246IHRydWUsXG5cblx0XHQvKlxuXHRcdGxvYWQgICAgICAgICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24ocXVlcnksIGNhbGxiYWNrKSB7IC4uLiB9XG5cdFx0c2NvcmUgICAgICAgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbihzZWFyY2gpIHsgLi4uIH1cblx0XHRvbkluaXRpYWxpemUgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKCkgeyAuLi4gfVxuXHRcdG9uQ2hhbmdlICAgICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24odmFsdWUpIHsgLi4uIH1cblx0XHRvbkl0ZW1BZGQgICAgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHZhbHVlLCAkaXRlbSkgeyAuLi4gfVxuXHRcdG9uSXRlbVJlbW92ZSAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24odmFsdWUpIHsgLi4uIH1cblx0XHRvbkNsZWFyICAgICAgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKCkgeyAuLi4gfVxuXHRcdG9uT3B0aW9uQWRkICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24odmFsdWUsIGRhdGEpIHsgLi4uIH1cblx0XHRvbk9wdGlvblJlbW92ZSAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHZhbHVlKSB7IC4uLiB9XG5cdFx0b25PcHRpb25DbGVhciAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbigpIHsgLi4uIH1cblx0XHRvbk9wdGlvbkdyb3VwQWRkICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKGlkLCBkYXRhKSB7IC4uLiB9XG5cdFx0b25PcHRpb25Hcm91cFJlbW92ZSAgOiBudWxsLCAvLyBmdW5jdGlvbihpZCkgeyAuLi4gfVxuXHRcdG9uT3B0aW9uR3JvdXBDbGVhciAgIDogbnVsbCwgLy8gZnVuY3Rpb24oKSB7IC4uLiB9XG5cdFx0b25Ecm9wZG93bk9wZW4gICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbigkZHJvcGRvd24pIHsgLi4uIH1cblx0XHRvbkRyb3Bkb3duQ2xvc2UgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKCRkcm9wZG93bikgeyAuLi4gfVxuXHRcdG9uVHlwZSAgICAgICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24oc3RyKSB7IC4uLiB9XG5cdFx0b25EZWxldGUgICAgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbih2YWx1ZXMpIHsgLi4uIH1cblx0XHQqL1xuXG5cdFx0cmVuZGVyOiB7XG5cdFx0XHQvKlxuXHRcdFx0aXRlbTogbnVsbCxcblx0XHRcdG9wdGdyb3VwOiBudWxsLFxuXHRcdFx0b3B0Z3JvdXBfaGVhZGVyOiBudWxsLFxuXHRcdFx0b3B0aW9uOiBudWxsLFxuXHRcdFx0b3B0aW9uX2NyZWF0ZTogbnVsbFxuXHRcdFx0Ki9cblx0XHR9XG5cdH07XG5cblxuXHQkLmZuLnNlbGVjdGl6ZSA9IGZ1bmN0aW9uKHNldHRpbmdzX3VzZXIpIHtcblx0XHR2YXIgZGVmYXVsdHMgICAgICAgICAgICAgPSAkLmZuLnNlbGVjdGl6ZS5kZWZhdWx0cztcblx0XHR2YXIgc2V0dGluZ3MgICAgICAgICAgICAgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIHNldHRpbmdzX3VzZXIpO1xuXHRcdHZhciBhdHRyX2RhdGEgICAgICAgICAgICA9IHNldHRpbmdzLmRhdGFBdHRyO1xuXHRcdHZhciBmaWVsZF9sYWJlbCAgICAgICAgICA9IHNldHRpbmdzLmxhYmVsRmllbGQ7XG5cdFx0dmFyIGZpZWxkX3ZhbHVlICAgICAgICAgID0gc2V0dGluZ3MudmFsdWVGaWVsZDtcblx0XHR2YXIgZmllbGRfb3B0Z3JvdXAgICAgICAgPSBzZXR0aW5ncy5vcHRncm91cEZpZWxkO1xuXHRcdHZhciBmaWVsZF9vcHRncm91cF9sYWJlbCA9IHNldHRpbmdzLm9wdGdyb3VwTGFiZWxGaWVsZDtcblx0XHR2YXIgZmllbGRfb3B0Z3JvdXBfdmFsdWUgPSBzZXR0aW5ncy5vcHRncm91cFZhbHVlRmllbGQ7XG5cblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplcyBzZWxlY3RpemUgZnJvbSBhIDxpbnB1dCB0eXBlPVwidGV4dFwiPiBlbGVtZW50LlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9ICRpbnB1dFxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5nc19lbGVtZW50XG5cdFx0ICovXG5cdFx0dmFyIGluaXRfdGV4dGJveCA9IGZ1bmN0aW9uKCRpbnB1dCwgc2V0dGluZ3NfZWxlbWVudCkge1xuXHRcdFx0dmFyIGksIG4sIHZhbHVlcywgb3B0aW9uO1xuXG5cdFx0XHR2YXIgZGF0YV9yYXcgPSAkaW5wdXQuYXR0cihhdHRyX2RhdGEpO1xuXG5cdFx0XHRpZiAoIWRhdGFfcmF3KSB7XG5cdFx0XHRcdHZhciB2YWx1ZSA9ICQudHJpbSgkaW5wdXQudmFsKCkgfHwgJycpO1xuXHRcdFx0XHRpZiAoIXNldHRpbmdzLmFsbG93RW1wdHlPcHRpb24gJiYgIXZhbHVlLmxlbmd0aCkgcmV0dXJuO1xuXHRcdFx0XHR2YWx1ZXMgPSB2YWx1ZS5zcGxpdChzZXR0aW5ncy5kZWxpbWl0ZXIpO1xuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gdmFsdWVzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRcdG9wdGlvbiA9IHt9O1xuXHRcdFx0XHRcdG9wdGlvbltmaWVsZF9sYWJlbF0gPSB2YWx1ZXNbaV07XG5cdFx0XHRcdFx0b3B0aW9uW2ZpZWxkX3ZhbHVlXSA9IHZhbHVlc1tpXTtcblx0XHRcdFx0XHRzZXR0aW5nc19lbGVtZW50Lm9wdGlvbnMucHVzaChvcHRpb24pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNldHRpbmdzX2VsZW1lbnQuaXRlbXMgPSB2YWx1ZXM7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZXR0aW5nc19lbGVtZW50Lm9wdGlvbnMgPSBKU09OLnBhcnNlKGRhdGFfcmF3KTtcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IHNldHRpbmdzX2VsZW1lbnQub3B0aW9ucy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0XHRzZXR0aW5nc19lbGVtZW50Lml0ZW1zLnB1c2goc2V0dGluZ3NfZWxlbWVudC5vcHRpb25zW2ldW2ZpZWxkX3ZhbHVlXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZXMgc2VsZWN0aXplIGZyb20gYSA8c2VsZWN0PiBlbGVtZW50LlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9ICRpbnB1dFxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5nc19lbGVtZW50XG5cdFx0ICovXG5cdFx0dmFyIGluaXRfc2VsZWN0ID0gZnVuY3Rpb24oJGlucHV0LCBzZXR0aW5nc19lbGVtZW50KSB7XG5cdFx0XHR2YXIgaSwgbiwgdGFnTmFtZSwgJGNoaWxkcmVuLCBvcmRlciA9IDA7XG5cdFx0XHR2YXIgb3B0aW9ucyA9IHNldHRpbmdzX2VsZW1lbnQub3B0aW9ucztcblx0XHRcdHZhciBvcHRpb25zTWFwID0ge307XG5cblx0XHRcdHZhciByZWFkRGF0YSA9IGZ1bmN0aW9uKCRlbCkge1xuXHRcdFx0XHR2YXIgZGF0YSA9IGF0dHJfZGF0YSAmJiAkZWwuYXR0cihhdHRyX2RhdGEpO1xuXHRcdFx0XHRpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEubGVuZ3RoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9O1xuXG5cdFx0XHR2YXIgYWRkT3B0aW9uID0gZnVuY3Rpb24oJG9wdGlvbiwgZ3JvdXApIHtcblx0XHRcdFx0JG9wdGlvbiA9ICQoJG9wdGlvbik7XG5cblx0XHRcdFx0dmFyIHZhbHVlID0gaGFzaF9rZXkoJG9wdGlvbi52YWwoKSk7XG5cdFx0XHRcdGlmICghdmFsdWUgJiYgIXNldHRpbmdzLmFsbG93RW1wdHlPcHRpb24pIHJldHVybjtcblxuXHRcdFx0XHQvLyBpZiB0aGUgb3B0aW9uIGFscmVhZHkgZXhpc3RzLCBpdCdzIHByb2JhYmx5IGJlZW5cblx0XHRcdFx0Ly8gZHVwbGljYXRlZCBpbiBhbm90aGVyIG9wdGdyb3VwLiBpbiB0aGlzIGNhc2UsIHB1c2hcblx0XHRcdFx0Ly8gdGhlIGN1cnJlbnQgZ3JvdXAgdG8gdGhlIFwib3B0Z3JvdXBcIiBwcm9wZXJ0eSBvbiB0aGVcblx0XHRcdFx0Ly8gZXhpc3Rpbmcgb3B0aW9uIHNvIHRoYXQgaXQncyByZW5kZXJlZCBpbiBib3RoIHBsYWNlcy5cblx0XHRcdFx0aWYgKG9wdGlvbnNNYXAuaGFzT3duUHJvcGVydHkodmFsdWUpKSB7XG5cdFx0XHRcdFx0aWYgKGdyb3VwKSB7XG5cdFx0XHRcdFx0XHR2YXIgYXJyID0gb3B0aW9uc01hcFt2YWx1ZV1bZmllbGRfb3B0Z3JvdXBdO1xuXHRcdFx0XHRcdFx0aWYgKCFhcnIpIHtcblx0XHRcdFx0XHRcdFx0b3B0aW9uc01hcFt2YWx1ZV1bZmllbGRfb3B0Z3JvdXBdID0gZ3JvdXA7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCEkLmlzQXJyYXkoYXJyKSkge1xuXHRcdFx0XHRcdFx0XHRvcHRpb25zTWFwW3ZhbHVlXVtmaWVsZF9vcHRncm91cF0gPSBbYXJyLCBncm91cF07XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRhcnIucHVzaChncm91cCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBvcHRpb24gICAgICAgICAgICAgPSByZWFkRGF0YSgkb3B0aW9uKSB8fCB7fTtcblx0XHRcdFx0b3B0aW9uW2ZpZWxkX2xhYmVsXSAgICA9IG9wdGlvbltmaWVsZF9sYWJlbF0gfHwgJG9wdGlvbi50ZXh0KCk7XG5cdFx0XHRcdG9wdGlvbltmaWVsZF92YWx1ZV0gICAgPSBvcHRpb25bZmllbGRfdmFsdWVdIHx8IHZhbHVlO1xuXHRcdFx0XHRvcHRpb25bZmllbGRfb3B0Z3JvdXBdID0gb3B0aW9uW2ZpZWxkX29wdGdyb3VwXSB8fCBncm91cDtcblxuXHRcdFx0XHRvcHRpb25zTWFwW3ZhbHVlXSA9IG9wdGlvbjtcblx0XHRcdFx0b3B0aW9ucy5wdXNoKG9wdGlvbik7XG5cblx0XHRcdFx0aWYgKCRvcHRpb24uaXMoJzpzZWxlY3RlZCcpKSB7XG5cdFx0XHRcdFx0c2V0dGluZ3NfZWxlbWVudC5pdGVtcy5wdXNoKHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0dmFyIGFkZEdyb3VwID0gZnVuY3Rpb24oJG9wdGdyb3VwKSB7XG5cdFx0XHRcdHZhciBpLCBuLCBpZCwgb3B0Z3JvdXAsICRvcHRpb25zO1xuXG5cdFx0XHRcdCRvcHRncm91cCA9ICQoJG9wdGdyb3VwKTtcblx0XHRcdFx0aWQgPSAkb3B0Z3JvdXAuYXR0cignbGFiZWwnKTtcblxuXHRcdFx0XHRpZiAoaWQpIHtcblx0XHRcdFx0XHRvcHRncm91cCA9IHJlYWREYXRhKCRvcHRncm91cCkgfHwge307XG5cdFx0XHRcdFx0b3B0Z3JvdXBbZmllbGRfb3B0Z3JvdXBfbGFiZWxdID0gaWQ7XG5cdFx0XHRcdFx0b3B0Z3JvdXBbZmllbGRfb3B0Z3JvdXBfdmFsdWVdID0gaWQ7XG5cdFx0XHRcdFx0c2V0dGluZ3NfZWxlbWVudC5vcHRncm91cHMucHVzaChvcHRncm91cCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQkb3B0aW9ucyA9ICQoJ29wdGlvbicsICRvcHRncm91cCk7XG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSAkb3B0aW9ucy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0XHRhZGRPcHRpb24oJG9wdGlvbnNbaV0sIGlkKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0c2V0dGluZ3NfZWxlbWVudC5tYXhJdGVtcyA9ICRpbnB1dC5hdHRyKCdtdWx0aXBsZScpID8gbnVsbCA6IDE7XG5cblx0XHRcdCRjaGlsZHJlbiA9ICRpbnB1dC5jaGlsZHJlbigpO1xuXHRcdFx0Zm9yIChpID0gMCwgbiA9ICRjaGlsZHJlbi5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0dGFnTmFtZSA9ICRjaGlsZHJlbltpXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdGlmICh0YWdOYW1lID09PSAnb3B0Z3JvdXAnKSB7XG5cdFx0XHRcdFx0YWRkR3JvdXAoJGNoaWxkcmVuW2ldKTtcblx0XHRcdFx0fSBlbHNlIGlmICh0YWdOYW1lID09PSAnb3B0aW9uJykge1xuXHRcdFx0XHRcdGFkZE9wdGlvbigkY2hpbGRyZW5baV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAodGhpcy5zZWxlY3RpemUpIHJldHVybjtcblxuXHRcdFx0dmFyIGluc3RhbmNlO1xuXHRcdFx0dmFyICRpbnB1dCA9ICQodGhpcyk7XG5cdFx0XHR2YXIgdGFnX25hbWUgPSB0aGlzLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHZhciBwbGFjZWhvbGRlciA9ICRpbnB1dC5hdHRyKCdwbGFjZWhvbGRlcicpIHx8ICRpbnB1dC5hdHRyKCdkYXRhLXBsYWNlaG9sZGVyJyk7XG5cdFx0XHRpZiAoIXBsYWNlaG9sZGVyICYmICFzZXR0aW5ncy5hbGxvd0VtcHR5T3B0aW9uKSB7XG5cdFx0XHRcdHBsYWNlaG9sZGVyID0gJGlucHV0LmNoaWxkcmVuKCdvcHRpb25bdmFsdWU9XCJcIl0nKS50ZXh0KCk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzZXR0aW5nc19lbGVtZW50ID0ge1xuXHRcdFx0XHQncGxhY2Vob2xkZXInIDogcGxhY2Vob2xkZXIsXG5cdFx0XHRcdCdvcHRpb25zJyAgICAgOiBbXSxcblx0XHRcdFx0J29wdGdyb3VwcycgICA6IFtdLFxuXHRcdFx0XHQnaXRlbXMnICAgICAgIDogW11cblx0XHRcdH07XG5cblx0XHRcdGlmICh0YWdfbmFtZSA9PT0gJ3NlbGVjdCcpIHtcblx0XHRcdFx0aW5pdF9zZWxlY3QoJGlucHV0LCBzZXR0aW5nc19lbGVtZW50KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGluaXRfdGV4dGJveCgkaW5wdXQsIHNldHRpbmdzX2VsZW1lbnQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpbnN0YW5jZSA9IG5ldyBTZWxlY3RpemUoJGlucHV0LCAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdHMsIHNldHRpbmdzX2VsZW1lbnQsIHNldHRpbmdzX3VzZXIpKTtcblx0XHR9KTtcblx0fTtcblxuXHQkLmZuLnNlbGVjdGl6ZS5kZWZhdWx0cyA9IFNlbGVjdGl6ZS5kZWZhdWx0cztcblx0JC5mbi5zZWxlY3RpemUuc3VwcG9ydCA9IHtcblx0XHR2YWxpZGl0eTogU1VQUE9SVFNfVkFMSURJVFlfQVBJXG5cdH07XG5cblxuXHRTZWxlY3RpemUuZGVmaW5lKCdkcmFnX2Ryb3AnLCBmdW5jdGlvbihvcHRpb25zKSB7XG5cdFx0aWYgKCEkLmZuLnNvcnRhYmxlKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcImRyYWdfZHJvcFwiIHBsdWdpbiByZXF1aXJlcyBqUXVlcnkgVUkgXCJzb3J0YWJsZVwiLicpO1xuXHRcdGlmICh0aGlzLnNldHRpbmdzLm1vZGUgIT09ICdtdWx0aScpIHJldHVybjtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRzZWxmLmxvY2sgPSAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLmxvY2s7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBzb3J0YWJsZSA9IHNlbGYuJGNvbnRyb2wuZGF0YSgnc29ydGFibGUnKTtcblx0XHRcdFx0aWYgKHNvcnRhYmxlKSBzb3J0YWJsZS5kaXNhYmxlKCk7XG5cdFx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuXHRcdFx0fTtcblx0XHR9KSgpO1xuXG5cdFx0c2VsZi51bmxvY2sgPSAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLnVubG9jaztcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHNvcnRhYmxlID0gc2VsZi4kY29udHJvbC5kYXRhKCdzb3J0YWJsZScpO1xuXHRcdFx0XHRpZiAoc29ydGFibGUpIHNvcnRhYmxlLmVuYWJsZSgpO1xuXHRcdFx0XHRyZXR1cm4gb3JpZ2luYWwuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcblx0XHRcdH07XG5cdFx0fSkoKTtcblxuXHRcdHNlbGYuc2V0dXAgPSAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLnNldHVwO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG5cdFx0XHRcdHZhciAkY29udHJvbCA9IHNlbGYuJGNvbnRyb2wuc29ydGFibGUoe1xuXHRcdFx0XHRcdGl0ZW1zOiAnW2RhdGEtdmFsdWVdJyxcblx0XHRcdFx0XHRmb3JjZVBsYWNlaG9sZGVyU2l6ZTogdHJ1ZSxcblx0XHRcdFx0XHRkaXNhYmxlZDogc2VsZi5pc0xvY2tlZCxcblx0XHRcdFx0XHRzdGFydDogZnVuY3Rpb24oZSwgdWkpIHtcblx0XHRcdFx0XHRcdHVpLnBsYWNlaG9sZGVyLmNzcygnd2lkdGgnLCB1aS5oZWxwZXIuY3NzKCd3aWR0aCcpKTtcblx0XHRcdFx0XHRcdCRjb250cm9sLmNzcyh7b3ZlcmZsb3c6ICd2aXNpYmxlJ30pO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3RvcDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHQkY29udHJvbC5jc3Moe292ZXJmbG93OiAnaGlkZGVuJ30pO1xuXHRcdFx0XHRcdFx0dmFyIGFjdGl2ZSA9IHNlbGYuJGFjdGl2ZUl0ZW1zID8gc2VsZi4kYWN0aXZlSXRlbXMuc2xpY2UoKSA6IG51bGw7XG5cdFx0XHRcdFx0XHR2YXIgdmFsdWVzID0gW107XG5cdFx0XHRcdFx0XHQkY29udHJvbC5jaGlsZHJlbignW2RhdGEtdmFsdWVdJykuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dmFsdWVzLnB1c2goJCh0aGlzKS5hdHRyKCdkYXRhLXZhbHVlJykpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRzZWxmLnNldFZhbHVlKHZhbHVlcyk7XG5cdFx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0oYWN0aXZlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fTtcblx0XHR9KSgpO1xuXG5cdH0pO1xuXG5cdFNlbGVjdGl6ZS5kZWZpbmUoJ2Ryb3Bkb3duX2hlYWRlcicsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRvcHRpb25zID0gJC5leHRlbmQoe1xuXHRcdFx0dGl0bGUgICAgICAgICA6ICdVbnRpdGxlZCcsXG5cdFx0XHRoZWFkZXJDbGFzcyAgIDogJ3NlbGVjdGl6ZS1kcm9wZG93bi1oZWFkZXInLFxuXHRcdFx0dGl0bGVSb3dDbGFzcyA6ICdzZWxlY3RpemUtZHJvcGRvd24taGVhZGVyLXRpdGxlJyxcblx0XHRcdGxhYmVsQ2xhc3MgICAgOiAnc2VsZWN0aXplLWRyb3Bkb3duLWhlYWRlci1sYWJlbCcsXG5cdFx0XHRjbG9zZUNsYXNzICAgIDogJ3NlbGVjdGl6ZS1kcm9wZG93bi1oZWFkZXItY2xvc2UnLFxuXG5cdFx0XHRodG1sOiBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCInICsgZGF0YS5oZWFkZXJDbGFzcyArICdcIj4nICtcblx0XHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwiJyArIGRhdGEudGl0bGVSb3dDbGFzcyArICdcIj4nICtcblx0XHRcdFx0XHRcdFx0JzxzcGFuIGNsYXNzPVwiJyArIGRhdGEubGFiZWxDbGFzcyArICdcIj4nICsgZGF0YS50aXRsZSArICc8L3NwYW4+JyArXG5cdFx0XHRcdFx0XHRcdCc8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgY2xhc3M9XCInICsgZGF0YS5jbG9zZUNsYXNzICsgJ1wiPiZ0aW1lczs8L2E+JyArXG5cdFx0XHRcdFx0XHQnPC9kaXY+JyArXG5cdFx0XHRcdFx0JzwvZGl2Pidcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9LCBvcHRpb25zKTtcblxuXHRcdHNlbGYuc2V0dXAgPSAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLnNldHVwO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuXHRcdFx0XHRzZWxmLiRkcm9wZG93bl9oZWFkZXIgPSAkKG9wdGlvbnMuaHRtbChvcHRpb25zKSk7XG5cdFx0XHRcdHNlbGYuJGRyb3Bkb3duLnByZXBlbmQoc2VsZi4kZHJvcGRvd25faGVhZGVyKTtcblx0XHRcdH07XG5cdFx0fSkoKTtcblxuXHR9KTtcblxuXHRTZWxlY3RpemUuZGVmaW5lKCdvcHRncm91cF9jb2x1bW5zJywgZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdG9wdGlvbnMgPSAkLmV4dGVuZCh7XG5cdFx0XHRlcXVhbGl6ZVdpZHRoICA6IHRydWUsXG5cdFx0XHRlcXVhbGl6ZUhlaWdodCA6IHRydWVcblx0XHR9LCBvcHRpb25zKTtcblxuXHRcdHRoaXMuZ2V0QWRqYWNlbnRPcHRpb24gPSBmdW5jdGlvbigkb3B0aW9uLCBkaXJlY3Rpb24pIHtcblx0XHRcdHZhciAkb3B0aW9ucyA9ICRvcHRpb24uY2xvc2VzdCgnW2RhdGEtZ3JvdXBdJykuZmluZCgnW2RhdGEtc2VsZWN0YWJsZV0nKTtcblx0XHRcdHZhciBpbmRleCAgICA9ICRvcHRpb25zLmluZGV4KCRvcHRpb24pICsgZGlyZWN0aW9uO1xuXG5cdFx0XHRyZXR1cm4gaW5kZXggPj0gMCAmJiBpbmRleCA8ICRvcHRpb25zLmxlbmd0aCA/ICRvcHRpb25zLmVxKGluZGV4KSA6ICQoKTtcblx0XHR9O1xuXG5cdFx0dGhpcy5vbktleURvd24gPSAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLm9uS2V5RG93bjtcblx0XHRcdHJldHVybiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdHZhciBpbmRleCwgJG9wdGlvbiwgJG9wdGlvbnMsICRvcHRncm91cDtcblxuXHRcdFx0XHRpZiAodGhpcy5pc09wZW4gJiYgKGUua2V5Q29kZSA9PT0gS0VZX0xFRlQgfHwgZS5rZXlDb2RlID09PSBLRVlfUklHSFQpKSB7XG5cdFx0XHRcdFx0c2VsZi5pZ25vcmVIb3ZlciA9IHRydWU7XG5cdFx0XHRcdFx0JG9wdGdyb3VwID0gdGhpcy4kYWN0aXZlT3B0aW9uLmNsb3Nlc3QoJ1tkYXRhLWdyb3VwXScpO1xuXHRcdFx0XHRcdGluZGV4ID0gJG9wdGdyb3VwLmZpbmQoJ1tkYXRhLXNlbGVjdGFibGVdJykuaW5kZXgodGhpcy4kYWN0aXZlT3B0aW9uKTtcblxuXHRcdFx0XHRcdGlmKGUua2V5Q29kZSA9PT0gS0VZX0xFRlQpIHtcblx0XHRcdFx0XHRcdCRvcHRncm91cCA9ICRvcHRncm91cC5wcmV2KCdbZGF0YS1ncm91cF0nKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0JG9wdGdyb3VwID0gJG9wdGdyb3VwLm5leHQoJ1tkYXRhLWdyb3VwXScpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdCRvcHRpb25zID0gJG9wdGdyb3VwLmZpbmQoJ1tkYXRhLXNlbGVjdGFibGVdJyk7XG5cdFx0XHRcdFx0JG9wdGlvbiAgPSAkb3B0aW9ucy5lcShNYXRoLm1pbigkb3B0aW9ucy5sZW5ndGggLSAxLCBpbmRleCkpO1xuXHRcdFx0XHRcdGlmICgkb3B0aW9uLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXRBY3RpdmVPcHRpb24oJG9wdGlvbik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0fTtcblx0XHR9KSgpO1xuXG5cdFx0dmFyIGdldFNjcm9sbGJhcldpZHRoID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZGl2O1xuXHRcdFx0dmFyIHdpZHRoID0gZ2V0U2Nyb2xsYmFyV2lkdGgud2lkdGg7XG5cdFx0XHR2YXIgZG9jID0gZG9jdW1lbnQ7XG5cblx0XHRcdGlmICh0eXBlb2Ygd2lkdGggPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdGRpdiA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9ICc8ZGl2IHN0eWxlPVwid2lkdGg6NTBweDtoZWlnaHQ6NTBweDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi01MHB4O3RvcDotNTBweDtvdmVyZmxvdzphdXRvO1wiPjxkaXYgc3R5bGU9XCJ3aWR0aDoxcHg7aGVpZ2h0OjEwMHB4O1wiPjwvZGl2PjwvZGl2Pic7XG5cdFx0XHRcdGRpdiA9IGRpdi5maXJzdENoaWxkO1xuXHRcdFx0XHRkb2MuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuXHRcdFx0XHR3aWR0aCA9IGdldFNjcm9sbGJhcldpZHRoLndpZHRoID0gZGl2Lm9mZnNldFdpZHRoIC0gZGl2LmNsaWVudFdpZHRoO1xuXHRcdFx0XHRkb2MuYm9keS5yZW1vdmVDaGlsZChkaXYpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHdpZHRoO1xuXHRcdH07XG5cblx0XHR2YXIgZXF1YWxpemVTaXplcyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGksIG4sIGhlaWdodF9tYXgsIHdpZHRoLCB3aWR0aF9sYXN0LCB3aWR0aF9wYXJlbnQsICRvcHRncm91cHM7XG5cblx0XHRcdCRvcHRncm91cHMgPSAkKCdbZGF0YS1ncm91cF0nLCBzZWxmLiRkcm9wZG93bl9jb250ZW50KTtcblx0XHRcdG4gPSAkb3B0Z3JvdXBzLmxlbmd0aDtcblx0XHRcdGlmICghbiB8fCAhc2VsZi4kZHJvcGRvd25fY29udGVudC53aWR0aCgpKSByZXR1cm47XG5cblx0XHRcdGlmIChvcHRpb25zLmVxdWFsaXplSGVpZ2h0KSB7XG5cdFx0XHRcdGhlaWdodF9tYXggPSAwO1xuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0aGVpZ2h0X21heCA9IE1hdGgubWF4KGhlaWdodF9tYXgsICRvcHRncm91cHMuZXEoaSkuaGVpZ2h0KCkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCRvcHRncm91cHMuY3NzKHtoZWlnaHQ6IGhlaWdodF9tYXh9KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG9wdGlvbnMuZXF1YWxpemVXaWR0aCkge1xuXHRcdFx0XHR3aWR0aF9wYXJlbnQgPSBzZWxmLiRkcm9wZG93bl9jb250ZW50LmlubmVyV2lkdGgoKSAtIGdldFNjcm9sbGJhcldpZHRoKCk7XG5cdFx0XHRcdHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aF9wYXJlbnQgLyBuKTtcblx0XHRcdFx0JG9wdGdyb3Vwcy5jc3Moe3dpZHRoOiB3aWR0aH0pO1xuXHRcdFx0XHRpZiAobiA+IDEpIHtcblx0XHRcdFx0XHR3aWR0aF9sYXN0ID0gd2lkdGhfcGFyZW50IC0gd2lkdGggKiAobiAtIDEpO1xuXHRcdFx0XHRcdCRvcHRncm91cHMuZXEobiAtIDEpLmNzcyh7d2lkdGg6IHdpZHRoX2xhc3R9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRpZiAob3B0aW9ucy5lcXVhbGl6ZUhlaWdodCB8fCBvcHRpb25zLmVxdWFsaXplV2lkdGgpIHtcblx0XHRcdGhvb2suYWZ0ZXIodGhpcywgJ3Bvc2l0aW9uRHJvcGRvd24nLCBlcXVhbGl6ZVNpemVzKTtcblx0XHRcdGhvb2suYWZ0ZXIodGhpcywgJ3JlZnJlc2hPcHRpb25zJywgZXF1YWxpemVTaXplcyk7XG5cdFx0fVxuXG5cblx0fSk7XG5cblx0U2VsZWN0aXplLmRlZmluZSgncmVtb3ZlX2J1dHRvbicsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0XHRvcHRpb25zID0gJC5leHRlbmQoe1xuXHRcdFx0XHRsYWJlbCAgICAgOiAnJnRpbWVzOycsXG5cdFx0XHRcdHRpdGxlICAgICA6ICdSZW1vdmUnLFxuXHRcdFx0XHRjbGFzc05hbWUgOiAncmVtb3ZlJyxcblx0XHRcdFx0YXBwZW5kICAgIDogdHJ1ZVxuXHRcdFx0fSwgb3B0aW9ucyk7XG5cblx0XHRcdHZhciBzaW5nbGVDbG9zZSA9IGZ1bmN0aW9uKHRoaXNSZWYsIG9wdGlvbnMpIHtcblxuXHRcdFx0XHRvcHRpb25zLmNsYXNzTmFtZSA9ICdyZW1vdmUtc2luZ2xlJztcblxuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXNSZWY7XG5cdFx0XHRcdHZhciBodG1sID0gJzxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBjbGFzcz1cIicgKyBvcHRpb25zLmNsYXNzTmFtZSArICdcIiB0YWJpbmRleD1cIi0xXCIgdGl0bGU9XCInICsgZXNjYXBlX2h0bWwob3B0aW9ucy50aXRsZSkgKyAnXCI+JyArIG9wdGlvbnMubGFiZWwgKyAnPC9hPic7XG5cblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqIEFwcGVuZHMgYW4gZWxlbWVudCBhcyBhIGNoaWxkICh3aXRoIHJhdyBIVE1MKS5cblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxfY29udGFpbmVyXG5cdFx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sX2VsZW1lbnRcblx0XHRcdFx0ICogQHJldHVybiB7c3RyaW5nfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0dmFyIGFwcGVuZCA9IGZ1bmN0aW9uKGh0bWxfY29udGFpbmVyLCBodG1sX2VsZW1lbnQpIHtcblx0XHRcdFx0XHRyZXR1cm4gaHRtbF9jb250YWluZXIgKyBodG1sX2VsZW1lbnQ7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0dGhpc1JlZi5zZXR1cCA9IChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLnNldHVwO1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdC8vIG92ZXJyaWRlIHRoZSBpdGVtIHJlbmRlcmluZyBtZXRob2QgdG8gYWRkIHRoZSBidXR0b24gdG8gZWFjaFxuXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMuYXBwZW5kKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBpZCA9ICQoc2VsZi4kaW5wdXQuY29udGV4dCkuYXR0cignaWQnKTtcblx0XHRcdFx0XHRcdFx0dmFyIHNlbGVjdGl6ZXIgPSAkKCcjJytpZCk7XG5cblx0XHRcdFx0XHRcdFx0dmFyIHJlbmRlcl9pdGVtID0gc2VsZi5zZXR0aW5ncy5yZW5kZXIuaXRlbTtcblx0XHRcdFx0XHRcdFx0c2VsZi5zZXR0aW5ncy5yZW5kZXIuaXRlbSA9IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gYXBwZW5kKHJlbmRlcl9pdGVtLmFwcGx5KHRoaXNSZWYsIGFyZ3VtZW50cyksIGh0bWwpO1xuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRvcmlnaW5hbC5hcHBseSh0aGlzUmVmLCBhcmd1bWVudHMpO1xuXG5cdFx0XHRcdFx0XHQvLyBhZGQgZXZlbnQgbGlzdGVuZXJcblx0XHRcdFx0XHRcdHRoaXNSZWYuJGNvbnRyb2wub24oJ2NsaWNrJywgJy4nICsgb3B0aW9ucy5jbGFzc05hbWUsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRpZiAoc2VsZi5pc0xvY2tlZCkgcmV0dXJuO1xuXG5cdFx0XHRcdFx0XHRcdHNlbGYuY2xlYXIoKTtcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSkoKTtcblx0XHRcdH07XG5cblx0XHRcdHZhciBtdWx0aUNsb3NlID0gZnVuY3Rpb24odGhpc1JlZiwgb3B0aW9ucykge1xuXG5cdFx0XHRcdHZhciBzZWxmID0gdGhpc1JlZjtcblx0XHRcdFx0dmFyIGh0bWwgPSAnPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGNsYXNzPVwiJyArIG9wdGlvbnMuY2xhc3NOYW1lICsgJ1wiIHRhYmluZGV4PVwiLTFcIiB0aXRsZT1cIicgKyBlc2NhcGVfaHRtbChvcHRpb25zLnRpdGxlKSArICdcIj4nICsgb3B0aW9ucy5sYWJlbCArICc8L2E+JztcblxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICogQXBwZW5kcyBhbiBlbGVtZW50IGFzIGEgY2hpbGQgKHdpdGggcmF3IEhUTUwpLlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbF9jb250YWluZXJcblx0XHRcdFx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxfZWxlbWVudFxuXHRcdFx0XHQgKiBAcmV0dXJuIHtzdHJpbmd9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHR2YXIgYXBwZW5kID0gZnVuY3Rpb24oaHRtbF9jb250YWluZXIsIGh0bWxfZWxlbWVudCkge1xuXHRcdFx0XHRcdHZhciBwb3MgPSBodG1sX2NvbnRhaW5lci5zZWFyY2goLyg8XFwvW14+XSs+XFxzKikkLyk7XG5cdFx0XHRcdFx0cmV0dXJuIGh0bWxfY29udGFpbmVyLnN1YnN0cmluZygwLCBwb3MpICsgaHRtbF9lbGVtZW50ICsgaHRtbF9jb250YWluZXIuc3Vic3RyaW5nKHBvcyk7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0dGhpc1JlZi5zZXR1cCA9IChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLnNldHVwO1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdC8vIG92ZXJyaWRlIHRoZSBpdGVtIHJlbmRlcmluZyBtZXRob2QgdG8gYWRkIHRoZSBidXR0b24gdG8gZWFjaFxuXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMuYXBwZW5kKSB7XG5cdFx0XHRcdFx0XHRcdHZhciByZW5kZXJfaXRlbSA9IHNlbGYuc2V0dGluZ3MucmVuZGVyLml0ZW07XG5cdFx0XHRcdFx0XHRcdHNlbGYuc2V0dGluZ3MucmVuZGVyLml0ZW0gPSBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGFwcGVuZChyZW5kZXJfaXRlbS5hcHBseSh0aGlzUmVmLCBhcmd1bWVudHMpLCBodG1sKTtcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0b3JpZ2luYWwuYXBwbHkodGhpc1JlZiwgYXJndW1lbnRzKTtcblxuXHRcdFx0XHRcdFx0Ly8gYWRkIGV2ZW50IGxpc3RlbmVyXG5cdFx0XHRcdFx0XHR0aGlzUmVmLiRjb250cm9sLm9uKCdjbGljaycsICcuJyArIG9wdGlvbnMuY2xhc3NOYW1lLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0aWYgKHNlbGYuaXNMb2NrZWQpIHJldHVybjtcblxuXHRcdFx0XHRcdFx0XHR2YXIgJGl0ZW0gPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50KCk7XG5cdFx0XHRcdFx0XHRcdHNlbGYuc2V0QWN0aXZlSXRlbSgkaXRlbSk7XG5cdFx0XHRcdFx0XHRcdGlmIChzZWxmLmRlbGV0ZVNlbGVjdGlvbigpKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2VsZi5zZXRDYXJldChzZWxmLml0ZW1zLmxlbmd0aCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSkoKTtcblx0XHRcdH07XG5cblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnKSB7XG5cdFx0XHRcdHNpbmdsZUNsb3NlKHRoaXMsIG9wdGlvbnMpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRtdWx0aUNsb3NlKHRoaXMsIG9wdGlvbnMpO1xuXHRcdFx0fVxuXHR9KTtcblxuXG5cdFNlbGVjdGl6ZS5kZWZpbmUoJ3Jlc3RvcmVfb25fYmFja3NwYWNlJywgZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdG9wdGlvbnMudGV4dCA9IG9wdGlvbnMudGV4dCB8fCBmdW5jdGlvbihvcHRpb24pIHtcblx0XHRcdHJldHVybiBvcHRpb25bdGhpcy5zZXR0aW5ncy5sYWJlbEZpZWxkXTtcblx0XHR9O1xuXG5cdFx0dGhpcy5vbktleURvd24gPSAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLm9uS2V5RG93bjtcblx0XHRcdHJldHVybiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdHZhciBpbmRleCwgb3B0aW9uO1xuXHRcdFx0XHRpZiAoZS5rZXlDb2RlID09PSBLRVlfQkFDS1NQQUNFICYmIHRoaXMuJGNvbnRyb2xfaW5wdXQudmFsKCkgPT09ICcnICYmICF0aGlzLiRhY3RpdmVJdGVtcy5sZW5ndGgpIHtcblx0XHRcdFx0XHRpbmRleCA9IHRoaXMuY2FyZXRQb3MgLSAxO1xuXHRcdFx0XHRcdGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5pdGVtcy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdG9wdGlvbiA9IHRoaXMub3B0aW9uc1t0aGlzLml0ZW1zW2luZGV4XV07XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5kZWxldGVTZWxlY3Rpb24oZSkpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5zZXRUZXh0Ym94VmFsdWUob3B0aW9ucy50ZXh0LmFwcGx5KHRoaXMsIFtvcHRpb25dKSk7XG5cdFx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaE9wdGlvbnModHJ1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0fTtcblx0XHR9KSgpO1xuXHR9KTtcblxuXG5cdHJldHVybiBTZWxlY3RpemU7XG59KSk7XG4iLCIvKlxuICogQ29sbGFwc2UgcGx1Z2luIGZvciBqUXVlcnlcbiAqIC0tXG4gKiBzb3VyY2U6IGh0dHA6Ly9naXRodWIuY29tL2RhbmllbHN0b2Nrcy9qUXVlcnktQ29sbGFwc2UvXG4gKiBzaXRlOiBodHRwOi8vd2ViY2xvdWQuc2UvalF1ZXJ5LUNvbGxhcHNlXG4gKlxuICogQGF1dGhvciBEYW5pZWwgU3RvY2tzIChodHRwOi8vd2ViY2xvdWQuc2UpXG4gKiBDb3B5cmlnaHQgMjAxMywgRGFuaWVsIFN0b2Nrc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCwgQlNELCBhbmQgR1BMIExpY2Vuc2VzLlxuICovXG5cbihmdW5jdGlvbiAoJCwgZXhwb3J0cykge1xuXG5cdC8vIENvbnN0cnVjdG9yXG5cdGZ1bmN0aW9uIENvbGxhcHNlKGVsLCBvcHRpb25zKSB7XG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFx0dmFyIF90aGlzID0gdGhpcyxcblx0XHRcdHF1ZXJ5ID0gb3B0aW9ucy5xdWVyeSB8fCBcIj4gOmV2ZW5cIjtcblxuXHRcdCQuZXh0ZW5kKF90aGlzLCB7XG5cdFx0XHQkZWw6IGVsLFxuXHRcdFx0b3B0aW9uczogb3B0aW9ucyxcblx0XHRcdHNlY3Rpb25zOiBbXSxcblx0XHRcdGlzQWNjb3JkaW9uOiBvcHRpb25zLmFjY29yZGlvbiB8fCBmYWxzZSxcblx0XHRcdGRiOiBvcHRpb25zLnBlcnNpc3QgPyBqUXVlcnlDb2xsYXBzZVN0b3JhZ2UoZWwuZ2V0KDApLmlkKSA6IGZhbHNlXG5cdFx0fSk7XG5cblx0XHQvLyBGaWd1cmUgb3V0IHdoYXQgc2VjdGlvbnMgYXJlIG9wZW4gaWYgc3RvcmFnZSBpcyB1c2VkXG5cdFx0X3RoaXMuc3RhdGVzID0gX3RoaXMuZGIgPyBfdGhpcy5kYi5yZWFkKCkgOiBbXTtcblxuXHRcdC8vIEZvciBldmVyeSBwYWlyIG9mIGVsZW1lbnRzIGluIGdpdmVuXG5cdFx0Ly8gZWxlbWVudCwgY3JlYXRlIGEgc2VjdGlvblxuXHRcdF90aGlzLiRlbC5maW5kKHF1ZXJ5KS5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdG5ldyBqUXVlcnlDb2xsYXBzZVNlY3Rpb24oJCh0aGlzKSwgX3RoaXMpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gQ2FwdXRlIEFMTCB0aGUgY2xpY2tzIVxuXHRcdChmdW5jdGlvbiAoc2NvcGUpIHtcblx0XHRcdF90aGlzLiRlbC5vbihcImNsaWNrXCIsIFwiW2RhdGEtY29sbGFwc2Utc3VtbWFyeV0gXCIgKyAoc2NvcGUub3B0aW9ucy5jbGlja1F1ZXJ5IHx8IFwiXCIpLFxuXHRcdFx0XHQkLnByb3h5KF90aGlzLmhhbmRsZUNsaWNrLCBzY29wZSkpO1xuXG5cdFx0XHRfdGhpcy4kZWwuYmluZChcInRvZ2dsZSBjbG9zZSBvcGVuXCIsXG5cdFx0XHRcdCQucHJveHkoX3RoaXMuaGFuZGxlRXZlbnQsIHNjb3BlKSk7XG5cblx0XHR9KF90aGlzKSk7XG5cdH1cblxuXHRDb2xsYXBzZS5wcm90b3R5cGUgPSB7XG5cdFx0aGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIChlLCBzdGF0ZSkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0c3RhdGUgPSBzdGF0ZSB8fCBcInRvZ2dsZVwiO1xuXHRcdFx0dmFyIHNlY3Rpb25zID0gdGhpcy5zZWN0aW9ucyxcblx0XHRcdFx0bCA9IHNlY3Rpb25zLmxlbmd0aDtcblx0XHRcdHdoaWxlIChsLS0pIHtcblx0XHRcdFx0aWYgKCQuY29udGFpbnMoc2VjdGlvbnNbbF0uJHN1bW1hcnlbMF0sIGUudGFyZ2V0KSkge1xuXHRcdFx0XHRcdHNlY3Rpb25zW2xdW3N0YXRlXSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRoYW5kbGVFdmVudDogZnVuY3Rpb24gKGUpIHtcblx0XHRcdGlmIChlLnRhcmdldCA9PSB0aGlzLiRlbC5nZXQoMCkpIHJldHVybiB0aGlzW2UudHlwZV0oKTtcblx0XHRcdHRoaXMuaGFuZGxlQ2xpY2soZSwgZS50eXBlKTtcblx0XHR9LFxuXHRcdG9wZW46IGZ1bmN0aW9uIChlcSkge1xuXHRcdFx0dGhpcy5fY2hhbmdlKFwib3BlblwiLCBlcSk7XG5cdFx0fSxcblx0XHRjbG9zZTogZnVuY3Rpb24gKGVxKSB7XG5cdFx0XHR0aGlzLl9jaGFuZ2UoXCJjbG9zZVwiLCBlcSk7XG5cdFx0fSxcblx0XHR0b2dnbGU6IGZ1bmN0aW9uIChlcSkge1xuXHRcdFx0dGhpcy5fY2hhbmdlKFwidG9nZ2xlXCIsIGVxKTtcblx0XHR9LFxuXHRcdF9jaGFuZ2U6IGZ1bmN0aW9uIChhY3Rpb24sIGVxKSB7XG5cdFx0XHRpZiAoaXNGaW5pdGUoZXEpKSByZXR1cm4gdGhpcy5zZWN0aW9uc1tlcV1bYWN0aW9uXSgpO1xuXHRcdFx0JC5lYWNoKHRoaXMuc2VjdGlvbnMsIGZ1bmN0aW9uIChpLCBzZWN0aW9uKSB7XG5cdFx0XHRcdHNlY3Rpb25bYWN0aW9uXSgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xuXG5cdC8vIFNlY3Rpb24gY29uc3RydWN0b3Jcblx0ZnVuY3Rpb24gU2VjdGlvbigkZWwsIHBhcmVudCkge1xuXG5cdFx0aWYgKCFwYXJlbnQub3B0aW9ucy5jbGlja1F1ZXJ5KSAkZWwud3JhcElubmVyKCc8YSBocmVmPVwiI1wiLz4nKTtcblxuXHRcdCQuZXh0ZW5kKHRoaXMsIHtcblx0XHRcdGlzT3BlbjogZmFsc2UsXG5cdFx0XHQkc3VtbWFyeTogJGVsLmF0dHIoXCJkYXRhLWNvbGxhcHNlLXN1bW1hcnlcIiwgXCJcIiksXG5cdFx0XHQkZGV0YWlsczogJGVsLm5leHQoKSxcblx0XHRcdG9wdGlvbnM6IHBhcmVudC5vcHRpb25zLFxuXHRcdFx0cGFyZW50OiBwYXJlbnRcblx0XHR9KTtcblx0XHRwYXJlbnQuc2VjdGlvbnMucHVzaCh0aGlzKTtcblxuXHRcdC8vIENoZWNrIGN1cnJlbnQgc3RhdGUgb2Ygc2VjdGlvblxuXHRcdHZhciBzdGF0ZSA9IHBhcmVudC5zdGF0ZXNbdGhpcy5faW5kZXgoKV07XG5cblx0XHRpZiAoc3RhdGUgPT09IDApIHtcblx0XHRcdHRoaXMuY2xvc2UodHJ1ZSk7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHRoaXMuJHN1bW1hcnkuaXMoXCIub3BlblwiKSB8fCBzdGF0ZSA9PT0gMSkge1xuXHRcdFx0dGhpcy5vcGVuKHRydWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmNsb3NlKHRydWUpO1xuXHRcdH1cblx0fVxuXG5cdFNlY3Rpb24ucHJvdG90eXBlID0ge1xuXHRcdHRvZ2dsZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0dGhpcy5pc09wZW4gPyB0aGlzLmNsb3NlKCkgOiB0aGlzLm9wZW4oKTtcblx0XHR9LFxuXHRcdGNsb3NlOiBmdW5jdGlvbiAoYnlwYXNzKSB7XG5cdFx0XHR0aGlzLl9jaGFuZ2VTdGF0ZShcImNsb3NlXCIsIGJ5cGFzcyk7XG5cdFx0fSxcblx0XHRvcGVuOiBmdW5jdGlvbiAoYnlwYXNzKSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXHRcdFx0aWYgKF90aGlzLm9wdGlvbnMuYWNjb3JkaW9uICYmICFieXBhc3MpIHtcblx0XHRcdFx0JC5lYWNoKF90aGlzLnBhcmVudC5zZWN0aW9ucywgZnVuY3Rpb24gKGksIHNlY3Rpb24pIHtcblx0XHRcdFx0XHRzZWN0aW9uLmNsb3NlKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0X3RoaXMuX2NoYW5nZVN0YXRlKFwib3BlblwiLCBieXBhc3MpO1xuXHRcdH0sXG5cdFx0X2luZGV4OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gJC5pbkFycmF5KHRoaXMsIHRoaXMucGFyZW50LnNlY3Rpb25zKTtcblx0XHR9LFxuXHRcdF9jaGFuZ2VTdGF0ZTogZnVuY3Rpb24gKHN0YXRlLCBieXBhc3MpIHtcblxuXHRcdFx0dmFyIF90aGlzID0gdGhpcztcblx0XHRcdF90aGlzLmlzT3BlbiA9IHN0YXRlID09IFwib3BlblwiO1xuXHRcdFx0aWYgKCQuaXNGdW5jdGlvbihfdGhpcy5vcHRpb25zW3N0YXRlXSkgJiYgIWJ5cGFzcykge1xuXHRcdFx0XHRfdGhpcy5vcHRpb25zW3N0YXRlXS5hcHBseShfdGhpcy4kZGV0YWlscyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRfdGhpcy4kZGV0YWlsc1tfdGhpcy5pc09wZW4gPyBcInNob3dcIiA6IFwiaGlkZVwiXSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRfdGhpcy4kc3VtbWFyeS50b2dnbGVDbGFzcyhcIm9wZW5cIiwgc3RhdGUgIT09IFwiY2xvc2VcIik7XG5cdFx0XHRfdGhpcy4kZGV0YWlscy5hdHRyKFwiYXJpYS1oaWRkZW5cIiwgc3RhdGUgPT09IFwiY2xvc2VcIik7XG5cdFx0XHRfdGhpcy4kc3VtbWFyeS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCBzdGF0ZSA9PT0gXCJvcGVuXCIpO1xuXHRcdFx0X3RoaXMuJHN1bW1hcnkudHJpZ2dlcihzdGF0ZSA9PT0gXCJvcGVuXCIgPyBcIm9wZW5lZFwiIDogXCJjbG9zZWRcIiwgX3RoaXMpO1xuXHRcdFx0aWYgKF90aGlzLnBhcmVudC5kYikge1xuXHRcdFx0XHRfdGhpcy5wYXJlbnQuZGIud3JpdGUoX3RoaXMuX2luZGV4KCksIF90aGlzLmlzT3Blbik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8vIEV4cG9zZSBpbiBqUXVlcnkgQVBJXG5cdCQuZm4uZXh0ZW5kKHtcblx0XHRjb2xsYXBzZTogZnVuY3Rpb24gKG9wdGlvbnMsIHNjYW4pIHtcblx0XHRcdHZhciBub2RlcyA9IChzY2FuKSA/ICQoXCJib2R5XCIpLmZpbmQoXCJbZGF0YS1jb2xsYXBzZV1cIikgOiAkKHRoaXMpO1xuXHRcdFx0cmV0dXJuIG5vZGVzLmVhY2goZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgc2V0dGluZ3MgPSAoc2NhbikgPyB7fSA6IG9wdGlvbnMsXG5cdFx0XHRcdFx0dmFsdWVzID0gJCh0aGlzKS5hdHRyKFwiZGF0YS1jb2xsYXBzZVwiKSB8fCBcIlwiO1xuXHRcdFx0XHQkLmVhY2godmFsdWVzLnNwbGl0KFwiIFwiKSwgZnVuY3Rpb24gKGksIHYpIHtcblx0XHRcdFx0XHRpZiAodikgc2V0dGluZ3Nbdl0gPSB0cnVlO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0bmV3IENvbGxhcHNlKCQodGhpcyksIHNldHRpbmdzKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gRXhwb3NlIGNvbnN0cnVjdG9yIHRvXG5cdC8vIGdsb2JhbCBuYW1lc3BhY2Vcblx0ZXhwb3J0cy5qUXVlcnlDb2xsYXBzZSA9IENvbGxhcHNlO1xuXHRleHBvcnRzLmpRdWVyeUNvbGxhcHNlU2VjdGlvbiA9IFNlY3Rpb247XG5cblx0Ly9qUXVlcnkgRE9NIFJlYWR5XG5cdCQoZnVuY3Rpb24gKCkge1xuXHRcdCQuZm4uY29sbGFwc2UoZmFsc2UsIHRydWUpO1xuXHR9KTtcblxufSkod2luZG93LmpRdWVyeSwgd2luZG93KTtcbiIsIi8qIVxuICogY2xpcGJvYXJkLmpzIHYxLjUuMTJcbiAqIGh0dHBzOi8vemVub3JvY2hhLmdpdGh1Yi5pby9jbGlwYm9hcmQuanNcbiAqXG4gKiBMaWNlbnNlZCBNSVQgwqkgWmVubyBSb2NoYVxuICovXG4oZnVuY3Rpb24oZil7aWYodHlwZW9mIGV4cG9ydHM9PT1cIm9iamVjdFwiJiZ0eXBlb2YgbW9kdWxlIT09XCJ1bmRlZmluZWRcIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKFtdLGYpfWVsc2V7dmFyIGc7aWYodHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCIpe2c9d2luZG93fWVsc2UgaWYodHlwZW9mIGdsb2JhbCE9PVwidW5kZWZpbmVkXCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT1cInVuZGVmaW5lZFwiKXtnPXNlbGZ9ZWxzZXtnPXRoaXN9Zy5DbGlwYm9hcmQgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgbWF0Y2hlcyA9IHJlcXVpcmUoJ21hdGNoZXMtc2VsZWN0b3InKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlbGVtZW50LCBzZWxlY3RvciwgY2hlY2tZb1NlbGYpIHtcbiAgdmFyIHBhcmVudCA9IGNoZWNrWW9TZWxmID8gZWxlbWVudCA6IGVsZW1lbnQucGFyZW50Tm9kZVxuXG4gIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50ICE9PSBkb2N1bWVudCkge1xuICAgIGlmIChtYXRjaGVzKHBhcmVudCwgc2VsZWN0b3IpKSByZXR1cm4gcGFyZW50O1xuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlXG4gIH1cbn1cblxufSx7XCJtYXRjaGVzLXNlbGVjdG9yXCI6NX1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIGNsb3Nlc3QgPSByZXF1aXJlKCdjbG9zZXN0Jyk7XG5cbi8qKlxuICogRGVsZWdhdGVzIGV2ZW50IHRvIGEgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHBhcmFtIHtCb29sZWFufSB1c2VDYXB0dXJlXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGRlbGVnYXRlKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSkge1xuICAgIHZhciBsaXN0ZW5lckZuID0gbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEZpbmRzIGNsb3Nlc3QgbWF0Y2ggYW5kIGludm9rZXMgY2FsbGJhY2suXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGxpc3RlbmVyKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUuZGVsZWdhdGVUYXJnZXQgPSBjbG9zZXN0KGUudGFyZ2V0LCBzZWxlY3RvciwgdHJ1ZSk7XG5cbiAgICAgICAgaWYgKGUuZGVsZWdhdGVUYXJnZXQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZWxlbWVudCwgZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVsZWdhdGU7XG5cbn0se1wiY2xvc2VzdFwiOjF9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBIVE1MIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLm5vZGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICYmIHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgICAgJiYgdmFsdWUubm9kZVR5cGUgPT09IDE7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgbGlzdCBvZiBIVE1MIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5ub2RlTGlzdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgJiYgKHR5cGUgPT09ICdbb2JqZWN0IE5vZGVMaXN0XScgfHwgdHlwZSA9PT0gJ1tvYmplY3QgSFRNTENvbGxlY3Rpb25dJylcbiAgICAgICAgJiYgKCdsZW5ndGgnIGluIHZhbHVlKVxuICAgICAgICAmJiAodmFsdWUubGVuZ3RoID09PSAwIHx8IGV4cG9ydHMubm9kZSh2YWx1ZVswXSkpO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuc3RyaW5nID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJ1xuICAgICAgICB8fCB2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZztcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuZm4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcblxuICAgIHJldHVybiB0eXBlID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufTtcblxufSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgaXMgPSByZXF1aXJlKCcuL2lzJyk7XG52YXIgZGVsZWdhdGUgPSByZXF1aXJlKCdkZWxlZ2F0ZScpO1xuXG4vKipcbiAqIFZhbGlkYXRlcyBhbGwgcGFyYW1zIGFuZCBjYWxscyB0aGUgcmlnaHRcbiAqIGxpc3RlbmVyIGZ1bmN0aW9uIGJhc2VkIG9uIGl0cyB0YXJnZXQgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxIVE1MQ29sbGVjdGlvbnxOb2RlTGlzdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuKHRhcmdldCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRhcmdldCAmJiAhdHlwZSAmJiAhY2FsbGJhY2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50cycpO1xuICAgIH1cblxuICAgIGlmICghaXMuc3RyaW5nKHR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpcy5mbihjYWxsYmFjaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhpcmQgYXJndW1lbnQgbXVzdCBiZSBhIEZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzLm5vZGUodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZSh0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXMubm9kZUxpc3QodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZUxpc3QodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzLnN0cmluZyh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5TZWxlY3Rvcih0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcsIEhUTUxFbGVtZW50LCBIVE1MQ29sbGVjdGlvbiwgb3IgTm9kZUxpc3QnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byBhIEhUTUwgZWxlbWVudFxuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3Rlbk5vZGUobm9kZSwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIGxpc3Qgb2YgSFRNTCBlbGVtZW50c1xuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtOb2RlTGlzdHxIVE1MQ29sbGVjdGlvbn0gbm9kZUxpc3RcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5Ob2RlTGlzdChub2RlTGlzdCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobm9kZUxpc3QsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgc2VsZWN0b3JcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3RlblNlbGVjdG9yKHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBkZWxlZ2F0ZShkb2N1bWVudC5ib2R5LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RlbjtcblxufSx7XCIuL2lzXCI6MyxcImRlbGVnYXRlXCI6Mn1dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXG4vKipcbiAqIEVsZW1lbnQgcHJvdG90eXBlLlxuICovXG5cbnZhciBwcm90byA9IEVsZW1lbnQucHJvdG90eXBlO1xuXG4vKipcbiAqIFZlbmRvciBmdW5jdGlvbi5cbiAqL1xuXG52YXIgdmVuZG9yID0gcHJvdG8ubWF0Y2hlc1NlbGVjdG9yXG4gIHx8IHByb3RvLndlYmtpdE1hdGNoZXNTZWxlY3RvclxuICB8fCBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3JcbiAgfHwgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3JcbiAgfHwgcHJvdG8ub01hdGNoZXNTZWxlY3RvcjtcblxuLyoqXG4gKiBFeHBvc2UgYG1hdGNoKClgLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gbWF0Y2g7XG5cbi8qKlxuICogTWF0Y2ggYGVsYCB0byBgc2VsZWN0b3JgLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbWF0Y2goZWwsIHNlbGVjdG9yKSB7XG4gIGlmICh2ZW5kb3IpIHJldHVybiB2ZW5kb3IuY2FsbChlbCwgc2VsZWN0b3IpO1xuICB2YXIgbm9kZXMgPSBlbC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKG5vZGVzW2ldID09IGVsKSByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG59LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIHNlbGVjdChlbGVtZW50KSB7XG4gICAgdmFyIHNlbGVjdGVkVGV4dDtcblxuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSU5QVVQnIHx8IGVsZW1lbnQubm9kZU5hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICBlbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKDAsIGVsZW1lbnQudmFsdWUubGVuZ3RoKTtcblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKSkge1xuICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcblxuICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWxlbWVudCk7XG4gICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBzZWxlY3Rpb24udG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZWN0ZWRUZXh0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbGVjdDtcblxufSx7fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBFICgpIHtcblx0Ly8gS2VlcCB0aGlzIGVtcHR5IHNvIGl0J3MgZWFzaWVyIHRvIGluaGVyaXQgZnJvbVxuICAvLyAodmlhIGh0dHBzOi8vZ2l0aHViLmNvbS9saXBzbWFjayBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvaXNzdWVzLzMpXG59XG5cbkUucHJvdG90eXBlID0ge1xuXHRvbjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xuXG4gICAgKGVbbmFtZV0gfHwgKGVbbmFtZV0gPSBbXSkpLnB1c2goe1xuICAgICAgZm46IGNhbGxiYWNrLFxuICAgICAgY3R4OiBjdHhcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIG9uY2U6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGZ1bmN0aW9uIGxpc3RlbmVyICgpIHtcbiAgICAgIHNlbGYub2ZmKG5hbWUsIGxpc3RlbmVyKTtcbiAgICAgIGNhbGxiYWNrLmFwcGx5KGN0eCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgbGlzdGVuZXIuXyA9IGNhbGxiYWNrXG4gICAgcmV0dXJuIHRoaXMub24obmFtZSwgbGlzdGVuZXIsIGN0eCk7XG4gIH0sXG5cbiAgZW1pdDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZGF0YSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgZXZ0QXJyID0gKCh0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KSlbbmFtZV0gfHwgW10pLnNsaWNlKCk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsZW4gPSBldnRBcnIubGVuZ3RoO1xuXG4gICAgZm9yIChpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGV2dEFycltpXS5mbi5hcHBseShldnRBcnJbaV0uY3R4LCBkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBvZmY6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XG4gICAgdmFyIGV2dHMgPSBlW25hbWVdO1xuICAgIHZhciBsaXZlRXZlbnRzID0gW107XG5cbiAgICBpZiAoZXZ0cyAmJiBjYWxsYmFjaykge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV2dHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGV2dHNbaV0uZm4gIT09IGNhbGxiYWNrICYmIGV2dHNbaV0uZm4uXyAhPT0gY2FsbGJhY2spXG4gICAgICAgICAgbGl2ZUV2ZW50cy5wdXNoKGV2dHNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBldmVudCBmcm9tIHF1ZXVlIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtcbiAgICAvLyBTdWdnZXN0ZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2xhemRcbiAgICAvLyBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvY29tbWl0L2M2ZWJmYWE5YmM5NzNiMzNkMTEwYTg0YTMwNzc0MmI3Y2Y5NGM5NTMjY29tbWl0Y29tbWVudC01MDI0OTEwXG5cbiAgICAobGl2ZUV2ZW50cy5sZW5ndGgpXG4gICAgICA/IGVbbmFtZV0gPSBsaXZlRXZlbnRzXG4gICAgICA6IGRlbGV0ZSBlW25hbWVdO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRTtcblxufSx7fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoWydtb2R1bGUnLCAnc2VsZWN0J10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZmFjdG9yeShtb2R1bGUsIHJlcXVpcmUoJ3NlbGVjdCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbW9kID0ge1xuICAgICAgICAgICAgZXhwb3J0czoge31cbiAgICAgICAgfTtcbiAgICAgICAgZmFjdG9yeShtb2QsIGdsb2JhbC5zZWxlY3QpO1xuICAgICAgICBnbG9iYWwuY2xpcGJvYXJkQWN0aW9uID0gbW9kLmV4cG9ydHM7XG4gICAgfVxufSkodGhpcywgZnVuY3Rpb24gKG1vZHVsZSwgX3NlbGVjdCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdCk7XG5cbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xuICAgICAgICAgICAgZGVmYXVsdDogb2JqXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgICAgICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgICAgICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgdmFyIENsaXBib2FyZEFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqL1xuXG4gICAgICAgIGZ1bmN0aW9uIENsaXBib2FyZEFjdGlvbihvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpcGJvYXJkQWN0aW9uKTtcblxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdFNlbGVjdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZXMgYmFzZSBwcm9wZXJ0aWVzIHBhc3NlZCBmcm9tIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cblxuXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUucmVzb2x2ZU9wdGlvbnMgPSBmdW5jdGlvbiByZXNvbHZlT3B0aW9ucygpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cbiAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gb3B0aW9ucy5hY3Rpb247XG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIgPSBvcHRpb25zLmVtaXR0ZXI7XG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IG9wdGlvbnMudGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy50ZXh0ID0gb3B0aW9ucy50ZXh0O1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyID0gb3B0aW9ucy50cmlnZ2VyO1xuXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9ICcnO1xuICAgICAgICB9O1xuXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuaW5pdFNlbGVjdGlvbiA9IGZ1bmN0aW9uIGluaXRTZWxlY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RGYWtlKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RUYXJnZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLnNlbGVjdEZha2UgPSBmdW5jdGlvbiBzZWxlY3RGYWtlKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIGlzUlRMID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlyJykgPT0gJ3J0bCc7XG5cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRmFrZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlbW92ZUZha2UoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyID0gZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjaykgfHwgdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IHpvb21pbmcgb24gaU9TXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmZvbnRTaXplID0gJzEycHQnO1xuICAgICAgICAgICAgLy8gUmVzZXQgYm94IG1vZGVsXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmJvcmRlciA9ICcwJztcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUucGFkZGluZyA9ICcwJztcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUubWFyZ2luID0gJzAnO1xuICAgICAgICAgICAgLy8gTW92ZSBlbGVtZW50IG91dCBvZiBzY3JlZW4gaG9yaXpvbnRhbGx5XG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGVbaXNSVEwgPyAncmlnaHQnIDogJ2xlZnQnXSA9ICctOTk5OXB4JztcbiAgICAgICAgICAgIC8vIE1vdmUgZWxlbWVudCB0byB0aGUgc2FtZSBwb3NpdGlvbiB2ZXJ0aWNhbGx5XG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnRvcCA9ICh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkgKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS52YWx1ZSA9IHRoaXMudGV4dDtcblxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmZha2VFbGVtKTtcblxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAoMCwgX3NlbGVjdDIuZGVmYXVsdCkodGhpcy5mYWtlRWxlbSk7XG4gICAgICAgICAgICB0aGlzLmNvcHlUZXh0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5yZW1vdmVGYWtlID0gZnVuY3Rpb24gcmVtb3ZlRmFrZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZha2VIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuZmFrZUVsZW0pIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZmFrZUVsZW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuc2VsZWN0VGFyZ2V0ID0gZnVuY3Rpb24gc2VsZWN0VGFyZ2V0KCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAoMCwgX3NlbGVjdDIuZGVmYXVsdCkodGhpcy50YXJnZXQpO1xuICAgICAgICAgICAgdGhpcy5jb3B5VGV4dCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuY29weVRleHQgPSBmdW5jdGlvbiBjb3B5VGV4dCgpIHtcbiAgICAgICAgICAgIHZhciBzdWNjZWVkZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3VjY2VlZGVkID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5hY3Rpb24pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VlZGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVzdWx0KHN1Y2NlZWRlZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5oYW5kbGVSZXN1bHQgPSBmdW5jdGlvbiBoYW5kbGVSZXN1bHQoc3VjY2VlZGVkKSB7XG4gICAgICAgICAgICBpZiAoc3VjY2VlZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoJ3N1Y2Nlc3MnLCB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuc2VsZWN0ZWRUZXh0LFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0aGlzLnRyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyU2VsZWN0aW9uOiB0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0aGlzLnRyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyU2VsZWN0aW9uOiB0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uID0gZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5ibHVyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVGYWtlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKENsaXBib2FyZEFjdGlvbiwgW3tcbiAgICAgICAgICAgIGtleTogJ2FjdGlvbicsXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJ2NvcHknIDogYXJndW1lbnRzWzBdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aW9uID0gYWN0aW9uO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGlvbiAhPT0gJ2NvcHknICYmIHRoaXMuX2FjdGlvbiAhPT0gJ2N1dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwiYWN0aW9uXCIgdmFsdWUsIHVzZSBlaXRoZXIgXCJjb3B5XCIgb3IgXCJjdXRcIicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd0YXJnZXQnLFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgKHR5cGVvZiB0YXJnZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHRhcmdldCkpID09PSAnb2JqZWN0JyAmJiB0YXJnZXQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ2NvcHknICYmIHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFBsZWFzZSB1c2UgXCJyZWFkb25seVwiIGluc3RlYWQgb2YgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjdXQnICYmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdyZWFkb25seScpIHx8IHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBZb3UgY2FuXFwndCBjdXQgdGV4dCBmcm9tIGVsZW1lbnRzIHdpdGggXCJyZWFkb25seVwiIG9yIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGVzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIHZhbHVlLCB1c2UgYSB2YWxpZCBFbGVtZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBDbGlwYm9hcmRBY3Rpb247XG4gICAgfSgpO1xuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDbGlwYm9hcmRBY3Rpb247XG59KTtcblxufSx7XCJzZWxlY3RcIjo2fV0sOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoWydtb2R1bGUnLCAnLi9jbGlwYm9hcmQtYWN0aW9uJywgJ3RpbnktZW1pdHRlcicsICdnb29kLWxpc3RlbmVyJ10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZmFjdG9yeShtb2R1bGUsIHJlcXVpcmUoJy4vY2xpcGJvYXJkLWFjdGlvbicpLCByZXF1aXJlKCd0aW55LWVtaXR0ZXInKSwgcmVxdWlyZSgnZ29vZC1saXN0ZW5lcicpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbW9kID0ge1xuICAgICAgICAgICAgZXhwb3J0czoge31cbiAgICAgICAgfTtcbiAgICAgICAgZmFjdG9yeShtb2QsIGdsb2JhbC5jbGlwYm9hcmRBY3Rpb24sIGdsb2JhbC50aW55RW1pdHRlciwgZ2xvYmFsLmdvb2RMaXN0ZW5lcik7XG4gICAgICAgIGdsb2JhbC5jbGlwYm9hcmQgPSBtb2QuZXhwb3J0cztcbiAgICB9XG59KSh0aGlzLCBmdW5jdGlvbiAobW9kdWxlLCBfY2xpcGJvYXJkQWN0aW9uLCBfdGlueUVtaXR0ZXIsIF9nb29kTGlzdGVuZXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgX2NsaXBib2FyZEFjdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGlwYm9hcmRBY3Rpb24pO1xuXG4gICAgdmFyIF90aW55RW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aW55RW1pdHRlcik7XG5cbiAgICB2YXIgX2dvb2RMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nb29kTGlzdGVuZXIpO1xuXG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IG9ialxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICAgICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gICAgICAgIGlmICghc2VsZikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbiAgICB9XG5cbiAgICB2YXIgQ2xpcGJvYXJkID0gZnVuY3Rpb24gKF9FbWl0dGVyKSB7XG4gICAgICAgIF9pbmhlcml0cyhDbGlwYm9hcmQsIF9FbWl0dGVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRyaWdnZXJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICovXG5cbiAgICAgICAgZnVuY3Rpb24gQ2xpcGJvYXJkKHRyaWdnZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwYm9hcmQpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRW1pdHRlci5jYWxsKHRoaXMpKTtcblxuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICBfdGhpcy5saXN0ZW5DbGljayh0cmlnZ2VyKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIGlmIGF0dHJpYnV0ZXMgd291bGQgYmUgcmVzb2x2ZWQgdXNpbmcgaW50ZXJuYWwgc2V0dGVyIGZ1bmN0aW9uc1xuICAgICAgICAgKiBvciBjdXN0b20gZnVuY3Rpb25zIHRoYXQgd2VyZSBwYXNzZWQgaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cblxuXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUucmVzb2x2ZU9wdGlvbnMgPSBmdW5jdGlvbiByZXNvbHZlT3B0aW9ucygpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cbiAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gdHlwZW9mIG9wdGlvbnMuYWN0aW9uID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5hY3Rpb24gOiB0aGlzLmRlZmF1bHRBY3Rpb247XG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IHR5cGVvZiBvcHRpb25zLnRhcmdldCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGFyZ2V0IDogdGhpcy5kZWZhdWx0VGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy50ZXh0ID0gdHlwZW9mIG9wdGlvbnMudGV4dCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGV4dCA6IHRoaXMuZGVmYXVsdFRleHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5saXN0ZW5DbGljayA9IGZ1bmN0aW9uIGxpc3RlbkNsaWNrKHRyaWdnZXIpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyID0gKDAsIF9nb29kTGlzdGVuZXIyLmRlZmF1bHQpKHRyaWdnZXIsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNsaWNrKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgICB2YXIgdHJpZ2dlciA9IGUuZGVsZWdhdGVUYXJnZXQgfHwgZS5jdXJyZW50VGFyZ2V0O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jbGlwYm9hcmRBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbmV3IF9jbGlwYm9hcmRBY3Rpb24yLmRlZmF1bHQoe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24odHJpZ2dlciksXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldCh0cmlnZ2VyKSxcbiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRleHQodHJpZ2dlciksXG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcbiAgICAgICAgICAgICAgICBlbWl0dGVyOiB0aGlzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLmRlZmF1bHRBY3Rpb24gPSBmdW5jdGlvbiBkZWZhdWx0QWN0aW9uKHRyaWdnZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGVWYWx1ZSgnYWN0aW9uJywgdHJpZ2dlcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5kZWZhdWx0VGFyZ2V0ID0gZnVuY3Rpb24gZGVmYXVsdFRhcmdldCh0cmlnZ2VyKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBnZXRBdHRyaWJ1dGVWYWx1ZSgndGFyZ2V0JywgdHJpZ2dlcik7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLmRlZmF1bHRUZXh0ID0gZnVuY3Rpb24gZGVmYXVsdFRleHQodHJpZ2dlcikge1xuICAgICAgICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZVZhbHVlKCd0ZXh0JywgdHJpZ2dlcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXIuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jbGlwYm9hcmRBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBDbGlwYm9hcmQ7XG4gICAgfShfdGlueUVtaXR0ZXIyLmRlZmF1bHQpO1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIHJldHJpZXZlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3VmZml4XG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlVmFsdWUoc3VmZml4LCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSAnZGF0YS1jbGlwYm9hcmQtJyArIHN1ZmZpeDtcblxuICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgIH1cblxuICAgIG1vZHVsZS5leHBvcnRzID0gQ2xpcGJvYXJkO1xufSk7XG5cbn0se1wiLi9jbGlwYm9hcmQtYWN0aW9uXCI6OCxcImdvb2QtbGlzdGVuZXJcIjo0LFwidGlueS1lbWl0dGVyXCI6N31dfSx7fSxbOV0pKDkpXG59KTsiLCIoIGZ1bmN0aW9uKCB3aW5kb3csIHVuZGVmaW5lZCApIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8qKlxuXHQgKiBIYW5kbGVzIG1hbmFnaW5nIGFsbCBldmVudHMgZm9yIHdoYXRldmVyIHlvdSBwbHVnIGl0IGludG8uIFByaW9yaXRpZXMgZm9yIGhvb2tzIGFyZSBiYXNlZCBvbiBsb3dlc3QgdG8gaGlnaGVzdCBpblxuXHQgKiB0aGF0LCBsb3dlc3QgcHJpb3JpdHkgaG9va3MgYXJlIGZpcmVkIGZpcnN0LlxuXHQgKi9cblx0dmFyIEV2ZW50TWFuYWdlciA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuXHRcdC8qKlxuXHRcdCAqIE1haW50YWluIGEgcmVmZXJlbmNlIHRvIHRoZSBvYmplY3Qgc2NvcGUgc28gb3VyIHB1YmxpYyBtZXRob2RzIG5ldmVyIGdldCBjb25mdXNpbmcuXG5cdFx0ICovXG5cdFx0dmFyIE1ldGhvZHNBdmFpbGFibGUgPSB7XG5cdFx0XHRyZW1vdmVGaWx0ZXIgOiByZW1vdmVGaWx0ZXIsXG5cdFx0XHRhcHBseUZpbHRlcnMgOiBhcHBseUZpbHRlcnMsXG5cdFx0XHRhZGRGaWx0ZXIgOiBhZGRGaWx0ZXIsXG5cdFx0XHRyZW1vdmVBY3Rpb24gOiByZW1vdmVBY3Rpb24sXG5cdFx0XHRkb0FjdGlvbiA6IGRvQWN0aW9uLFxuXHRcdFx0YWRkQWN0aW9uIDogYWRkQWN0aW9uXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIENvbnRhaW5zIHRoZSBob29rcyB0aGF0IGdldCByZWdpc3RlcmVkIHdpdGggdGhpcyBFdmVudE1hbmFnZXIuIFRoZSBhcnJheSBmb3Igc3RvcmFnZSB1dGlsaXplcyBhIFwiZmxhdFwiXG5cdFx0ICogb2JqZWN0IGxpdGVyYWwgc3VjaCB0aGF0IGxvb2tpbmcgdXAgdGhlIGhvb2sgdXRpbGl6ZXMgdGhlIG5hdGl2ZSBvYmplY3QgbGl0ZXJhbCBoYXNoLlxuXHRcdCAqL1xuXHRcdHZhciBTVE9SQUdFID0ge1xuXHRcdFx0YWN0aW9ucyA6IHt9LFxuXHRcdFx0ZmlsdGVycyA6IHt9XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEFkZHMgYW4gYWN0aW9uIHRvIHRoZSBldmVudCBtYW5hZ2VyLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGFjdGlvbiBNdXN0IGNvbnRhaW4gbmFtZXNwYWNlLmlkZW50aWZpZXJcblx0XHQgKiBAcGFyYW0gY2FsbGJhY2sgTXVzdCBiZSBhIHZhbGlkIGNhbGxiYWNrIGZ1bmN0aW9uIGJlZm9yZSB0aGlzIGFjdGlvbiBpcyBhZGRlZFxuXHRcdCAqIEBwYXJhbSBbcHJpb3JpdHk9MTBdIFVzZWQgdG8gY29udHJvbCB3aGVuIHRoZSBmdW5jdGlvbiBpcyBleGVjdXRlZCBpbiByZWxhdGlvbiB0byBvdGhlciBjYWxsYmFja3MgYm91bmQgdG8gdGhlIHNhbWUgaG9va1xuXHRcdCAqIEBwYXJhbSBbY29udGV4dF0gU3VwcGx5IGEgdmFsdWUgdG8gYmUgdXNlZCBmb3IgdGhpc1xuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIGFkZEFjdGlvbiggYWN0aW9uLCBjYWxsYmFjaywgcHJpb3JpdHksIGNvbnRleHQgKSB7XG5cdFx0XHRpZiggdHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nICkge1xuXHRcdFx0XHRwcmlvcml0eSA9IHBhcnNlSW50KCAoIHByaW9yaXR5IHx8IDEwICksIDEwICk7XG5cdFx0XHRcdF9hZGRIb29rKCAnYWN0aW9ucycsIGFjdGlvbiwgY2FsbGJhY2ssIHByaW9yaXR5LCBjb250ZXh0ICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFBlcmZvcm1zIGFuIGFjdGlvbiBpZiBpdCBleGlzdHMuIFlvdSBjYW4gcGFzcyBhcyBtYW55IGFyZ3VtZW50cyBhcyB5b3Ugd2FudCB0byB0aGlzIGZ1bmN0aW9uOyB0aGUgb25seSBydWxlIGlzXG5cdFx0ICogdGhhdCB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBhbHdheXMgYmUgdGhlIGFjdGlvbi5cblx0XHQgKi9cblx0XHRmdW5jdGlvbiBkb0FjdGlvbiggLyogYWN0aW9uLCBhcmcxLCBhcmcyLCAuLi4gKi8gKSB7XG5cdFx0XHR2YXIgYXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApO1xuXHRcdFx0dmFyIGFjdGlvbiA9IGFyZ3Muc2hpZnQoKTtcblxuXHRcdFx0aWYoIHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnICkge1xuXHRcdFx0XHRfcnVuSG9vayggJ2FjdGlvbnMnLCBhY3Rpb24sIGFyZ3MgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGFjdGlvbiBpZiBpdCBjb250YWlucyBhIG5hbWVzcGFjZS5pZGVudGlmaWVyICYgZXhpc3RzLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGFjdGlvbiBUaGUgYWN0aW9uIHRvIHJlbW92ZVxuXHRcdCAqIEBwYXJhbSBbY2FsbGJhY2tdIENhbGxiYWNrIGZ1bmN0aW9uIHRvIHJlbW92ZVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIHJlbW92ZUFjdGlvbiggYWN0aW9uLCBjYWxsYmFjayApIHtcblx0XHRcdGlmKCB0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJyApIHtcblx0XHRcdFx0X3JlbW92ZUhvb2soICdhY3Rpb25zJywgYWN0aW9uLCBjYWxsYmFjayApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBBZGRzIGEgZmlsdGVyIHRvIHRoZSBldmVudCBtYW5hZ2VyLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGZpbHRlciBNdXN0IGNvbnRhaW4gbmFtZXNwYWNlLmlkZW50aWZpZXJcblx0XHQgKiBAcGFyYW0gY2FsbGJhY2sgTXVzdCBiZSBhIHZhbGlkIGNhbGxiYWNrIGZ1bmN0aW9uIGJlZm9yZSB0aGlzIGFjdGlvbiBpcyBhZGRlZFxuXHRcdCAqIEBwYXJhbSBbcHJpb3JpdHk9MTBdIFVzZWQgdG8gY29udHJvbCB3aGVuIHRoZSBmdW5jdGlvbiBpcyBleGVjdXRlZCBpbiByZWxhdGlvbiB0byBvdGhlciBjYWxsYmFja3MgYm91bmQgdG8gdGhlIHNhbWUgaG9va1xuXHRcdCAqIEBwYXJhbSBbY29udGV4dF0gU3VwcGx5IGEgdmFsdWUgdG8gYmUgdXNlZCBmb3IgdGhpc1xuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIGFkZEZpbHRlciggZmlsdGVyLCBjYWxsYmFjaywgcHJpb3JpdHksIGNvbnRleHQgKSB7XG5cdFx0XHRpZiggdHlwZW9mIGZpbHRlciA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nICkge1xuXHRcdFx0XHRwcmlvcml0eSA9IHBhcnNlSW50KCAoIHByaW9yaXR5IHx8IDEwICksIDEwICk7XG5cdFx0XHRcdF9hZGRIb29rKCAnZmlsdGVycycsIGZpbHRlciwgY2FsbGJhY2ssIHByaW9yaXR5LCBjb250ZXh0ICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFBlcmZvcm1zIGEgZmlsdGVyIGlmIGl0IGV4aXN0cy4gWW91IHNob3VsZCBvbmx5IGV2ZXIgcGFzcyAxIGFyZ3VtZW50IHRvIGJlIGZpbHRlcmVkLiBUaGUgb25seSBydWxlIGlzIHRoYXRcblx0XHQgKiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBhbHdheXMgYmUgdGhlIGZpbHRlci5cblx0XHQgKi9cblx0XHRmdW5jdGlvbiBhcHBseUZpbHRlcnMoIC8qIGZpbHRlciwgZmlsdGVyZWQgYXJnLCBhcmcyLCAuLi4gKi8gKSB7XG5cdFx0XHR2YXIgYXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApO1xuXHRcdFx0dmFyIGZpbHRlciA9IGFyZ3Muc2hpZnQoKTtcblxuXHRcdFx0aWYoIHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnICkge1xuXHRcdFx0XHRyZXR1cm4gX3J1bkhvb2soICdmaWx0ZXJzJywgZmlsdGVyLCBhcmdzICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBmaWx0ZXIgaWYgaXQgY29udGFpbnMgYSBuYW1lc3BhY2UuaWRlbnRpZmllciAmIGV4aXN0cy5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBmaWx0ZXIgVGhlIGFjdGlvbiB0byByZW1vdmVcblx0XHQgKiBAcGFyYW0gW2NhbGxiYWNrXSBDYWxsYmFjayBmdW5jdGlvbiB0byByZW1vdmVcblx0XHQgKi9cblx0XHRmdW5jdGlvbiByZW1vdmVGaWx0ZXIoIGZpbHRlciwgY2FsbGJhY2sgKSB7XG5cdFx0XHRpZiggdHlwZW9mIGZpbHRlciA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0X3JlbW92ZUhvb2soICdmaWx0ZXJzJywgZmlsdGVyLCBjYWxsYmFjayApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgaG9vayBieSByZXNldHRpbmcgdGhlIHZhbHVlIG9mIGl0LlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHR5cGUgVHlwZSBvZiBob29rLCBlaXRoZXIgJ2FjdGlvbnMnIG9yICdmaWx0ZXJzJ1xuXHRcdCAqIEBwYXJhbSBob29rIFRoZSBob29rIChuYW1lc3BhY2UuaWRlbnRpZmllcikgdG8gcmVtb3ZlXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBfcmVtb3ZlSG9vayggdHlwZSwgaG9vaywgY2FsbGJhY2ssIGNvbnRleHQgKSB7XG5cdFx0XHR2YXIgaGFuZGxlcnMsIGhhbmRsZXIsIGk7XG5cblx0XHRcdGlmICggIVNUT1JBR0VbIHR5cGUgXVsgaG9vayBdICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAoICFjYWxsYmFjayApIHtcblx0XHRcdFx0U1RPUkFHRVsgdHlwZSBdWyBob29rIF0gPSBbXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhhbmRsZXJzID0gU1RPUkFHRVsgdHlwZSBdWyBob29rIF07XG5cdFx0XHRcdGlmICggIWNvbnRleHQgKSB7XG5cdFx0XHRcdFx0Zm9yICggaSA9IGhhbmRsZXJzLmxlbmd0aDsgaS0tOyApIHtcblx0XHRcdFx0XHRcdGlmICggaGFuZGxlcnNbaV0uY2FsbGJhY2sgPT09IGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGksIDEgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0Zm9yICggaSA9IGhhbmRsZXJzLmxlbmd0aDsgaS0tOyApIHtcblx0XHRcdFx0XHRcdGhhbmRsZXIgPSBoYW5kbGVyc1tpXTtcblx0XHRcdFx0XHRcdGlmICggaGFuZGxlci5jYWxsYmFjayA9PT0gY2FsbGJhY2sgJiYgaGFuZGxlci5jb250ZXh0ID09PSBjb250ZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaSwgMSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEFkZHMgdGhlIGhvb2sgdG8gdGhlIGFwcHJvcHJpYXRlIHN0b3JhZ2UgY29udGFpbmVyXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gdHlwZSAnYWN0aW9ucycgb3IgJ2ZpbHRlcnMnXG5cdFx0ICogQHBhcmFtIGhvb2sgVGhlIGhvb2sgKG5hbWVzcGFjZS5pZGVudGlmaWVyKSB0byBhZGQgdG8gb3VyIGV2ZW50IG1hbmFnZXJcblx0XHQgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgaG9vayBpcyBleGVjdXRlZC5cblx0XHQgKiBAcGFyYW0gcHJpb3JpdHkgVGhlIHByaW9yaXR5IG9mIHRoaXMgaG9vay4gTXVzdCBiZSBhbiBpbnRlZ2VyLlxuXHRcdCAqIEBwYXJhbSBbY29udGV4dF0gQSB2YWx1ZSB0byBiZSB1c2VkIGZvciB0aGlzXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBfYWRkSG9vayggdHlwZSwgaG9vaywgY2FsbGJhY2ssIHByaW9yaXR5LCBjb250ZXh0ICkge1xuXHRcdFx0dmFyIGhvb2tPYmplY3QgPSB7XG5cdFx0XHRcdGNhbGxiYWNrIDogY2FsbGJhY2ssXG5cdFx0XHRcdHByaW9yaXR5IDogcHJpb3JpdHksXG5cdFx0XHRcdGNvbnRleHQgOiBjb250ZXh0XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBVdGlsaXplICdwcm9wIGl0c2VsZicgOiBodHRwOi8vanNwZXJmLmNvbS9oYXNvd25wcm9wZXJ0eS12cy1pbi12cy11bmRlZmluZWQvMTlcblx0XHRcdHZhciBob29rcyA9IFNUT1JBR0VbIHR5cGUgXVsgaG9vayBdO1xuXHRcdFx0aWYoIGhvb2tzICkge1xuXHRcdFx0XHRob29rcy5wdXNoKCBob29rT2JqZWN0ICk7XG5cdFx0XHRcdGhvb2tzID0gX2hvb2tJbnNlcnRTb3J0KCBob29rcyApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGhvb2tzID0gWyBob29rT2JqZWN0IF07XG5cdFx0XHR9XG5cblx0XHRcdFNUT1JBR0VbIHR5cGUgXVsgaG9vayBdID0gaG9va3M7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogVXNlIGFuIGluc2VydCBzb3J0IGZvciBrZWVwaW5nIG91ciBob29rcyBvcmdhbml6ZWQgYmFzZWQgb24gcHJpb3JpdHkuIFRoaXMgZnVuY3Rpb24gaXMgcmlkaWN1bG91c2x5IGZhc3RlclxuXHRcdCAqIHRoYW4gYnViYmxlIHNvcnQsIGV0YzogaHR0cDovL2pzcGVyZi5jb20vamF2YXNjcmlwdC1zb3J0XG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gaG9va3MgVGhlIGN1c3RvbSBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGUgYXBwcm9wcmlhdGUgaG9va3MgdG8gcGVyZm9ybSBhbiBpbnNlcnQgc29ydCBvbi5cblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIF9ob29rSW5zZXJ0U29ydCggaG9va3MgKSB7XG5cdFx0XHR2YXIgdG1wSG9vaywgaiwgcHJldkhvb2s7XG5cdFx0XHRmb3IoIHZhciBpID0gMSwgbGVuID0gaG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdHRtcEhvb2sgPSBob29rc1sgaSBdO1xuXHRcdFx0XHRqID0gaTtcblx0XHRcdFx0d2hpbGUoICggcHJldkhvb2sgPSBob29rc1sgaiAtIDEgXSApICYmICBwcmV2SG9vay5wcmlvcml0eSA+IHRtcEhvb2sucHJpb3JpdHkgKSB7XG5cdFx0XHRcdFx0aG9va3NbIGogXSA9IGhvb2tzWyBqIC0gMSBdO1xuXHRcdFx0XHRcdC0tajtcblx0XHRcdFx0fVxuXHRcdFx0XHRob29rc1sgaiBdID0gdG1wSG9vaztcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGhvb2tzO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJ1bnMgdGhlIHNwZWNpZmllZCBob29rLiBJZiBpdCBpcyBhbiBhY3Rpb24sIHRoZSB2YWx1ZSBpcyBub3QgbW9kaWZpZWQgYnV0IGlmIGl0IGlzIGEgZmlsdGVyLCBpdCBpcy5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB0eXBlICdhY3Rpb25zJyBvciAnZmlsdGVycydcblx0XHQgKiBAcGFyYW0gaG9vayBUaGUgaG9vayAoIG5hbWVzcGFjZS5pZGVudGlmaWVyICkgdG8gYmUgcmFuLlxuXHRcdCAqIEBwYXJhbSBhcmdzIEFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBhY3Rpb24vZmlsdGVyLiBJZiBpdCdzIGEgZmlsdGVyLCBhcmdzIGlzIGFjdHVhbGx5IGEgc2luZ2xlIHBhcmFtZXRlci5cblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIF9ydW5Ib29rKCB0eXBlLCBob29rLCBhcmdzICkge1xuXHRcdFx0dmFyIGhhbmRsZXJzID0gU1RPUkFHRVsgdHlwZSBdWyBob29rIF0sIGksIGxlbjtcblxuXHRcdFx0aWYgKCAhaGFuZGxlcnMgKSB7XG5cdFx0XHRcdHJldHVybiAodHlwZSA9PT0gJ2ZpbHRlcnMnKSA/IGFyZ3NbMF0gOiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0bGVuID0gaGFuZGxlcnMubGVuZ3RoO1xuXHRcdFx0aWYgKCB0eXBlID09PSAnZmlsdGVycycgKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0YXJnc1sgMCBdID0gaGFuZGxlcnNbIGkgXS5jYWxsYmFjay5hcHBseSggaGFuZGxlcnNbIGkgXS5jb250ZXh0LCBhcmdzICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0aGFuZGxlcnNbIGkgXS5jYWxsYmFjay5hcHBseSggaGFuZGxlcnNbIGkgXS5jb250ZXh0LCBhcmdzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICggdHlwZSA9PT0gJ2ZpbHRlcnMnICkgPyBhcmdzWyAwIF0gOiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIHJldHVybiBhbGwgb2YgdGhlIHB1YmxpY2x5IGF2YWlsYWJsZSBtZXRob2RzXG5cdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XG5cblx0fTtcblxuXHR3aW5kb3cubm90aWZpY2F0aW9uID0gd2luZG93Lm5vdGlmaWNhdGlvbiB8fCB7fTtcblx0d2luZG93Lm5vdGlmaWNhdGlvbi5ob29rcyA9IG5ldyBFdmVudE1hbmFnZXIoKTtcblxufSApKCB3aW5kb3cgKTtcbiIsIihmdW5jdGlvbigkKSB7XG5cblx0JCggZG9jdW1lbnQgKS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cblx0XHQkKCAnI2NhcnJpZXItYm94ZXMgLnBvc3Rib3ggLnN3aXRjaC1jb250YWluZXIgaW5wdXQnICkuY2hhbmdlKCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHQkKCB0aGlzICkucGFyZW50cyggJy5zd2l0Y2gnICkuZmlyc3QoKS50b2dnbGVDbGFzcyggJ2FjdGl2ZScgKTtcblx0XHRcdG5vdGlmaWNhdGlvbi5ob29rcy5kb0FjdGlvbiggJ25vdGlmaWNhdGlvbi5jYXJyaWVyLnRvZ2dsZWQnLCAkKCB0aGlzICkgKTtcblx0XHR9ICk7XG5cblx0fSApO1xuXG59KShqUXVlcnkpO1xuIiwiKGZ1bmN0aW9uKCQpIHtcblxuXHQkKCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0XHQkKCAnLm5vdGlmaWNhdGlvbi1jb2xvci1waWNrZXI6dmlzaWJsZScgKS53cENvbG9yUGlja2VyKCk7XG5cdH0gKTtcblxuXHRub3RpZmljYXRpb24uaG9va3MuYWRkQWN0aW9uKCAnbm90aWZpY2F0aW9uLmNhcnJpZXIucmVwZWF0ZXIucm93LmFkZGVkJywgZnVuY3Rpb24oICRjbG9uZWQsICRyZXBlYXRlciApIHtcblx0XHQkY2xvbmVkLmZpbmQoICcubm90aWZpY2F0aW9uLWNvbG9yLXBpY2tlcicgKS53cENvbG9yUGlja2VyKCk7XG5cdH0gKTtcblxufSkoalF1ZXJ5KTtcbiIsIihmdW5jdGlvbigkKSB7XG5cblx0JCggZG9jdW1lbnQgKS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgJGltYWdlX2ZpZWxkICAgPSAkKCAnLm5vdGlmaWNhdGlvbi1pbWFnZS1maWVsZCcgKTtcblx0XHR2YXIgY2xpY2tlZF9pbWFnZV9maWVsZCA9IGZhbHNlO1xuXG5cdFx0JCggJ2JvZHknICkub24oICdjbGljaycsICcubm90aWZpY2F0aW9uLWltYWdlLWZpZWxkIC5pbWFnZSAucHJldmlldywgLm5vdGlmaWNhdGlvbi1pbWFnZS1maWVsZCAuc2VsZWN0LWltYWdlJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0JGNsaWNrZWRfaW1hZ2VfZmllbGQgPSAkKHRoaXMpLnBhcmVudHMoICcubm90aWZpY2F0aW9uLWltYWdlLWZpZWxkJyApO1xuXG5cdFx0XHRpZiAoIHdwLm1lZGlhLmZyYW1lcy5mcmFtZSApIHtcblx0XHRcdFx0d3AubWVkaWEuZnJhbWVzLmZyYW1lLm9wZW4oKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR3cC5tZWRpYS5mcmFtZXMuZnJhbWUgPSB3cC5tZWRpYSgge1xuXHRcdFx0XHR0aXRsZTogbm90aWZpY2F0aW9uLmkxOG4uc2VsZWN0X2ltYWdlLFxuXHRcdFx0XHRtdWx0aXBsZTogZmFsc2UsXG5cdFx0XHRcdGxpYnJhcnk6IHtcblx0XHRcdFx0XHR0eXBlOiAnaW1hZ2UnXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJ1dHRvbjoge1xuXHRcdFx0XHRcdHRleHQ6IG5vdGlmaWNhdGlvbi5pMThuLnVzZV9zZWxlY3RlZF9pbWFnZVxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cblx0XHRcdHZhciBtZWRpYV9zZXRfaW1hZ2UgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHNlbGVjdGlvbiA9IHdwLm1lZGlhLmZyYW1lcy5mcmFtZS5zdGF0ZSgpLmdldCggJ3NlbGVjdGlvbicgKTtcblxuXHRcdFx0XHRpZiAoICEgc2VsZWN0aW9uICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNlbGVjdGlvbi5lYWNoKCBmdW5jdGlvbiggYXR0YWNobWVudCApIHtcblx0XHRcdFx0XHQkY2xpY2tlZF9pbWFnZV9maWVsZC5hZGRDbGFzcyggJ3NlbGVjdGVkJyApO1xuXHRcdFx0XHRcdCRjbGlja2VkX2ltYWdlX2ZpZWxkLmZpbmQoICcuaW1hZ2UtaW5wdXQnICkudmFsKCBhdHRhY2htZW50LmlkICk7XG5cdFx0XHRcdFx0JGNsaWNrZWRfaW1hZ2VfZmllbGQuZmluZCggJy5pbWFnZSAucHJldmlldycgKS5hdHRyKCAnc3JjJywgYXR0YWNobWVudC5hdHRyaWJ1dGVzLnNpemVzLnRodW1ibmFpbC51cmwgKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fTtcblxuXHRcdFx0d3AubWVkaWEuZnJhbWVzLmZyYW1lLm9uKCAnc2VsZWN0JywgbWVkaWFfc2V0X2ltYWdlICk7XG5cdFx0XHR3cC5tZWRpYS5mcmFtZXMuZnJhbWUub3BlbigpO1xuXHRcdH0gKTtcblxuXHRcdCRpbWFnZV9maWVsZC5maW5kKCAnLmltYWdlIC5jbGVhcicgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdCQoIHRoaXMgKS5wYXJlbnRzKCAnLm5vdGlmaWNhdGlvbi1pbWFnZS1maWVsZCcgKS5yZW1vdmVDbGFzcyggJ3NlbGVjdGVkJyApO1xuXHRcdFx0JCggdGhpcyApLnBhcmVudHMoICcubm90aWZpY2F0aW9uLWltYWdlLWZpZWxkJyApLmZpbmQoICcuaW1hZ2UtaW5wdXQnICkudmFsKCAnJyApO1xuXHRcdFx0JCggdGhpcyApLnBhcmVudHMoICcubm90aWZpY2F0aW9uLWltYWdlLWZpZWxkJyApLmZpbmQoICcuaW1hZ2UgLnByZXZpZXcnICkuYXR0ciggJ3NyYycsICcnICk7XG5cdFx0fSApO1xuXG5cdH0gKTtcblxufSkoalF1ZXJ5KTtcbiIsIihmdW5jdGlvbigkKSB7XG5cblx0JCggZG9jdW1lbnQgKS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgcmVjaXBpZW50X3R5cGVfc2VsZWN0ID0gJy5yZWNpcGllbnRzLXJlcGVhdGVyIHNlbGVjdC5yZWNpcGllbnQtdHlwZSc7XG5cblx0XHQvLyBDaGFuZ2VkIHJlY2lwaWVudCB0eXBlXG5cdFx0JCggJ2JvZHknICkub24oICdjaGFuZ2UnLCByZWNpcGllbnRfdHlwZV9zZWxlY3QsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICRzZWxlY3QgICAgPSAkKCB0aGlzICksXG5cdFx0XHRcdCRyZWNpcGllbnQgPSAkc2VsZWN0LnBhcmVudCgpLnBhcmVudCgpLm5leHQoKS5maW5kKCAnLnJlY2lwaWVudC12YWx1ZScgKS5maXJzdCgpLFxuXHRcdFx0XHR0eXBlICAgICAgID0gJHNlbGVjdC52YWwoKSxcblx0XHRcdFx0JHRhYmxlICAgICA9ICRzZWxlY3QucGFyZW50cyggJy5yZWNpcGllbnRzLXJlcGVhdGVyJyApLmZpcnN0KCk7XG5cblx0XHRcdG5vdGlmaWNhdGlvbi5ob29rcy5kb0FjdGlvbiggJ25vdGlmaWNhdGlvbi5jYXJyaWVyLnJlY2lwaWVudHMudHlwZS5jaGFuZ2VkJywgdHlwZSwgJHNlbGVjdCwgJHJlY2lwaWVudCwgJHRhYmxlICk7XG4gXHRcdH0gKTtcblxuXHRcdC8vIEdldCByZWNpcGllbnQgZmllbGQgYWNjb3JkaW5nIHRvIHR5cGVcblxuXHRcdG5vdGlmaWNhdGlvbi5ob29rcy5hZGRBY3Rpb24oICdub3RpZmljYXRpb24uY2Fycmllci5yZWNpcGllbnRzLnR5cGUuY2hhbmdlZCcsIGZ1bmN0aW9uKCB0eXBlLCAkc2VsZWN0LCAkcmVjaXBpZW50LCAkdGFibGUgKSB7XG5cblx0XHRcdGRhdGEgPSB7XG5cdFx0XHRcdGFjdGlvbiAgICAgOiAnZ2V0X3JlY2lwaWVudF9pbnB1dCcsXG5cdFx0XHRcdHR5cGUgICAgICAgOiB0eXBlLFxuXHRcdFx0XHRjYXJyaWVyICAgIDogJHRhYmxlLmRhdGEoICdjYXJyaWVyJyApLFxuXHRcdFx0XHRpbnB1dF9uYW1lIDogJHJlY2lwaWVudC5hdHRyKCAnbmFtZScgKVxuXHRcdFx0fVxuXG5cdFx0XHQkcmVjaXBpZW50LmF0dHIoICdkaXNhYmxlZCcsIHRydWUgKTtcblxuXHRcdFx0JC5wb3N0KCBub3RpZmljYXRpb24uYWpheHVybCwgZGF0YSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdFx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IHRydWUgKSB7XG5cdFx0ICAgIFx0XHR2YXIgJHJlcGxhY2VtZW50ICAgICAgICAgPSAkKCByZXNwb25zZS5kYXRhICksXG5cdFx0ICAgIFx0XHRcdCRyZWNpcGllbnRfY29udGFpbmVyID0gJHJlY2lwaWVudC5wYXJlbnQoKTtcblx0XHQgICAgXHRcdCRyZWNpcGllbnRfY29udGFpbmVyLmh0bWwoICcnICk7XG5cdFx0ICAgIFx0XHQkcmVjaXBpZW50X2NvbnRhaW5lci5hcHBlbmQoICRyZXBsYWNlbWVudCApO1xuXHRcdCAgICBcdFx0bm90aWZpY2F0aW9uLmhvb2tzLmRvQWN0aW9uKCAnbm90aWZpY2F0aW9uLmNhcnJpZXIucmVjaXBpZW50cy5yZWNpcGllbnQucmVwbGFjZWQnLCAkcmVwbGFjZW1lbnQgKTtcblx0XHQgICAgXHR9XG5cblx0XHRcdH0gKTtcblxuXHRcdH0gKTtcblxuXHR9ICk7XG5cbn0pKGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24oJCkge1xuXG5cdCQoIGRvY3VtZW50ICkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHJlY2FsY3VsYXRlX3Jvd3MgPSBmdW5jdGlvbiggJHJlcGVhdGVyICkge1xuXG5cdFx0XHR2YXIgaSA9IDA7XG5cblx0XHRcdCRyZXBlYXRlci5maW5kKCAnLnJvdzpub3QoLmhlYWRlcik6bm90KC5tb2RlbCknICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRyb3cgICAgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JGlucHV0cyA9ICRyb3cuZmluZCggJy5ub3RpZmljYXRpb24tZmllbGQ6bm90KC5zZWxlY3RpemUtY29udHJvbCk6bm90KC5zZWxlY3RpemUtZHJvcGRvd24pJyApO1xuXG5cdFx0XHRcdCRpbnB1dHMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHR2YXIgJGlucHV0ICAgID0gJCh0aGlzKSxcblx0XHRcdFx0XHRcdHBhcnRfbmFtZSA9ICRpbnB1dC5hdHRyKCduYW1lJyk7XG5cblx0XHRcdFx0XHQkaW5wdXQuYXR0ciggJ25hbWUnLCBwYXJ0X25hbWUucmVwbGFjZSggLyguKilcXFsoWzAtOV0rKVxcXS8sICckMVsnICsgaSArICddJyApICk7XG5cblx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdGkrKztcblxuXHRcdFx0fSApO1xuXG5cdFx0fVxuXG5cdFx0Ly8gU2V0IG1vZGVsIGluIGRpc2FibGUgc3RhdGVcblxuXHRcdCQoICcuZmllbGRzLXJlcGVhdGVyIC5tb2RlbCAuc3ViZmllbGQnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHQkKCB0aGlzICkuZmluZCggJ2lucHV0LCB0ZXh0YXJlYSwgc2VsZWN0JyApLmF0dHIoICdkaXNhYmxlZCcsIHRydWUgKTtcblx0XHR9ICk7XG5cblx0XHQvLyBSZW1vdmUgcm93XG5cblx0XHRmdW5jdGlvbiByZW1vdmVfcm93KCAkcmVtb3ZlX2J1dHRvbiApIHtcblxuXHRcdFx0dmFyICRyZXBlYXRlciA9ICRyZW1vdmVfYnV0dG9uLnBhcmVudHMoICcuZmllbGRzLXJlcGVhdGVyJyApLmZpcnN0KCk7XG5cblx0XHRcdCRyZW1vdmVfYnV0dG9uLnBhcmVudHMoICcucm93JyApLmZpcnN0KCkuYW5pbWF0ZSggeyBvcGFjaXR5OiAwIH0sIDQwMCwgJ2xpbmVhcicsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkKCB0aGlzICkucmVtb3ZlKCk7XG5cdCAgICAgICAgICAgIHJlY2FsY3VsYXRlX3Jvd3MoICRyZXBlYXRlciApO1xuXHQgICAgICAgICAgICBub3RpZmljYXRpb24uaG9va3MuZG9BY3Rpb24oICdub3RpZmljYXRpb24ucmVwZWF0ZXIucm93LnJlbW92ZWQnLCAkcmVwZWF0ZXIgKTtcblx0ICAgICAgICB9ICk7XG5cblx0XHR9XG5cblx0XHQkKCAnLmZpZWxkcy1yZXBlYXRlcicgKS5vbiggJ2NsaWNrJywgJy5yb3c6bm90KC5oZWFkZXIpOm5vdCgubW9kZWwpIC5oYW5kbGUnLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyICRyZW1vdmVfYnV0dG9uID0gJCggdGhpcyApO1xuXG5cdFx0XHRpZiAoICQoIHdpbmRvdyApLndpZHRoKCkgPiA3NjggKSB7XG5cdFx0XHRcdHJlbW92ZV9yb3coICRyZW1vdmVfYnV0dG9uICk7XG5cdFx0XHR9IGVsc2UgaWYgKCB3aW5kb3cuY29uZmlybSggbm90aWZpY2F0aW9uLmkxOG4ucmVtb3ZlX2NvbmZpcm1hdGlvbiApICkge1xuXHRcdFx0XHRyZW1vdmVfcm93KCAkcmVtb3ZlX2J1dHRvbiApO1xuXHRcdFx0fVxuXG5cdFx0fSApO1xuXG5cdFx0Ly8gQWRkIHJvd1xuXG5cdFx0JCggJy5hZGQtbmV3LXJlcGVhdGVyLWZpZWxkJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdHZhciAkcmVwZWF0ZXIgPSAkKCB0aGlzICkucHJldiggJy5maWVsZHMtcmVwZWF0ZXInICksXG5cdFx0XHRcdCRtb2RlbCAgICA9ICRyZXBlYXRlci5maW5kKCAnLnJvdy5tb2RlbCcgKSxcblx0XHRcdFx0JGNsb25lZCAgID0gJG1vZGVsLmNsb25lKCkucmVtb3ZlQ2xhc3MoICdtb2RlbCcgKTtcblxuXHRcdFx0JGNsb25lZC5maW5kKCAnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnICkuYXR0ciggJ2Rpc2FibGVkJywgZmFsc2UgKTtcblx0XHRcdCRjbG9uZWQuYXBwZW5kVG8oICRyZXBlYXRlciApXG5cblx0XHRcdHJlY2FsY3VsYXRlX3Jvd3MoICRyZXBlYXRlciApO1xuXG5cdFx0XHRub3RpZmljYXRpb24uaG9va3MuZG9BY3Rpb24oICdub3RpZmljYXRpb24ucmVwZWF0ZXIucm93LmFkZGVkJywgJGNsb25lZCwgJHJlcGVhdGVyICk7XG5cblx0XHR9ICk7XG5cblx0fSApO1xuXG59KShqUXVlcnkpO1xuIiwiKCBmdW5jdGlvbigkKSB7XG5cblx0JCggZG9jdW1lbnQgKS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgJGJ1dHRvbiA9ICQoICcjZXhwb3J0LW5vdGlmaWNhdGlvbnMgLmJ1dHRvbicgKTtcblx0XHR2YXIgJGl0ZW1zICA9ICQoICcjZXhwb3J0LW5vdGlmaWNhdGlvbnMgdWwgbGkgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOm5vdCguc2VsZWN0LWFsbCknICk7XG5cdFx0dmFyIGxpbmsgICAgPSAkYnV0dG9uLnByb3AoICdocmVmJyApO1xuXG5cdFx0ZnVuY3Rpb24gZ2V0X3NlbGVjdGVkX2l0ZW1zKCkge1xuXHRcdFx0dmFyIGl0ZW1zID0gW107XG5cdFx0XHQkLmVhY2goICRpdGVtcywgZnVuY3Rpb24oIGluZGV4LCBpdGVtICkge1xuXHRcdFx0XHQkaXRlbSA9ICQoIGl0ZW0gKTtcblx0XHRcdFx0aWYgKCAkaXRlbS5pcyggJzpjaGVja2VkJyApICkge1xuXHRcdFx0XHRcdGl0ZW1zLnB1c2goICRpdGVtLnZhbCgpICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHRcdHJldHVybiBpdGVtcy5qb2luKCk7XG5cdFx0fVxuXG5cdFx0JCggJyNleHBvcnQtbm90aWZpY2F0aW9ucyBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nICkuY2hhbmdlKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0aWYgKCAkKCB0aGlzICkuaGFzQ2xhc3MoICdzZWxlY3QtYWxsJyApICkge1xuXG5cdFx0XHRcdGlmICggJCggdGhpcyApLmlzKCAnOmNoZWNrZWQnICkgKSB7XG5cdFx0XHRcdFx0JGl0ZW1zLnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCRpdGVtcy5wcm9wKCAnY2hlY2tlZCcsIGZhbHNlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHQkYnV0dG9uLnByb3AoICdocmVmJywgbGluayArIGdldF9zZWxlY3RlZF9pdGVtcygpICk7XG5cblx0XHR9ICk7XG5cblx0fSApO1xuXG5cdCQoIGRvY3VtZW50ICkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyICRidXR0b24gID0gJCggJyNpbXBvcnQtbm90aWZpY2F0aW9ucyAuYnV0dG9uJyApO1xuXHRcdHZhciAkZmlsZSAgICA9ICQoICcjaW1wb3J0LW5vdGlmaWNhdGlvbnMgaW5wdXRbdHlwZT1cImZpbGVcIl0nICk7XG5cdFx0dmFyIGZpbGVzICAgID0gW107XG5cdFx0dmFyICRtZXNzYWdlID0gJCggJyNpbXBvcnQtbm90aWZpY2F0aW9ucyAubWVzc2FnZScgKTtcblxuXHRcdGZ1bmN0aW9uIGNsZWFyX21lc3NhZ2UoKSB7XG5cdFx0XHQkbWVzc2FnZS5yZW1vdmVDbGFzcyggJ3N1Y2Nlc3MnICkucmVtb3ZlQ2xhc3MoICdlcnJvcicgKS50ZXh0KCAnJyApO1xuXHRcdH07XG5cblx0XHRmdW5jdGlvbiBhZGRfbWVzc2FnZSggdHlwZSwgbWVzc2FnZSApIHtcblx0XHRcdGNsZWFyX21lc3NhZ2UoKTtcblx0XHRcdCRtZXNzYWdlLmFkZENsYXNzKCB0eXBlICkudGV4dCggbWVzc2FnZSApO1xuXHRcdH07XG5cblx0XHQkZmlsZS5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGZpbGVzID0gZXZlbnQudGFyZ2V0LmZpbGVzO1xuXHRcdFx0JC5lYWNoKCBmaWxlcywgZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0XHRcdGlmICggJ2FwcGxpY2F0aW9uL2pzb24nICE9PSB2YWx1ZS50eXBlICkge1xuXHRcdFx0XHRcdGFkZF9tZXNzYWdlKCAnZXJyb3InLCBub3RpZmljYXRpb24uaTE4bi52YWxpZF9qc29uX29ubHkgKTtcblx0XHRcdFx0XHQkZmlsZS52YWwoICcnICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2xlYXJfbWVzc2FnZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXG5cdFx0JGJ1dHRvbi5vbiggJ2NsaWNrJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRpZiAoICd0cnVlJyA9PT0gJGJ1dHRvbi5kYXRhKCAncHJvY2Vzc2luZycgKSApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHR2YXIgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuXHRcdFx0JC5lYWNoKCBmaWxlcywgZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0XHRcdGRhdGEuYXBwZW5kKCBrZXksIHZhbHVlICk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdGRhdGEuYXBwZW5kKCAnYWN0aW9uJywgJ25vdGlmaWNhdGlvbl9pbXBvcnRfanNvbicgKTtcblx0XHRcdGRhdGEuYXBwZW5kKCAndHlwZScsICdub3RpZmljYXRpb25zJyApO1xuXHRcdFx0ZGF0YS5hcHBlbmQoICdub25jZScsICRidXR0b24uZGF0YSggJ25vbmNlJyApICk7XG5cblx0XHRcdGFkZF9tZXNzYWdlKCAnbmV1dHJhbCcsIG5vdGlmaWNhdGlvbi5pMThuLmltcG9ydGluZ19kYXRhICk7XG5cdFx0XHQkYnV0dG9uLmRhdGEoICdwcm9jZXNzaW5nJywgJ3RydWUnICk7XG5cblx0XHRcdCQuYWpheCgge1xuXHRcdCAgICAgICAgdXJsOiBub3RpZmljYXRpb24uYWpheHVybCxcblx0XHQgICAgICAgIHR5cGU6ICdQT1NUJyxcblx0XHQgICAgICAgIGRhdGE6IGRhdGEsXG5cdFx0ICAgICAgICBjYWNoZTogZmFsc2UsXG5cdFx0ICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuXHRcdCAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxuXHRcdCAgICAgICAgY29udGVudFR5cGU6IGZhbHNlLFxuXHRcdCAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXHRcdCAgICAgICAgXHRpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgKSB7XG5cdFx0ICAgICAgICBcdFx0YWRkX21lc3NhZ2UoICdzdWNjZXNzJywgcmVzcG9uc2UuZGF0YSApO1xuXHRcdCAgICAgICAgXHRcdCRmaWxlLnZhbCggJycgKTtcblx0XHQgICAgICAgIFx0fSBlbHNlIHtcblx0XHQgICAgICAgIFx0XHRhZGRfbWVzc2FnZSggJ2Vycm9yJywgcmVzcG9uc2UuZGF0YSApO1xuXHRcdCAgICAgICAgXHR9XG5cdFx0ICAgICAgICBcdCRidXR0b24uZGF0YSggJ3Byb2Nlc3NpbmcnLCAnZmFsc2UnICk7XG5cdFx0ICAgICAgICB9LFxuXHRcdCAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCBqcVhIUiwgdGV4dF9zdGF0dXMsIGVycm9yX3Rocm93biApIHtcblx0XHQgICAgICAgICAgICBhZGRfbWVzc2FnZSggJ2Vycm9yJywgZXJyb3JfdGhyb3duICk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgIH0gKTtcblxuXHRcdH0gKTtcblxuXHR9ICk7XG5cbn0gKShqUXVlcnkpO1xuIiwiKCBmdW5jdGlvbigkKSB7XG5cblx0JCggZG9jdW1lbnQgKS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cblx0XHQkKCAnLmxvZy1jb250YWluZXIgLmxvZy1pdGVtIC5sb2ctaGFuZGxlJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQkKCB0aGlzICkucGFyZW50KCkudG9nZ2xlQ2xhc3MoICdleHBhbmRlZCcgKTtcblx0XHRcdCQoIHRoaXMgKS5maW5kKCAnLmluZGljYXRvcicgKS50b2dnbGVDbGFzcyggJ2Rhc2hpY29ucy1hcnJvdy1kb3duIGRhc2hpY29ucy1hcnJvdy11cCcgKTtcblxuIFx0XHR9ICk7XG5cblx0fSApO1xuXG59ICkoalF1ZXJ5KTtcbiIsIihmdW5jdGlvbigkKSB7XG5cblx0JCggZG9jdW1lbnQgKS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cblx0XHQvLyBDb3B5IE1lcmdlIFRhZy5cblx0XHR2YXIgbWVyZ2VfdGFnX2NsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoICdjb2RlLm5vdGlmaWNhdGlvbi1tZXJnZS10YWcnICk7XG5cblx0XHRtZXJnZV90YWdfY2xpcGJvYXJkLm9uKCAnc3VjY2VzcycsIGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0ICAgIHZhciAkY29kZSA9ICQoIGUudHJpZ2dlciApLFxuXHRcdFx0ICAgIHRhZyAgID0gJGNvZGUudGV4dCgpO1xuXG5cdFx0XHRub3RpZmljYXRpb24uaG9va3MuZG9BY3Rpb24oICdub3RpZmljYXRpb24ubWVyZ2VfdGFnLmNvcGllZCcsIHRhZywgJGNvZGUgKTtcblxuXHRcdFx0JGNvZGUudGV4dCggbm90aWZpY2F0aW9uLmkxOG4uY29waWVkICk7XG5cblx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkY29kZS50ZXh0KCB0YWcgKTtcblx0XHRcdH0sIDgwMCApO1xuXG5cdFx0fSApO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSBhY2NvcmRpb24uXG5cdFx0dmFyIGNvbGxhcHNlID0gJCggJy5ub3RpZmljYXRpb25fbWVyZ2VfdGFnc19hY2NvcmRpb24nICkuY29sbGFwc2UoKTtcblxuXG5cdFx0Ly8gU3dhcCBNZXJnZSBUYWdzIGxpc3QgZm9yIG5ldyBUcmlnZ2VyLlxuXHRcdG5vdGlmaWNhdGlvbi5ob29rcy5hZGRBY3Rpb24oICdub3RpZmljYXRpb24udHJpZ2dlci5jaGFuZ2VkJywgZnVuY3Rpb24oICR0cmlnZ2VyICkge1xuXG5cdFx0XHR2YXIgdHJpZ2dlcl9zbHVnID0gJHRyaWdnZXIudmFsKCk7XG5cblx0XHRcdGRhdGEgPSB7XG5cdFx0XHRcdGFjdGlvbiAgICAgICA6ICdnZXRfbWVyZ2VfdGFnc19mb3JfdHJpZ2dlcicsXG5cdFx0XHRcdHRyaWdnZXJfc2x1ZyA6IHRyaWdnZXJfc2x1Z1xuXHRcdFx0fVxuXG5cdFx0XHQkLnBvc3QoIGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblxuXHRcdCAgICBcdGlmICggcmVzcG9uc2Uuc3VjY2VzcyA9PSBmYWxzZSApIHtcblx0XHQgICAgXHRcdGFsZXJ0KCByZXNwb25zZS5kYXRhICk7XG5cdFx0ICAgIFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkKCAnI25vdGlmaWNhdGlvbl9tZXJnZV90YWdzIC5pbnNpZGUnICkuaHRtbCggcmVzcG9uc2UuZGF0YSApO1xuXHRcdFx0XHRcdGNvbGxhcHNlID0gJCggJy5ub3RpZmljYXRpb25fbWVyZ2VfdGFnc19hY2NvcmRpb24nICkuY29sbGFwc2UoKTtcblx0XHQgICAgXHR9XG5cblx0XHRcdH0gKTtcblxuXHRcdH0gKTtcblxuXHRcdC8vIFNlYXJjaCBNZXJnZSBUYWdzLlxuXHRcdCQoICdib2R5JyApLm9uKCAna2V5dXAnLCAnI25vdGlmaWNhdGlvbi1zZWFyY2gtbWVyZ2UtdGFncycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgdmFsID0gJCggdGhpcyApLnZhbCgpLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRcdGlmICggJCggdGhpcyApLnZhbCgpLmxlbmd0aCA+IDAgKSB7XG5cblx0XHRcdFx0Y29sbGFwc2UudHJpZ2dlciggJ29wZW4nICk7XG5cblx0XHRcdFx0JCggJy5ub3RpZmljYXRpb25fbWVyZ2VfdGFnc19hY2NvcmRpb24gaDIsIC5ub3RpZmljYXRpb25fbWVyZ2VfdGFnc19hY2NvcmRpb24gLnRhZ3MtZ3JvdXAnICkuaGlkZSgpO1xuXG5cdFx0XHRcdCQoICcuaW5zaWRlIGxpJyApLmVhY2goIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRcdCQoIHRoaXMgKS5oaWRlKCk7XG5cblx0XHRcdFx0XHR2YXIgdGV4dCA9ICQoIHRoaXMgKS5maW5kKCAnLmludHJvIGNvZGUnICkudGV4dCgpLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRcdFx0XHRpZiAoIC0xICE9PSB0ZXh0LmluZGV4T2YoIHZhbCApKSB7XG5cdFx0XHRcdFx0XHQkKCB0aGlzICkuc2hvdygpO1xuXHRcdFx0XHRcdFx0dmFyIHBhcmVudENsYXNzID0gJCggdGhpcyApLnBhcmVudHMoICd1bCcgKS5kYXRhKCAnZ3JvdXAnICk7XG5cdFx0XHRcdFx0XHQkKCAnW2RhdGEtZ3JvdXA9JyArIHBhcmVudENsYXNzICsgJ10nICkuc2hvdygpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoICcubm90aWZpY2F0aW9uX21lcmdlX3RhZ3NfYWNjb3JkaW9uIGgyLCAuaW5zaWRlIGxpJyApLnNob3coKTtcblx0XHRcdFx0Y29sbGFwc2UudHJpZ2dlciggJ2Nsb3NlJyApO1xuXHRcdFx0fVxuXG5cdFx0fSApO1xuXG5cdH0gKTtcblxufSkoalF1ZXJ5KTtcbiIsIiggZnVuY3Rpb24oJCkge1xuXG5cdCQoIGRvY3VtZW50ICkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXG5cdFx0JCggJy5ub3RpZmljYXRpb24tcHJldHR5LXNlbGVjdDp2aXNpYmxlJyApLnNlbGVjdGl6ZSgpO1xuXG5cdFx0bm90aWZpY2F0aW9uLmhvb2tzLmFkZEFjdGlvbiggJ25vdGlmaWNhdGlvbi5jYXJyaWVyLnJlY2lwaWVudHMucmVjaXBpZW50LnJlcGxhY2VkJywgZnVuY3Rpb24oICRpbnB1dCApIHtcblx0XHRcdGlmICggJGlucHV0Lmhhc0NsYXNzKCAnbm90aWZpY2F0aW9uLXByZXR0eS1zZWxlY3QnICkgKSB7XG5cdFx0XHRcdCRpbnB1dC5zZWxlY3RpemUoKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHRub3RpZmljYXRpb24uaG9va3MuYWRkQWN0aW9uKCAnbm90aWZpY2F0aW9uLnJlcGVhdGVyLnJvdy5hZGRlZCcsIGZ1bmN0aW9uKCAkcm93LCAkcmVwZWF0ZXIgKSB7XG5cdFx0XHQkcm93LmZpbmQoICdzZWxlY3Qubm90aWZpY2F0aW9uLXByZXR0eS1zZWxlY3QnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQoIHRoaXMgKS5zZWxlY3RpemUoKTtcblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cblx0fSApO1xuXG59ICkoalF1ZXJ5KTtcbiIsIiggZnVuY3Rpb24oICQgKSB7XG5cblx0JChkb2N1bWVudCkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXHRcdCQoICcudW5kZXJkZXYtc2V0dGluZ3MgLnByZXR0eS1zZWxlY3QnICkuc2VsZWN0aXplKCk7XG5cdFx0bmV3IGpRdWVyeUNvbGxhcHNlKCAkKCAnLnVuZGVyZGV2LXNldHRpbmdzIC5zZXR0aW5nLWdyb3VwJyApLCB7XG5cdFx0XHRvcGVuOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5zbGlkZURvd24oMTAwKTtcblx0XHRcdH0sXG5cdFx0XHRjbG9zZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuc2xpZGVVcCgxMDApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XHQkKCAnLnNldHRpbmctZ3JvdXAtaGVhZGVyJyApLmNsaWNrKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciB3cmFwcGVyID0gJCh0aGlzKS5wYXJlbnRzKCcuc2V0dGluZy1ncm91cCcpLmZpbmQoICcuZm9ybS10YWJsZScgKTtcblx0XHRcdHdyYXBwZXIudHJpZ2dlciggJ3RvZ2dsZScgKTtcblx0XHR9ICk7XG5cdH0gKTtcblxufSApKCBqUXVlcnkgKTtcbiIsIihmdW5jdGlvbigkKSB7XG5cblx0JCggZG9jdW1lbnQgKS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cblx0XHQvLyBDb3B5IHRoZSB1cmxcblxuXHRcdHZhciBtZXJnZV90YWdfY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZCggJyNub3RpZmljYXRpb24tc3RvcnkgY29kZScgKTtcblxuXHRcdG1lcmdlX3RhZ19jbGlwYm9hcmQub24oICdzdWNjZXNzJywgZnVuY3Rpb24oZSkge1xuXG5cdFx0ICAgIHZhciAkY29kZSAgICAgPSAkKCBlLnRyaWdnZXIgKSxcblx0XHRcdCAgICBjb3B5X3RleHQgPSAkY29kZS5maW5kKCAnc3BhbicgKS50ZXh0KCk7XG5cblx0XHRcdCRjb2RlLmZpbmQoICdzcGFuJyApLnRleHQoIG5vdGlmaWNhdGlvbi5pMThuLmNvcGllZCApO1xuXG5cdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0JGNvZGUuZmluZCggJ3NwYW4nICkudGV4dCggY29weV90ZXh0ICk7XG5cdFx0XHR9LCA4MDAgKTtcblxuXHRcdH0gKTtcblxuXHR9ICk7XG5cbn0pKGpRdWVyeSk7XG4iLCIoIGZ1bmN0aW9uKCQpIHtcblxuXHQkKCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbigpIHtcblxuXHRcdCQoICcuY29sdW1uLXN3aXRjaCAub25vZmZzd2l0Y2gnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0dmFyICRzd2l0Y2ggPSAkKCB0aGlzICksXG5cdFx0XHRcdHBvc3RfaWQgPSAkc3dpdGNoLmRhdGEoICdwb3N0aWQnICk7XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdG5vdGlmaWNhdGlvbi5ob29rcy5kb0FjdGlvbiggJ25vdGlmaWNhdGlvbi5zdGF0dXMuY2hhbmdlZCcsICRzd2l0Y2gsIHBvc3RfaWQgKTtcblxuIFx0XHR9ICk7XG5cbiBcdFx0bm90aWZpY2F0aW9uLmhvb2tzLmFkZEFjdGlvbiggJ25vdGlmaWNhdGlvbi5zdGF0dXMuY2hhbmdlZCcsIGZ1bmN0aW9uKCAkc3dpdGNoLCBwb3N0X2lkICkge1xuXG4gXHRcdFx0dmFyIHN0YXR1cyA9ICEgJHN3aXRjaC5maW5kKCAnaW5wdXQnICkuYXR0ciggJ2NoZWNrZWQnICk7XG5cbiBcdFx0XHQkc3dpdGNoLmFkZENsYXNzKCAnbG9hZGluZycgKTtcblxuIFx0XHRcdGRhdGEgPSB7XG5cdFx0XHRcdGFjdGlvbiA6ICdjaGFuZ2Vfbm90aWZpY2F0aW9uX3N0YXR1cycsXG5cdFx0XHRcdHBvc3RfaWQ6IHBvc3RfaWQsXG5cdFx0XHRcdHN0YXR1cyA6IHN0YXR1cyxcblx0XHRcdFx0bm9uY2UgIDogJHN3aXRjaC5kYXRhKCAnbm9uY2UnIClcblx0XHRcdH1cblxuXHRcdFx0JC5wb3N0KCBub3RpZmljYXRpb24uYWpheHVybCwgZGF0YSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdFx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IHRydWUgKSB7XG5cdFx0ICAgIFx0XHQkc3dpdGNoLnJlbW92ZUNsYXNzKCAnbG9hZGluZycgKTtcblx0IFx0XHRcdFx0JHN3aXRjaC5maW5kKCAnaW5wdXQnICkuYXR0ciggJ2NoZWNrZWQnLCBzdGF0dXMgKTtcblx0XHQgICAgXHR9IGVsc2Uge1xuXHRcdCAgICBcdFx0YWxlcnQoIHJlc3BvbnNlLmRhdGEgKTtcblx0XHQgICAgXHR9XG5cblx0XHRcdH0gKTtcblxuIFx0XHR9ICk7XG5cblx0fSApO1xuXG59ICkoalF1ZXJ5KTtcbiIsIiggZnVuY3Rpb24oJCkge1xuXG5cdCQoIGRvY3VtZW50ICkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXG5cdFx0JCggJy5ncm91cC1zeW5jIC5maWVsZC1hY3Rpb25zIC5ub3RpZmljYXRpb24tc3luYy1hbGwnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0dmFyICRtYXN0ZXJfYnV0dG9uID0gJCggdGhpcyApO1xuXG5cdFx0XHRpZiAoICRtYXN0ZXJfYnV0dG9uLmF0dHIoICdkaXNhYmxlZCcgKSApIHtcbiBcdFx0XHRcdHJldHVybiBmYWxzZTtcbiBcdFx0XHR9XG5cblx0XHRcdCRtYXN0ZXJfYnV0dG9uLmF0dHIoICdkaXNhYmxlZCcsIHRydWUgKTtcblxuXHRcdFx0JCggJy5ncm91cC1zeW5jIC5maWVsZC1ub3RpZmljYXRpb25zIHRyJyApLmVhY2goIGZ1bmN0aW9uKCBudW0sIG5vdGlmaWNhdGlvbl9yb3cgKSB7XG5cblx0XHRcdFx0dmFyICRidXR0b24gPSAkKCBub3RpZmljYXRpb25fcm93ICkuZmluZCggJy5idXR0b24ubm90aWZpY2F0aW9uLXN5bmMnICk7XG5cblx0XHRcdFx0aWYgKCAkYnV0dG9uLmRhdGEoICdzeW5jLXR5cGUnICkgPT09ICRtYXN0ZXJfYnV0dG9uLmRhdGEoICd0eXBlJyApICkge1xuXHRcdFx0XHRcdG5vdGlmaWNhdGlvbi5ob29rcy5kb0FjdGlvbiggJ25vdGlmaWNhdGlvbi5zeW5jLmluaXQnLCAkYnV0dG9uICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSApO1xuXG4gXHRcdH0gKTtcblxuXHRcdCQoICcuZ3JvdXAtc3luYyAuZmllbGQtbm90aWZpY2F0aW9ucyB0ZCA+IC5idXR0b24ubm90aWZpY2F0aW9uLXN5bmMnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRub3RpZmljYXRpb24uaG9va3MuZG9BY3Rpb24oICdub3RpZmljYXRpb24uc3luYy5pbml0JywgJCggdGhpcyApICk7XG4gXHRcdH0gKTtcblxuIFx0XHRub3RpZmljYXRpb24uaG9va3MuYWRkQWN0aW9uKCAnbm90aWZpY2F0aW9uLnN5bmMuaW5pdCcsIGZ1bmN0aW9uKCAkYnV0dG9uICkge1xuXG4gXHRcdFx0aWYgKCAkYnV0dG9uLmF0dHIoICdkaXNhYmxlZCcgKSApIHtcbiBcdFx0XHRcdHJldHVybiBmYWxzZTtcbiBcdFx0XHR9XG5cbiBcdFx0XHR2YXIgc3luY190eXBlID0gJGJ1dHRvbi5kYXRhKCAnc3luYy10eXBlJyApLFxuIFx0XHRcdFx0aGFzaCAgICAgID0gJGJ1dHRvbi5kYXRhKCAnc3luYy1oYXNoJyApLFxuIFx0XHRcdFx0bm9uY2UgICAgID0gJGJ1dHRvbi5kYXRhKCAnbm9uY2UnICksXG4gXHRcdFx0XHRsYWJlbCAgICAgPSAkYnV0dG9uLnRleHQoKTtcblxuXHRcdFx0JGJ1dHRvbi5hdHRyKCAnZGlzYWJsZWQnLCB0cnVlICk7XG5cdFx0XHQkYnV0dG9uLnRleHQoIG5vdGlmaWNhdGlvbi5pMThuLnN5bmNocm9uaXppbmcgKTtcblxuIFx0XHRcdGRhdGEgPSB7XG5cdFx0XHRcdGFjdGlvbiA6ICdub3RpZmljYXRpb25fc3luYycsXG5cdFx0XHRcdGhhc2ggICA6IGhhc2gsXG5cdFx0XHRcdHR5cGUgICA6IHN5bmNfdHlwZSxcblx0XHRcdFx0bm9uY2UgIDogbm9uY2Vcblx0XHRcdH1cblxuXHRcdFx0JC5wb3N0KCBub3RpZmljYXRpb24uYWpheHVybCwgZGF0YSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdFx0XHRcdGlmICggcmVzcG9uc2Uuc3VjY2VzcyA9PSB0cnVlICkge1xuXG5cdFx0XHRcdFx0dmFyICRub3RpZmljYXRpb25fcm93ID0gJGJ1dHRvbi5wYXJlbnQoKS5wYXJlbnQoKTtcblxuXHRcdFx0XHRcdGlmICggJ3dvcmRwcmVzcycgPT09IHN5bmNfdHlwZSApIHtcblx0XHRcdFx0XHRcdHZhciAkdGl0bGVfdGQgPSAkbm90aWZpY2F0aW9uX3Jvdy5maW5kKCAndGQudGl0bGUnICk7XG5cdFx0XHRcdFx0XHR2YXIgJGxpbmsgICAgID0gJCggJzxhPicsIHtcblx0XHRcdFx0XHRcdFx0XHR0ZXh0IDogJHRpdGxlX3RkLnRleHQoKSxcblx0XHRcdFx0XHRcdFx0XHRocmVmIDogcmVzcG9uc2UuZGF0YVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHQkdGl0bGVfdGQuaHRtbCggJGxpbmsgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQkbm90aWZpY2F0aW9uX3Jvdy5maW5kKCAndGQuc3RhdHVzJyApLnRleHQoIG5vdGlmaWNhdGlvbi5pMThuLnN5bmNocm9uaXplZCApO1xuXHRcdFx0XHRcdCRidXR0b24ucmVtb3ZlKCk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhbGVydCggcmVzcG9uc2UuZGF0YSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0JGJ1dHRvbi5hdHRyKCAnZGlzYWJsZWQnLCBmYWxzZSApO1xuXG5cdFx0XHR9ICk7XG5cbiBcdFx0fSApO1xuXG5cdH0gKTtcblxufSApKGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24oJCkge1xuXG5cdCQoIGRvY3VtZW50ICkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXG5cdFx0JCggJyNub3RpZmljYXRpb25fdHJpZ2dlcl9zZWxlY3QnICkuc2VsZWN0aXplKCB7XG5cdFx0XHRyZW5kZXI6IHtcblx0XHQgICAgICAgIGl0ZW06IGZ1bmN0aW9uKGl0ZW0sIGVzY2FwZSkge1xuXHRcdCAgICAgICAgICAgIHJldHVybiAnPGRpdj4nICtcblx0XHQgICAgICAgICAgICBcdGl0ZW0udGV4dC5yZXBsYWNlKC9cXFtcXFsoLiopXFxdXFxdL2csICcnKSArXG5cdFx0ICAgICAgICAgICAgJzwvZGl2Pic7XG5cdFx0ICAgICAgICB9LFxuXHRcdCAgICAgICAgb3B0aW9uOiBmdW5jdGlvbihpdGVtLCBlc2NhcGUpIHtcblx0XHQgICAgICAgICAgICByZXR1cm4gJzxkaXY+JyArXG5cdFx0ICAgICAgICAgICAgXHRpdGVtLnRleHQucmVwbGFjZSgvKC4qKVxcW1xcWyguKilcXF1cXF0vZywgJzxzcGFuIGNsYXNzPVwibGFiZWxcIj4kMTwvc3Bhbj48c3BhbiBjbGFzcz1cImNhcHRpb25cIj4kMjwvc3Bhbj4nKSArXG5cdFx0ICAgICAgICAgICAgJzwvZGl2Pic7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgIH0sXG5cdFx0fSApO1xuXG5cdFx0JCggJyNub3RpZmljYXRpb25fdHJpZ2dlcl9zZWxlY3QnICkuc2VsZWN0aXplKCkuY2hhbmdlKCBmdW5jdGlvbigpIHtcblx0XHRcdG5vdGlmaWNhdGlvbi5ob29rcy5kb0FjdGlvbiggJ25vdGlmaWNhdGlvbi50cmlnZ2VyLmNoYW5nZWQnLCAkKCB0aGlzICkgKTtcblx0XHR9ICk7XG5cblx0fSApO1xuXG59KShqUXVlcnkpO1xuIl19
