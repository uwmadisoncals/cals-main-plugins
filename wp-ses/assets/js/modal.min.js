var wposesModal=function(l){var t={prefix:"wposes",loading:!1,dismissible:!0},p={};function r(o){return o.replace(/[^a-z]/g,"")}return t.exists=function(o){var e=r(o);return void 0!==p[e]||!!l(o).length},t.open=function(o,e,s){var a=r(o);l("body").append('<div id="wposes-overlay"></div>');var d=l("#wposes-overlay");t.dismissible?d.append('<div id="wposes-modal"><span class="close-wposes-modal">Ã—</span></div>'):d.append('<div id="wposes-modal"></div>');var i=l("#wposes-modal");if(void 0===p[a]){var n=l(o);p[a]=n.clone(!0).css("display","block"),n.remove()}i.data("wposes-modal-target",o).append(p[a]),void 0!==s&&i.addClass(s),"function"==typeof e&&e(o),l("body").addClass("wposes-modal-open"),i.css("display","table"),d.fadeIn(150),i.fadeIn(150),l("body").trigger("wposes-modal-open",[o])},t.close=function(o){if(!t.loading&&t.dismissible){var e=l("#wposes-modal").data("wposes-modal-target");l("#wposes-overlay").fadeOut(150,function(){l("body").removeClass("wposes-modal-open"),l(this).remove(),"function"==typeof o&&o(e)}),l("body").trigger("wposes-modal-close",[e])}},t.setLoadingState=function(o){t.loading=o},t.setDismissibleState=function(o){t.dismissible=o},l(document).ready(function(){l("body").on("click","[data-wposes-modal]",function(o){o.preventDefault(),t.open(l(this).data("wposes-modal")+"."+t.prefix)}),l("body").on("click",".wposes-modal-cancel, .close-wposes-modal",function(o){o.preventDefault(),t.close()})}),t}(jQuery);