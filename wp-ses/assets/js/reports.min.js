!function(r){var n={init:function(){var a;r("#tab-reports .tablenav-pages a, #tab-reports .manage-column.sortable a, #tab-reports .manage-column.sorted a").on("click",function(t){t.preventDefault();var e=this.search.substring(1),a={paged:n.__query(e,"paged")||"1",order:n.__query(e,"order")||"desc",orderby:n.__query(e,"orderby")||"emails_sent"};n.update(a)}),r("input[name=paged]").on("keyup",function(t){13===t.which&&t.preventDefault();var e={paged:parseInt(r("input[name=paged]").val())||"1",order:r("input[name=order]").val()||"asc",orderby:r("input[name=orderby]").val()||"title"};window.clearTimeout(a),a=window.setTimeout(function(){n.update(e)},500)})},update:function(t){r.ajax({url:ajaxurl,data:r.extend({wposes_reports_nonce:r("#wposes_reports_nonce").val(),action:"wposes_reports_table"},t),success:function(t){var e=r.parseJSON(t);e.rows.length&&r("#tab-reports #the-list").html(e.rows),e.column_headers.length&&r("#tab-reports .wp-list-table thead tr, #tab-reports .wp-list-table tfoot tr").html(e.column_headers),e.pagination.bottom.length&&r("#tab-reports .tablenav.top .tablenav-pages").html(r(e.pagination.top).html()),e.pagination.top.length&&r("#tab-reports .tablenav.bottom .tablenav-pages").html(r(e.pagination.bottom).html()),n.init()}})},__query:function(t,e){for(var a=t.split("&"),r=0;r<a.length;r++){var n=a[r].split("=");if(n[0]===e)return n[1]}return!1}},t=r("#wposes-reports-from").datepicker({changeMonth:!0,numberOfMonths:1}),e=r("#wposes-reports-to").datepicker({changeMonth:!0,numberOfMonths:1,maxDate:0});function a(t){var e,a=r.datepicker._defaults.dateFormat;try{e=r.datepicker.parseDate(a,t.value)}catch(t){e=null}return e}function o(){return{search:r("#wposes-reports-search-search-input").val(),from:r("#wposes-reports-from").val(),to:r("#wposes-reports-to").val()}}r(document).ready(function(){n.init(),t.on("change",function(){e.datepicker("option","minDate",a(this)),n.update(o())}),e.on("change",function(){t.datepicker("option","maxDate",a(this)),n.update(o())}),r("#wposes-reports-form").on("submit",function(t){t.preventDefault(),n.update(o())})})}(jQuery);