var wppaDebug,wppaJsUtilsVersion="6.9.04";function wppaTrim(e,t){return wppaTrimRight(wppaTrimLeft(e,t),t)}function wppaTrimLeft(e,t){var r,a,o,n,s,i,l;switch(typeof t){case"string":for(a=(r=e).length,o=t.length;o<=a&&r.substr(0,o)==t;)a=(r=r.substr(o)).length;break;case"object":for(s=!1,l=e;!s;){for(n=0,i=l;n<t.length;)l=wppaTrimLeft(l,t[n]),n++;s=i==l}r=l;break;default:return e.replace(/^\s\s*/,"")}return r}function wppaTrimRight(e,t){var r,a,o,n,s,i,l;switch(typeof t){case"string":for(a=(r=e).length,o=t.length;o<=a&&r.substr(a-o)==t;)a=(r=r.substr(0,a-o)).length;break;case"object":for(s=!1,l=e;!s;){for(n=0,i=l;n<t.length;)l=wppaTrimRight(l,t[n]),n++;s=i==l}r=l;break;default:return e.replace(/\s\s*$/,"")}return r}function wppa_setCookie(e,t,r){var a=new Date;a.setDate(a.getDate()+r);var o=escape(t)+(null==r?"":"; expires="+a.toUTCString());document.cookie=e+"="+o}function wppa_getCookie(e){var t,r,a,o=document.cookie.split(";");for(t=0;t<o.length;t++)if(r=o[t].substr(0,o[t].indexOf("=")),a=o[t].substr(o[t].indexOf("=")+1),(r=r.replace(/^\s+|\s+$/g,""))==e)return unescape(a);return""}function wppaStereoTypeChange(e){wppa_setCookie("stereotype",e,365)}function wppaStereoGlassChange(e){wppa_setCookie("stereoglass",e,365)}function wppaConsoleLog(e,t){if("undefined"!=typeof console&&(wppaDebug||"force"==t)){var r=(new Date).getTime()%864e5,a=Math.floor(r/36e5);r-=60*a*60*1e3;var o=Math.floor(r/6e4);r-=60*o*1e3;var n=Math.floor(r/1e3);r-=1e3*n,console.log("At: "+a+":"+o+":"+n+"."+r+" message: "+e)}}function wppaConvertScriptToShortcode(e,t){var r,a,o,n,s,l,p,c,u,g;if("string"!=typeof(r=jQuery("#"+e).val())||0==r.length)return jQuery("#"+t).val("No script found"),void jQuery("#"+t).css("color","red");if(workarr=r.split("%%"),"wppa"!=workarr[1]||workarr.length<3)return jQuery("#"+t).val("No %%wppa%% found"),void jQuery("#"+t).css("color","red");for(i=3;i<workarr.length;i+=2)if(o=(a=workarr[i].split("="))[0],n=a[1],o&&n)switch(o){case"size":c=n;break;case"align":u=n;break;case"photo":case"mphoto":case"slphoto":s=o,p=n;break;case"album":case"cover":case"slide":case"slideonly":case"slideonlyf":case"slidef":s=o,l=n;break;default:return jQuery("#"+t).val('Token "'+workarr[i]+'" not recognized'),void jQuery("#"+t).css("color","red")}g="[wppa",s&&0<s.length&&(g+=' type="'+s+'"'),l&&0<l.length&&(g+=' album="'+l+'"'),p&&0<p.length&&(g+=' photo="'+p+'"'),c&&0<c.length&&(g+=' size="'+c+'"'),u&&0<u.length&&(g+=' align="'+u+'"'),g+="][/wppa]",jQuery("#"+t).val(g),jQuery("#"+t).css("color","green"),document.getElementById(t).focus(),document.getElementById(t).select()}function wppaSvgHtml(e,t,r,a,o,n,s,i){var l,p,c;switch(o||(o="0"),n||(n="10"),s||(s="20"),i||(i="50"),wppaSvgCornerStyle){case"gif":case"none":radius=o;break;case"light":radius=n;break;case"medium":radius=s;break;case"heavy":radius=i}t||(t="32px"),r?(l=wppaOvlSvgFillcolor,p=wppaOvlSvgBgcolor):(l=wppaSvgFillcolor,p=wppaSvgBgcolor),c=wppaUseSvg?wppaImageDirectory+e+".svg":wppaImageDirectory+e+".png";if(wppaUseSvg&&"-1"!=jQuery.inArray(e,["Next-Button","Prev-Button","Backward-Button","Forward-Button","Pause-Button","Play-Button","Stop-Button","Eagle-1","Snail","Exit","Full-Screen","Exit-Full-Screen","Content-View"])){var u='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 30 30" style="enable-background:new 0 0 30 30;'+(t?"height:"+t+";":"")+"fill:"+l+";background-color:"+p+";text-decoration:none !important;vertical-align:middle;"+(radius?"border-radius:"+radius+"%;":"")+(a?"border:2px solid "+p+";box-sizing:border-box;":"")+'" xml:space="preserve" ><g>';switch(e){case"Next-Button":u+='<path d="M30,0H0V30H30V0z M20,20.5c0,0.3-0.2,0.5-0.5,0.5S19,20.8,19,20.5v-4.2l-8.3,4.6c-0.1,0-0.2,0.1-0.2,0.1c-0.1,0-0.2,0-0.3-0.1c-0.2-0.1-0.2-0.3-0.2-0.4v-11c0-0.2,0.1-0.4,0.3-0.4c0.2-0.1,0.4-0.1,0.5,0l8.2,5.5V9.5C19,9.2,19.2,9,19.5,9S20,9.2,20,9.5V20.5z" />';break;case"Prev-Button":u+='<path d="M30,0H0V30H30V0z M20,20.5c0,0.2-0.1,0.4-0.3,0.4c-0.1,0-0.2,0.1-0.2,0.1c-0.1,0-0.2,0-0.3-0.1L11,15.4v5.1c0,0.3-0.2,0.5-0.5,0.5S10,20.8,10,20.5v-11C10,9.2,10.2,9,10.5,9S11,9.2,11,9.5v4.2l8.3-4.6c0.2-0.1,0.3-0.1,0.5,0S20,9.3,20,9.5V20.5z" />';break;case"Pause-Button":u+='<path d="M30,0H0V30H30V0z M14,20.5c0,0.3-0.2,0.5-0.5,0.5h-4C9.2,21,9,20.8,9,20.5v-11C9,9.2,9.2,9,9.5,9h4C13.8,9,14,9.2,14,9.5V20.5z M21,20.5c0,0.3-0.2,0.5-0.5,0.5h-4c-0.3,0-0.5-0.2-0.5-0.5v-11C16,9.2,16.2,9,16.5,9h4C20.8,9,21,9.2,21,9.5V20.5z" />';break;case"Play-Button":u+='<path d="M30,0H0V30H30V0zM19.8,14.9l-8,5C11.7,20,11.6,20,11.5,20c-0.1,0-0.2,0-0.2-0.1c-0.2-0.1-0.3-0.3-0.3-0.4v-9c0-0.2,0.1-0.3,0.2-0.4c0.1-0.1,0.3-0.1,0.5,0l8,4c0.2,0.1,0.3,0.2,0.3,0.4C20,14.7,19.9,14.8,19.8,14.9z" />';break;case"Stop-Button":u+='<path d="M30,0H0V30H30V0z M21,20.5c0,0.3-0.2,0.5-0.5,0.5h-11C9.2,21,9,20.8,9,20.5v-11C9,9.2,9.2,9,9.5,9h11C20.8,9,21,9.2,21,9.5V20.5z"/>';break;case"Exit":u+='<path d="M30 24.398l-8.406-8.398 8.406-8.398-5.602-5.602-8.398 8.402-8.402-8.402-5.598 5.602 8.398 8.398-8.398 8.398 5.598 5.602 8.402-8.402 8.398 8.402z"></path>';break;case"Full-Screen":u+='<path d="M27.414 24.586l-4.586-4.586-2.828 2.828 4.586 4.586-4.586 4.586h12v-12zM12 0h-12v12l4.586-4.586 4.543 4.539 2.828-2.828-4.543-4.539zM12 22.828l-2.828-2.828-4.586 4.586-4.586-4.586v12h12l-4.586-4.586zM32 0h-12l4.586 4.586-4.543 4.539 2.828 2.828 4.543-4.539 4.586 4.586z"></path>';break;case"Exit-Full-Screen":u+='<path d="M24.586 27.414l4.586 4.586 2.828-2.828-4.586-4.586 4.586-4.586h-12v12zM0 12h12v-12l-4.586 4.586-4.539-4.543-2.828 2.828 4.539 4.543zM0 29.172l2.828 2.828 4.586-4.586 4.586 4.586v-12h-12l4.586 4.586zM20 12h12l-4.586-4.586 4.547-4.543-2.828-2.828-4.547 4.543-4.586-4.586z"></path>';break;default:alert("Native svg "+e+" not implemented")}u+="</g></svg>"}else u='<img src="'+c+'"'+(wppaUseSvg?' class="wppa-svg"':"")+' style="height:'+t+";fill:"+l+";background-color:"+p+";"+(radius?"border-radius:"+radius+"%;":"")+(a?"border:2px solid "+p+";box-sizing:border-box;":"")+(wppaUseSvg?"display:none;":"")+'text-decoration:none !important;vertical-align:middle;" />';return u}function wppaMakeLazyVisible(){var e;jQuery(".wppa-lazy").each(function(){e=jQuery(this).attr("data-src"),wppaLazyLoad&&!wppaIsElementInViewport(this)||(jQuery(this).attr("src",e),jQuery(this).removeAttr("data-src"),jQuery(this).removeClass("wppa-lazy"))})}function wppaIsElementInViewport(e){var t,r=e.getBoundingClientRect();return r?(t=0<r.bottom&&0<r.right&&r.left<jQuery(window).width()&&r.top<jQuery(window).height(),wppaConsoleLog("getBoundingClientRect() for "+jQuery(e).attr("id")+" returned (tlbr) "+parseInt(r.top)+" "+parseInt(r.left)+" "+parseInt(r.bottom)+" "+parseInt(r.right)+" result="+(t?"true":"false"))):(t=!1,wppaConsoleLog("getBoundingClientRect() not found for "+jQuery(e).attr("id"))),t}jQuery(window).on("DOMContentLoaded load resize scroll",wppaMakeLazyVisible),wppaConsoleLog("wppa-utils.js version "+wppaJsUtilsVersion+" loaded.","force");